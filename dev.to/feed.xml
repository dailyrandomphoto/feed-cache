<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
  <channel>
    <title>DEV Community</title>
    <author>DEV Community</author>
    <description>A constructive and inclusive social network for software developers. With you every step of your journey.</description>
    <link>https://dev.to</link>
    <language>en</language>
    <item>
      <title>PostgreSQL Uzak Baƒülantƒ± A√ßma</title>
      <author>Ali Orhun Akkirman</author>
      <pubDate>Mon, 24 Jan 2022 04:25:04 +0000</pubDate>
      <link>https://dev.to/aciklab/postgresql-uzak-baglanti-acma-3dpj</link>
      <guid>https://dev.to/aciklab/postgresql-uzak-baglanti-acma-3dpj</guid>
      <description>&lt;p&gt;PostgreSQL sunucusu varsayƒ±lan ayarlarla kurulduƒüunda uzaktan baƒülantƒ±ya kapalƒ± olarak kurulmaktadƒ±r. Sadece kendisi √ºzerinden localhost(127.0.0.1) √ºzerinden 5432 portundan haberle≈üebilmektedir. Bunu t√ºm aƒülar √ºzerinden veya spesifik aƒülar √ºzerinden eri≈üilecek ≈üekilde a√ßabilirsiniz. &lt;/p&gt;

&lt;h1&gt;
  &lt;a href="#uzak-eri%C5%9Fime-izin-verilmesi"&gt;
  &lt;/a&gt;
  Uzak eri≈üime izin verilmesi
&lt;/h1&gt;

&lt;p&gt;Uzaktan baƒülantƒ±ya izin verilmesi i√ßin, &lt;strong&gt;/etc/postgresql/14/main/pg_hba.conf&lt;/strong&gt; dosyasƒ± i√ßinde a≈üaƒüƒ±daki satƒ±r d√ºzenlenmesi gerekiyor: (normalde ba≈üƒ±nda diyez var i√ßinde de localhost yazƒ±yor)&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;listen_addresses = '*'
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;h1&gt;
  &lt;a href="#uzak-eri%C5%9Fim-ip-veya-a%C4%9F-belirlenmesi"&gt;
  &lt;/a&gt;
  Uzak eri≈üim IP veya aƒü belirlenmesi
&lt;/h1&gt;

&lt;p&gt;Uzaktan baƒülantƒ± saƒülayacak IP adresi veya IP adreslerinin bulunduƒüu aƒü i√ßin &lt;strong&gt;/etc/postgresql/14/main/postgresql.conf&lt;/strong&gt; dosyasƒ±nƒ±n en alt satƒ±rlarƒ±nda bir yere a≈üaƒüƒ±daki satƒ±r eklenmeli.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;host all all 0.0.0.0/0 md5
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;Bu satƒ±r eklendiƒüinde t√ºm aƒülardan eri≈üim saƒülanabileceƒüi gibi, g√ºvenlik olarak sadece istenilen IP adresi veya aƒü adresi yazƒ±lmasƒ± daha uygun olacaktƒ±r.&lt;/p&gt;

&lt;p&gt;T√ºm i≈ülemler sonucunda postgresql servisini yeniden ba≈ülatmak yetecektir.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;sudo systemctl restart postgresql
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;Bu adƒ±mla birlikte uzaktaki herhangi bir SQL istemcisinden PostgreSQL sunucusuna sorgu atƒ±labilmektedir.&lt;/p&gt;

</description>
      <category>postgres</category>
      <category>remote</category>
    </item>
    <item>
      <title>Enforcing compliance with AWS CDK Aspects</title>
      <author>Wojciech Matuszewski</author>
      <pubDate>Mon, 24 Jan 2022 03:39:08 +0000</pubDate>
      <link>https://dev.to/aws-builders/enforcing-compliance-with-aws-cdk-aspects-1goo</link>
      <guid>https://dev.to/aws-builders/enforcing-compliance-with-aws-cdk-aspects-1goo</guid>
      <description>&lt;p&gt;Getting the security right in applications is tricky. Most developers did not undergo professional security training and are not adept in such topics. At least I know I'm not.&lt;/p&gt;

&lt;p&gt;Luckily, multiple tools can help us achieve a relatively good security posture. &lt;a href="https://snyk.io/"&gt;&lt;em&gt;Snyk&lt;/em&gt;&lt;/a&gt;, &lt;a href="https://codeql.github.com/"&gt;&lt;em&gt;CodeQL&lt;/em&gt;&lt;/a&gt; and &lt;a href="https://www.gitguardian.com/"&gt;&lt;em&gt;GitGuardian&lt;/em&gt;&lt;/a&gt; are good examples.&lt;/p&gt;

&lt;p&gt;In some cases, even a deployment framework can be helpful. This blog post will expand on this topic, looking at how a particular feature of &lt;em&gt;AWS CDK&lt;/em&gt; can help us enforce compliance of various resources we deploy to AWS.&lt;/p&gt;

&lt;p&gt;Enter &lt;em&gt;AWS CDK&lt;/em&gt; Aspects.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;The code this blog post is based on lives in &lt;a href="https://github.com/WojciechMatuszewski/compliance-aws-cdk-aspects"&gt;this GitHub repository&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2&gt;
  &lt;a href="#what-are-aws-cdk-aspects"&gt;
  &lt;/a&gt;
  What are AWS CDK Aspects
&lt;/h2&gt;

&lt;p&gt;&lt;em&gt;AWS CDK&lt;/em&gt; Aspects is a feature of the &lt;em&gt;AWS CDK&lt;/em&gt; framework that allows you to perform various operations on each &lt;em&gt;node&lt;/em&gt; of the &lt;a href="https://docs.aws.amazon.com/cdk/v2/guide/constructs.html#constructs_tree"&gt;&lt;em&gt;AWS CDK Construct tree&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Note that the Aspects code is invoked at the &lt;a href="https://docs.aws.amazon.com/cdk/v2/guide/apps.html#lifecycle"&gt;&lt;em&gt;prepare phase&lt;/em&gt;&lt;/a&gt; of &lt;em&gt;AWS CDK&lt;/em&gt; application lifecycle.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--BACQcKhK--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/hacw3cnkm05wi3bqdy7f.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--BACQcKhK--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/hacw3cnkm05wi3bqdy7f.png" alt="AWS CDK Aspects and the Construct tree" width="880" height="623"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Imagine a scenario where you have to ensure that every &lt;em&gt;AWS S3&lt;/em&gt; bucket in the &lt;em&gt;AWS CDK&lt;/em&gt; application you maintain has the &lt;code&gt;BucketEncryption&lt;/code&gt; property specified according to your organization's needs.&lt;/p&gt;

&lt;p&gt;Instead of going bucket by bucket and applying the correct value for the &lt;code&gt;BucketEncryption&lt;/code&gt; property, one might use &lt;em&gt;AWS CDK Aspects&lt;/em&gt; to programmatically set this property for all buckets deployed by the application.&lt;/p&gt;

&lt;p&gt;With a basic overview of Aspects behind us, let us look at examples next.&lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#practical-examples"&gt;
  &lt;/a&gt;
  Practical examples
&lt;/h2&gt;

&lt;p&gt;What follows is a series of examples showcasing the usefulness of &lt;em&gt;AWS CDK&lt;/em&gt; Aspects.&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#enforcing-aws-s3-bucket-encryption"&gt;
  &lt;/a&gt;
  Enforcing AWS S3 bucket encryption
&lt;/h3&gt;

&lt;p&gt;&lt;a href="https://aws.amazon.com/s3/"&gt;&lt;em&gt;AWS S3&lt;/em&gt;&lt;/a&gt; is an excellent service. Sadly, when misconfigured, it can be a source of a data breach. There are many stories out there regarding publicly accessible &lt;em&gt;AWS S3&lt;/em&gt; buckets with plain-text files that hold important data.&lt;/p&gt;

&lt;p&gt;Thankfully, with &lt;em&gt;AWS CDK&lt;/em&gt; Aspects, it is possible to &lt;strong&gt;reduce&lt;/strong&gt; the human error factor regarding &lt;em&gt;AWS S3&lt;/em&gt; bucket configuration. The following is an example of ensuring that all the buckets within a &lt;code&gt;Stack&lt;/code&gt; have &lt;code&gt;BucketEncryption&lt;/code&gt; specified.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight typescript"&gt;&lt;code&gt;&lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="nx"&gt;Aspects&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;aws_s3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;IAspect&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;Stack&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;StackProps&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;App&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;aws-cdk-lib&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="nx"&gt;Construct&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;IConstruct&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;constructs&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;export&lt;/span&gt; &lt;span class="kd"&gt;class&lt;/span&gt; &lt;span class="nx"&gt;UnencryptedBucket&lt;/span&gt; &lt;span class="kd"&gt;extends&lt;/span&gt; &lt;span class="nx"&gt;Construct&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="kd"&gt;constructor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;scope&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nx"&gt;Construct&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;id&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kr"&gt;string&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;super&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;scope&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;id&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;unencryptedBucket&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nx"&gt;aws_s3&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;Bucket&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;UnencryptedBucket&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="cm"&gt;/**
       * Per documentation: `Kms` if `encryptionKey` is specified, or `Unencrypted` otherwise.
       * The `undefined` is added for the sake of the example.
       */&lt;/span&gt;
      &lt;span class="na"&gt;encryption&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kc"&gt;undefined&lt;/span&gt;
    &lt;span class="p"&gt;});&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="kd"&gt;class&lt;/span&gt; &lt;span class="nx"&gt;BucketEncryptionChecker&lt;/span&gt; &lt;span class="k"&gt;implements&lt;/span&gt; &lt;span class="nx"&gt;IAspect&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="nx"&gt;visit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;node&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nx"&gt;IConstruct&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt; &lt;span class="k"&gt;void&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;node&lt;/span&gt; &lt;span class="k"&gt;instanceof&lt;/span&gt; &lt;span class="nx"&gt;aws_s3&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;CfnBucket&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="cm"&gt;/**
       * Feel free to be more specific in terms of conditions in your code.
       */&lt;/span&gt;
      &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="nx"&gt;node&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;bucketEncryption&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;throw&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nb"&gt;Error&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;`bucketEncryption` must be specified.&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
      &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="kd"&gt;class&lt;/span&gt; &lt;span class="nx"&gt;BucketStack&lt;/span&gt; &lt;span class="kd"&gt;extends&lt;/span&gt; &lt;span class="nx"&gt;Stack&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="kd"&gt;constructor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;scope&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nx"&gt;Construct&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;id&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kr"&gt;string&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;props&lt;/span&gt;&lt;span class="p"&gt;?:&lt;/span&gt; &lt;span class="nx"&gt;StackProps&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;super&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;scope&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;props&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nx"&gt;UnencryptedBucket&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;UnencryptedBucket&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;app&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nx"&gt;App&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;bucketStack&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nx"&gt;BucketStack&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;app&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;BucketStack&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="nx"&gt;Aspects&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="k"&gt;of&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;bucketStack&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nx"&gt;BucketEncryptionChecker&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;h3&gt;
  &lt;a href="#variable-deletionpolicy"&gt;
  &lt;/a&gt;
  Variable DeletionPolicy
&lt;/h3&gt;

&lt;p&gt;The &lt;a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-deletionpolicy.html"&gt;&lt;code&gt;DeletionPolicy&lt;/code&gt; attribute&lt;/a&gt; instructs &lt;a href="https://aws.amazon.com/cloudformation/"&gt;&lt;em&gt;AWS CloudFormation&lt;/em&gt;&lt;/a&gt; what should happen to the resource when &lt;em&gt;AWS CloudFormation&lt;/em&gt; applies the "DELETE" action to that resource.&lt;/p&gt;

&lt;p&gt;Imagine a scenario where someone removes the definition of a database from the template and pushes that &lt;em&gt;Change Set&lt;/em&gt; to &lt;em&gt;AWS CloudFormation&lt;/em&gt; ‚Äì without the &lt;code&gt;DeletionPolicy&lt;/code&gt; specified to &lt;code&gt;Retain&lt;/code&gt;, &lt;em&gt;AWS CloudFormation&lt;/em&gt; delete the resource and all the data along with it!&lt;/p&gt;

&lt;p&gt;Conversely, imagine deploying &lt;em&gt;emphermal stacks&lt;/em&gt; onto your development-only AWS account. You, most likely, would want all the resources gone whenever the stack is deleted ‚Äì in such scenarios having the &lt;code&gt;DeletionPolicy&lt;/code&gt; as &lt;code&gt;Delete&lt;/code&gt; &lt;strong&gt;might&lt;/strong&gt; be a wiser choice.&lt;/p&gt;

&lt;p&gt;The following is an example of using &lt;em&gt;AWS CDK&lt;/em&gt; Aspects to specify the &lt;code&gt;DeletionPolicy&lt;/code&gt; to &lt;code&gt;Delete&lt;/code&gt; for all resources when deploying the stack in a dev-only environment and to &lt;code&gt;Retain&lt;/code&gt; when deploying to a production environment.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight typescript"&gt;&lt;code&gt;&lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="nx"&gt;App&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="nx"&gt;Aspects&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="nx"&gt;CfnResource&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="nx"&gt;IAspect&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="nx"&gt;RemovalPolicy&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="nx"&gt;Stack&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="nx"&gt;StackProps&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;aws-cdk-lib&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="nx"&gt;Construct&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;IConstruct&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;from&lt;/span&gt; &lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;constructs&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;export&lt;/span&gt; &lt;span class="kd"&gt;class&lt;/span&gt; &lt;span class="nx"&gt;DeletionPolicySetter&lt;/span&gt; &lt;span class="k"&gt;implements&lt;/span&gt; &lt;span class="nx"&gt;IAspect&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="kd"&gt;constructor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;private&lt;/span&gt; &lt;span class="k"&gt;readonly&lt;/span&gt; &lt;span class="nx"&gt;policy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nx"&gt;RemovalPolicy&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;
  &lt;span class="nx"&gt;visit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;node&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nx"&gt;IConstruct&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt; &lt;span class="k"&gt;void&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="cm"&gt;/**
     * Nothing stops you from adding more conditions here.
     */&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;node&lt;/span&gt; &lt;span class="k"&gt;instanceof&lt;/span&gt; &lt;span class="nx"&gt;CfnResource&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="nx"&gt;node&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;applyRemovalPolicy&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;policy&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="kd"&gt;class&lt;/span&gt; &lt;span class="nx"&gt;MyStack&lt;/span&gt; &lt;span class="kd"&gt;extends&lt;/span&gt; &lt;span class="nx"&gt;Stack&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="kd"&gt;constructor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;scope&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nx"&gt;Construct&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;id&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kr"&gt;string&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;props&lt;/span&gt;&lt;span class="p"&gt;?:&lt;/span&gt; &lt;span class="nx"&gt;StackProps&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;super&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;scope&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;props&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="cm"&gt;/**
     * Your code...
     */&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;app&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nx"&gt;App&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;myStack&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nx"&gt;MyStack&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;app&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;MyStack&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;removalPolicy&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;
  &lt;span class="nx"&gt;process&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;env&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;DEPLOYMENT_ENV&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;DEV&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;
    &lt;span class="p"&gt;?&lt;/span&gt; &lt;span class="nx"&gt;RemovalPolicy&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;DESTROY&lt;/span&gt;
    &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nx"&gt;RemovalPolicy&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;RETAIN&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="nx"&gt;Aspects&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="k"&gt;of&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;myStack&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nx"&gt;DeletionPolicySetter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;removalPolicy&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;Please be extra careful here. While, &lt;strong&gt;to my best knowledge&lt;/strong&gt;, the change in the &lt;code&gt;DeletionPolicy&lt;/code&gt; is an &lt;a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html"&gt;"Update with No Interruption"&lt;/a&gt; the worst thing to do is to forget about setting the &lt;code&gt;DeletionPolicy&lt;/code&gt; to &lt;code&gt;Delete&lt;/code&gt; on resources holding production data.&lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#closing-words"&gt;
  &lt;/a&gt;
  Closing words
&lt;/h2&gt;

&lt;p&gt;I hope that you found the examples helpful. I've been using Aspects in my personal projects for a while now, and I found them very useful.&lt;br&gt;
Found some neat use-case for Aspects? Please share it! I'm always keen on learning new things from the community.&lt;/p&gt;

&lt;p&gt;For more &lt;em&gt;AWS CDK&lt;/em&gt; and serverless content, consider following me on Twitter - &lt;a href="https://twitter.com/wm_matuszewski"&gt;@wm_matuszewski&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thank you for your valuable time.&lt;/p&gt;

</description>
      <category>aws</category>
      <category>cdk</category>
      <category>serverless</category>
      <category>security</category>
    </item>
    <item>
      <title>How to Leverage Being an Introvert for Better Content Creation</title>
      <author>Sumudu Siriwardana</author>
      <pubDate>Mon, 24 Jan 2022 02:54:01 +0000</pubDate>
      <link>https://dev.to/sumusiriwardana/how-to-leverage-being-an-introvert-for-better-content-creation-3mnm</link>
      <guid>https://dev.to/sumusiriwardana/how-to-leverage-being-an-introvert-for-better-content-creation-3mnm</guid>
      <description>&lt;blockquote&gt;
&lt;p&gt;‚ÄúIntroverts don‚Äôt shout at the world, they listen!‚Äù&lt;br&gt;
-Jayne Thompson.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The day I learned the word ‚Äúintrovert‚Äù, I finally understood myself completely. I had spent my entire day reading, researching, and taking every test on introversion. Finally, I understood why I don't fit in with most of my friends, why I enjoy my own company most of the time, and there is nothing wrong with me. &lt;/p&gt;

&lt;p&gt;I grew up in a "culture of personality" where everything is designed to cater to extroverts. For example, we were always encouraged and rewarded for working together, speaking up, or asking questions in schools. Likewise, we were promoted and rewarded for marketing ourselves with outgoing personalities at workplaces. Sometimes, we had to pretend to be extroverts in order to fit into the system. &lt;/p&gt;

&lt;p&gt;Technology and this digital age have empowered introverts to thrive and connect with everyone on their own terms. This is becoming a golden age for us to connect, share, and help others with different communication options while living in our own quiet mind, choosing our own terms. This is why introverts are thriving in content creation. The unique characteristics of introversion help us capture our audience with authentic and insightful content.&lt;/p&gt;

&lt;p&gt;I recently had a very interesting session with &lt;a href="https://twitter.com/FrancescoCiull4"&gt;Francesco Ciulla&lt;/a&gt; about &lt;a href="https://www.youtube.com/watch?v=zUwB_imVjmg"&gt;introverts and content creations&lt;/a&gt;. During this session, one of the questions that came up was, &lt;strong&gt;being an introvert makes us better at content creation or not&lt;/strong&gt;. So let's dive into some of the unique strengths that help introverts excel in content creation.&lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#introverts-are-good-listeners"&gt;
  &lt;/a&gt;
  Introverts are good listeners
&lt;/h2&gt;

&lt;p&gt;We introverts always prefer to listen more than talk. We only voice our opinion when it's necessary. But, unfortunately, most of the time, most people never truly listen anymore. Instead, they wait to react immediately or voice their opinion. &lt;/p&gt;

&lt;p&gt;When we listen to our audience deeply, we can genuinely understand their needs and problems. As a result, we'll be more empathetic and closer to their minds. This helps us customize our content with different perspectives providing multiple solutions for their problems. &lt;/p&gt;

&lt;p&gt;The same way you listen in real life, start listening to conversations on the internet. Find the social media platforms, forums, content platforms where your relevant topics are popular and observe the discussions. This could be Twitter, Reddit, Instagram, TikTok, or any other platform that you frequently visit. And use your superpowers of listening and observing skills to notice the things that others might not notice. &lt;/p&gt;

&lt;p&gt;Once you patiently listen and understand each perspective, you can develop a solution for these problems and share. When your audience realizes that you listen to them and provide solutions for their problems, they start trusting you. &lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#introverts-get-straight-to-the-point"&gt;
  &lt;/a&gt;
  Introverts get straight to the point
&lt;/h2&gt;

&lt;p&gt;We introverts hate small talk so much and unnecessary details. So we always find ways to authentically communicate and hold attention throughout the stories that we share. &lt;/p&gt;

&lt;p&gt;In today's world, everyone has a very short attention span. Reading through long paragraphs or listing to endless details will quickly discourage someone from reading our articles or listening to our podcasts. &lt;/p&gt;

&lt;p&gt;Use this superpower to structure your content with creative yet straightforward language that your audience will not have to spend much time to get to the important points and a summary of your message that you want to communicate. &lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#introverts-love-helping-others"&gt;
  &lt;/a&gt;
  Introverts love helping others
&lt;/h2&gt;

&lt;p&gt;Since we are deep listeners and more empathetic, we tend to help others. This makes us want to share our knowledge with others and help them genuinely. &lt;/p&gt;

&lt;p&gt;Professionally or personally, you can create authentic and valuable content for your audience to share your knowledge and help them rather than providing redundant content for the sake of content creations. &lt;/p&gt;

&lt;p&gt;For us, it's not about clickbait. It's about the real value that we add to our content to help someone! &lt;/p&gt;

&lt;p&gt;Don't be shy or scared to share your thoughts if you think that you can help someone with even a small word. Your readers will appreciate your support. But think twice whether you are adding real value to your content. If you really want to help, the value matters. &lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#introverts-dont-want-to-be-in-the-spotlight"&gt;
  &lt;/a&gt;
  Introverts don't want to be in the spotlight
&lt;/h2&gt;

&lt;p&gt;As introverts, we never care about being in the spotlight. Instead, we give credit to our teams or shift the attention to our work. &lt;/p&gt;

&lt;p&gt;So when we create content, we never shift the focus to ourselves. This helps us win the trust of our audience and make them listen to us. &lt;/p&gt;

&lt;p&gt;Be more mindful when you are creating content. Always think about the purpose and the audience when you are creating content. The more you understand your audience and the purpose, the easier it is to shift the focus and truly serve the purpose of their needs. &lt;/p&gt;

&lt;p&gt;If you use storytelling as your content strategy, avoid gold plating and be authentic. Shift the focus of your story for your audience's need rather than highlighting yourself or the product too much. &lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#introverts-take-time-to-react"&gt;
  &lt;/a&gt;
  Introverts take time to react
&lt;/h2&gt;

&lt;p&gt;As introverts, we like to process information before reacting to anything asap. So we usually don't react to any comments fast without processing the data and having a solid answer. This helps us to win our audience's trust in our knowledge. &lt;/p&gt;

&lt;p&gt;Also, this quality is beneficial when dealing with critics and negativity. We can take time to process our feeling and thoughts carefully and decide whether to react or not. &lt;/p&gt;

&lt;p&gt;Introvert or not, sometimes you can be very sensitive, but when you come across negativity and trolls, it's better to avoid engagement and not take it personally. &lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#introverts-enjoy-solitude"&gt;
  &lt;/a&gt;
  Introverts enjoy solitude
&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;Without great solitude, no serious work is possible - Pablo Picasso&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;For us introverts, solitude is the source of our energy and quality work! &lt;/p&gt;

&lt;p&gt;We get our most creative ideas, think deeply, and be our authentic selves when we are alone and away from the noisy world. &lt;/p&gt;

&lt;p&gt;It's important to listen to your readers and understand them, but when you create and present your content, you need to have your own opinion and be authentic to win their trust. &lt;/p&gt;

&lt;p&gt;This means understanding yourself, what you believe in, what you stand for. This is the time we can use to understand ourselves, connect with our minds, and find our authentic voice. &lt;/p&gt;

&lt;p&gt;Dedicate this time in your calendar for deep thinking and content creation so that you will start using this time as a habit. It will help you avoid procrastination and be consistent with your content creations. &lt;/p&gt;

&lt;p&gt;&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--GW14CBsD--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1642940197381/HbOS19JBC.jpeg" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--GW14CBsD--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1642940197381/HbOS19JBC.jpeg" alt="photo-1504805572947-34fad45aed93.jpeg" width="880" height="587"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Photo by &lt;a href="https://unsplash.com/@clarktibbs"&gt;Clark Tibbs&lt;/a&gt; from &lt;a href="https://unsplash.com/photos/oqStl2L5oxI"&gt;Unsplash&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Technology has empowered us introverts and facilitated new communication platforms to thrive with our unique strengths. Now it's time for us to understand our strengths, leverage them to create better content, and thrive as content creators! &lt;/p&gt;

&lt;p&gt;I hope this post helps you understand your own strengths and how to use them to create better content.  If you have any more things to add to these qualities, I would love to hear from you üòä&lt;/p&gt;

&lt;p&gt;Feel free to connect with me on &lt;a href="https://twitter.com/sumusiriwardana"&gt;Twitter&lt;/a&gt; and &lt;a href="https://www.linkedin.com/in/sumudusiriwardana/"&gt;LinkedIn&lt;/a&gt;!&lt;/p&gt;

</description>
      <category>writing</category>
      <category>motivation</category>
    </item>
    <item>
      <title>Build, deploy and host your Node.js-express application for Free with Utopiops</title>
      <author>mohsen</author>
      <pubDate>Mon, 24 Jan 2022 02:27:36 +0000</pubDate>
      <link>https://dev.to/mohsenkamrani/build-deploy-and-host-your-nodejs-express-application-for-free-with-utopiops-14o6</link>
      <guid>https://dev.to/mohsenkamrani/build-deploy-and-host-your-nodejs-express-application-for-free-with-utopiops-14o6</guid>
      <description>&lt;p&gt;As a software developer or a software development team, the most important thing for you is building quality software, shipping it and getting feedback from your customers. &lt;/p&gt;

&lt;p&gt;&lt;a href="https://www.utopiops.com"&gt;Utopiops&lt;/a&gt; (utopiops.com) is a new player in town that aims to solve the problem uniquely by giving you a &lt;strong&gt;complete ecosystem&lt;/strong&gt; that supports you &lt;strong&gt;entire platform&lt;/strong&gt; from build, deployment and hosting your applications to monitoring the platform, incident reports and integrations with issue tracking systems.&lt;/p&gt;

&lt;p&gt;Utopiops also supports Fully-managed and Managed applications. The Fully-managed applications are hosted on Utopiops cloud platform, while Managed applications are hosted on your own cloud accounts.&lt;/p&gt;

&lt;p&gt;In his post I show you how to host your applications using Fully-managed applications on Utopiops for free.&lt;/p&gt;

&lt;p&gt;To do so, I have implemented a simple node application with express framework along with a typical Dockerfile.&lt;/p&gt;

&lt;p&gt;This is how &lt;code&gt;server.js&lt;/code&gt; looks like:&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight javascript"&gt;&lt;code&gt;&lt;span class="dl"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;use strict&lt;/span&gt;&lt;span class="dl"&gt;'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;express&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;require&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="dl"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;express&lt;/span&gt;&lt;span class="dl"&gt;'&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;app&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;express&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;port&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;process&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;env&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;PORT&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="mi"&gt;3000&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="nx"&gt;app&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="kd"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="dl"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;/&lt;/span&gt;&lt;span class="dl"&gt;'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;req&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;res&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="nx"&gt;res&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;send&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="dl"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;Hello Utopiops!&lt;/span&gt;&lt;span class="dl"&gt;'&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;});&lt;/span&gt;

&lt;span class="nx"&gt;app&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;listen&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;port&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="nx"&gt;console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;log&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;`Server is listening on port &lt;/span&gt;&lt;span class="p"&gt;${&lt;/span&gt;&lt;span class="nx"&gt;port&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;`&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;And this is my Dockerfile:&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;FROM node:16

WORKDIR /usr/src/app

COPY package*.json ./

RUN npm ci --only=production

COPY . .

EXPOSE 3000

CMD [ "node", "server.js" ]
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;I also always have &lt;code&gt;.dockerignore&lt;/code&gt; file in my repositories so I avoid bloating my docker images with unnecessary or unwanted files.&lt;/p&gt;

&lt;p&gt;If you're wondering what it does, it just acts similar to gitignore and simply tell you Dockerfile to ignore those files/directories.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;node_modules
README.md
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;You can find all these files in the repository &lt;a href="https://github.com/mkamrani/nodejs-express-deployed-on-utopiops"&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Before we begin the deployment you need to create an account on Utopiops if you already haven't done that before, by registering and verifying your email.&lt;/p&gt;

&lt;p&gt;Now we create a &lt;code&gt;dockerized&lt;/code&gt; application&lt;/p&gt;

&lt;p&gt;&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--nyUGtz5U--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1642989419231/6Sk6sOITL.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--nyUGtz5U--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1642989419231/6Sk6sOITL.png" alt="Screen Shot 2022-01-24 at 12.56.53 pm.png" width="880" height="200"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Then we choose the repository we have stored our code:&lt;/p&gt;

&lt;p&gt;&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--8CwacqGM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1642989612845/-DF8cRdsR.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--8CwacqGM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1642989612845/-DF8cRdsR.png" alt="Screen Shot 2022-01-24 at 1.00.08 pm.png" width="880" height="531"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I'm using Github for this example, but you can also use Gitlab and Bitbucket too.&lt;/p&gt;

&lt;p&gt;Finally just git your application a name, set the git branch, the port your application is listening on, and an endpoint that can be used as health check. Remember that health-check path is just any endpoint that returns a 2xx response to an unauthorized HTTP GET request.&lt;br&gt;
You can also set the environment variables if you like.&lt;/p&gt;

&lt;p&gt;&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--PUbMUD-m--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1642989697441/5W0AMyzlD.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--PUbMUD-m--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1642989697441/5W0AMyzlD.png" alt="Screen Shot 2022-01-24 at 1.01.33 pm.png" width="880" height="519"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Right away the built-in CICD on Utopiops is set up and starts building and deploying your application.&lt;/p&gt;

&lt;p&gt;&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--UdxGnEi1--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1642989870446/7eVGwf2zi.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--UdxGnEi1--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1642989870446/7eVGwf2zi.png" alt="Screen Shot 2022-01-24 at 1.04.24 pm.png" width="880" height="547"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You can see the build logs live as they happen:&lt;/p&gt;

&lt;p&gt;&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--LO5egvaa--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1642989942294/dq7PVObDa.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--LO5egvaa--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1642989942294/dq7PVObDa.png" alt="Screen Shot 2022-01-24 at 1.05.37 pm.png" width="527" height="825"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;And in a just few seconds your application is available (for this example it took 3 seconds to be precise)&lt;/p&gt;

&lt;p&gt;&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--pbOKTXcs--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1642989976254/D5oAqnJsc.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--pbOKTXcs--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1642989976254/D5oAqnJsc.png" alt="Screen Shot 2022-01-24 at 1.06.12 pm.png" width="880" height="252"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Notice that by default HTTPS is provided for you application, just the certificate takes a few minutes to be effective, but guess what! We're working on it to reduce that to few seconds as well.&lt;/p&gt;

&lt;p&gt;&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--l-ZmyafC--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1642990041364/is2VI2MGs.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--l-ZmyafC--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1642990041364/is2VI2MGs.png" alt="Screen Shot 2022-01-24 at 1.07.14 pm.png" width="684" height="102"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Worth mentioning, any time you make a change to your target branch, the new version of your application is built and deployed right away.&lt;/p&gt;




&lt;h2&gt;
  &lt;a href="#final-note"&gt;
  &lt;/a&gt;
  Final note
&lt;/h2&gt;

&lt;p&gt;We're a very young startup with huge goals in our mind. You can be part of the first users who get to know about our features and our journey.&lt;/p&gt;

&lt;p&gt;Please join our family by joining our &lt;a href="https://discord.gg/WEWGuwkWeF"&gt;discord channel&lt;/a&gt;, following us on &lt;a href="https://twitter.com/utopiops"&gt;Twitter&lt;/a&gt;, and using our service. We have a generous hobby plan!&lt;/p&gt;

&lt;p&gt;Please leave a comment if you have any questions or even want to see a private demo!&lt;/p&gt;

</description>
      <category>devops</category>
      <category>cicd</category>
      <category>cloud</category>
      <category>node</category>
    </item>
    <item>
      <title>How to make a link preview ü§©</title>
      <author>YONKEU KWEYA STEVE JUNIOR</author>
      <pubDate>Mon, 24 Jan 2022 01:35:05 +0000</pubDate>
      <link>https://dev.to/yokwejuste/how-to-make-a-link-preview-2fnf</link>
      <guid>https://dev.to/yokwejuste/how-to-make-a-link-preview-2fnf</guid>
      <description>&lt;h2&gt;
  &lt;a href="#introduction"&gt;
  &lt;/a&gt;
  Introduction üòä
&lt;/h2&gt;

&lt;p&gt;Today we are diving into a particularly interesting program. We will be discussing link preview.&lt;/p&gt;

&lt;p&gt;For long ago I've been noticing on some social media and apps a small preview of what awaits us in case we click or decide to follow the link, and others not having anything to preview. This has caused a set of variations on the different aspects of this link preview. Without turning around the boring story, let's go through our program.&lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#what-is-a-link-preview"&gt;
  &lt;/a&gt;
  What is a link preview ü§î
&lt;/h2&gt;

&lt;p&gt;Whenever on social media you add a URL, or when you receive an email message with a URL in the body, you'll see a rich preview that includes a link title, thumbnail image, domain, and description of the link. This is called a link &lt;strong&gt;preview&lt;/strong&gt;. &lt;/p&gt;

&lt;p&gt;Below is a clear example of such.&lt;br&gt;
&lt;/p&gt;
&lt;center&gt;
&lt;br&gt;
&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--fbxPzN8j--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.hashnode.com/res/hashnode/image/upload/v1642981706422/sch3CcsXG.png" alt="Image.png" width="880" height="495"&gt;&lt;br&gt;
&lt;/center&gt;
&lt;h2&gt;
  &lt;a href="#history-of-the-link"&gt;
  &lt;/a&gt;
  History of the linküßì
&lt;/h2&gt;

&lt;p&gt;In 2010, Facebook launched the Open Graph protocol, which is now managed by the Open Web Foundation. The main purpose is easier integration between Facebook and other websites. The Open Graph Protocol allows controlling what information is used when a website is shared. If websites want to use Open Graph Protocol, they need to have Open Graph meta tags in the &lt;code&gt;&amp;lt;head&amp;gt;&lt;/code&gt; part of the website‚Äôs code. Later run some other platforms such as &lt;a href="https://linkedin.com/"&gt;LinkedIn&lt;/a&gt;, &lt;a href="https://twitter.com"&gt;Twitter&lt;/a&gt; gradually started following the idea.&lt;/p&gt;
&lt;h2&gt;
  &lt;a href="#how-is-it-implemented"&gt;
  &lt;/a&gt;
  How is it implemented? ü•≤
&lt;/h2&gt;

&lt;p&gt;For all my fellow HTML programmers and web development newbies not aware of how powerful the &lt;code&gt;&amp;lt;head&amp;gt;&lt;/code&gt; tag together with &lt;code&gt;&amp;lt;meta&amp;gt;&lt;/code&gt; are. &lt;br&gt;
The implementation of our cute link previews is done using this.&lt;/p&gt;

&lt;p&gt;Below are the following Open Graph attributes we'll use in generating a web link preview.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1.&lt;/strong&gt; &lt;strong&gt;Open Graph Title&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;This tag has no restrictions as concerned with the words count works the same as the meta &lt;code&gt;&amp;lt;title&amp;gt;&lt;/code&gt; tag. It allows you to define the content‚Äôs title. If Facebook doesn‚Äôt find the &lt;code&gt;og: title&lt;/code&gt; tag, it uses the meta &lt;code&gt;&amp;lt;title&amp;gt;&lt;/code&gt; instead and for Twitter, we use &lt;code&gt;twitter: title&lt;/code&gt; This tag is very important because &lt;code&gt;&amp;lt;title&amp;gt;&lt;/code&gt; is usually shown in bold.&lt;/p&gt;

&lt;p&gt;Example :&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;&amp;lt;head&amp;gt;
      &amp;lt;meta name="title" 
            content="Yokwejuste's Portfolio"&amp;gt;
           ...
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;&lt;strong&gt;2.&lt;/strong&gt; &lt;strong&gt;Open Graph Description&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;This tag is again similar to the &lt;code&gt;&amp;lt;meta&amp;gt;&lt;/code&gt; tag description. This is where you describe the website‚Äôs content. Similar rules apply to this tag as for the &lt;code&gt;&amp;lt;title&amp;gt;&lt;/code&gt; tag. If a social network robot cannot find the &lt;code&gt;og: description&lt;/code&gt; tag, it uses meta description and there is no limit on the number of characters. In this case, you should use around 200 letters.&lt;/p&gt;

&lt;p&gt;Examples:&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;&amp;lt;head&amp;gt;
      &amp;lt;meta name="description" 
            content="I wanna leave in the open-source way!üòÖ"&amp;gt;
           ...
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;&lt;strong&gt;3.&lt;/strong&gt; &lt;strong&gt;Open Graph Image&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;An image is probably the most eye-catching element in the link preview. You can define an image with the &lt;code&gt;og: image&lt;/code&gt; title. Recommended resolution is 1200 pixels x 627 pixels (1.91/1 ratio) and image size shouldn‚Äôt exceed 5MB.&lt;/p&gt;

&lt;p&gt;Example:&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;&amp;lt;head&amp;gt;
      &amp;lt;meta property="og:image" 
            content="https://avatars.githubusercontent.com/u/71908316?v=4"&amp;gt;
          ...
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;&lt;strong&gt;4.&lt;/strong&gt; &lt;strong&gt;Open Graph Url&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;This tag defines the canonical URL for your page. URL provided is not shown on the Facebook newsfeed, only the domain is visible.&lt;/p&gt;

&lt;p&gt;A complete list of &lt;code&gt;og&lt;/code&gt; tags available can be found on the &lt;a href="https://ogp.me/"&gt;Open Graph website&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Example:&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;&amp;lt;head&amp;gt;
      &amp;lt;meta property="og:url" content="https://go-records.me"&amp;gt;
     ...
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;h2&gt;
  &lt;a href="#other-minor-raw-og-endraw-tags-include-"&gt;
  &lt;/a&gt;
  Other minor &lt;code&gt;og&lt;/code&gt; tags include :
&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;
&lt;code&gt;og: audio&lt;/code&gt;: A URL to an audio file to accompany this object.&lt;/li&gt;
&lt;li&gt;
&lt;code&gt;g: description&lt;/code&gt;: A one to two-sentence description of your object.&lt;/li&gt;
&lt;li&gt;
&lt;code&gt;og: determiner&lt;/code&gt;: The word that appears before this object's title in a sentence. An 
enum of (a, an, the, " ", auto). If auto is chosen, the consumer of your data should 
choose between "a" or "an". Default is " " (blank).&lt;/li&gt;
&lt;li&gt;
&lt;code&gt;og: locale&lt;/code&gt;: The locale these tags are marked up in. Of the format 
language_TERRITORY. Default is en_US.&lt;/li&gt;
&lt;li&gt;`og:locale: alternate: An array of other locales this page is available in.&lt;/li&gt;
&lt;li&gt;
&lt;code&gt;og:site_name&lt;/code&gt;: If your object is part of a larger website, the name should be displayed for the overall site. e.g., "IMDb".
og:video: A URL to a video file that complements this object.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;
  &lt;a href="#conclusion"&gt;
  &lt;/a&gt;
  Conclusion ‚úã
&lt;/h2&gt;

&lt;p&gt;After going through this article for sure you will consider doing a preview for your website or customer's product owner.&lt;/p&gt;

</description>
      <category>opensource</category>
      <category>news</category>
      <category>webdev</category>
      <category>link</category>
    </item>
    <item>
      <title>Question Mark (?) Operators ASAP</title>
      <author>ayubf</author>
      <pubDate>Mon, 24 Jan 2022 00:58:22 +0000</pubDate>
      <link>https://dev.to/ayubf/question-mark-operators-asap-316d</link>
      <guid>https://dev.to/ayubf/question-mark-operators-asap-316d</guid>
      <description>&lt;p&gt;¬†¬†¬†¬†If you've ever used conditionals in your code you've seen &lt;code&gt;if&lt;/code&gt; statements, and if you've seen &lt;code&gt;if&lt;/code&gt; statements you've seen them nested several layers deep. In your personal project this could be simply annoying and cause problems down the road but in production code this can be really problematic. &lt;/p&gt;

&lt;p&gt;¬†¬†¬†¬†The ternary operator, &lt;code&gt;?:&lt;/code&gt;, is one Question Mark operator and a feature in some programming languages that makes conditional statemnts cleanier and easier to read. The basic syntax goes like this:&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight typescript"&gt;&lt;code&gt;&lt;span class="nx"&gt;condition&lt;/span&gt; &lt;span class="p"&gt;?&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="kc"&gt;true&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;In use this would look like this:&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight typescript"&gt;&lt;code&gt;&lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;foo&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;true&lt;/span&gt; &lt;span class="p"&gt;?&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;In this snippet, &lt;code&gt;foo&lt;/code&gt; is 1, since the condition is &lt;code&gt;true&lt;/code&gt;, and &lt;code&gt;true&lt;/code&gt; is (obviously) a truthy value.&lt;/p&gt;

&lt;p&gt;If you're not sure what truthy/falsy values are just think of it this way:&lt;/p&gt;

&lt;p&gt;0, &lt;code&gt;false&lt;/code&gt;, &lt;code&gt;undefined&lt;/code&gt;, &lt;code&gt;NaN&lt;/code&gt;, empty strings, arrays, objects etc are falsy. All other values are truthy.&lt;/p&gt;

&lt;p&gt;If an expressions result is a falsy value then the statement itself is falsy.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight typescript"&gt;&lt;code&gt;&lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;This is a falsy statement, because it returns &lt;code&gt;false&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;In this article I'll teach you how to use Question Mark operators, and their uses in ES2020.&lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#usages"&gt;
  &lt;/a&gt;
  Usages
&lt;/h2&gt;



&lt;h3&gt;
  &lt;a href="#ternary-operator-raw-endraw-"&gt;
  &lt;/a&gt;
  Ternary Operator (&lt;code&gt;?&lt;/code&gt;)
&lt;/h3&gt;

&lt;p&gt;The first implementation of the &lt;code&gt;?&lt;/code&gt; in JavaScript is the simplest one, the one I showed at the beginning of the article, the ternary operator (&lt;code&gt;?:&lt;/code&gt;).&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight typescript"&gt;&lt;code&gt;&lt;span class="nx"&gt;conditon&lt;/span&gt; &lt;span class="p"&gt;?&lt;/span&gt; &lt;span class="kc"&gt;true&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kc"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;If the condition here is true, then the first value after the &lt;code&gt;?&lt;/code&gt; is either assigned or called.&lt;/p&gt;



&lt;h3&gt;
  &lt;a href="#nullish-coalescingassignment-raw-endraw-"&gt;
  &lt;/a&gt;
  Nullish Coalescing/Assignment (&lt;code&gt;??&lt;/code&gt;)
&lt;/h3&gt;

&lt;p&gt;The next implementation is the &lt;code&gt;??&lt;/code&gt; or nullish operator, which is used in Nullish Coalescing.&lt;/p&gt;

&lt;p&gt;Nullish coalescing looks something like this:&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight typescript"&gt;&lt;code&gt;&lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;value&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;true&lt;/span&gt; &lt;span class="o"&gt;??&lt;/span&gt; &lt;span class="kc"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;¬†¬†¬†¬†&lt;code&gt;value&lt;/code&gt; will become &lt;code&gt;true&lt;/code&gt;. You may be wondering now what's the difference between this and the Logical Or operator (&lt;code&gt;||&lt;/code&gt;)? The &lt;code&gt;||&lt;/code&gt; operator worked well but a problem a lot of people run into sometimes is that it considered values like empty compound types (&lt;code&gt;{}&lt;/code&gt;, &lt;code&gt;[]&lt;/code&gt;, &lt;code&gt;""&lt;/code&gt;) and 0 as falsy so the need for a logical operator that only considered &lt;code&gt;null&lt;/code&gt; and &lt;code&gt;undefined&lt;/code&gt; as falsy naturally arose.&lt;/p&gt;



&lt;h3&gt;
  &lt;a href="#logical-nullish-assignment-raw-endraw-"&gt;
  &lt;/a&gt;
  Logical Nullish Assignment (&lt;code&gt;??=&lt;/code&gt;)
&lt;/h3&gt;



&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight typescript"&gt;&lt;code&gt;&lt;span class="nx"&gt;x&lt;/span&gt; &lt;span class="o"&gt;??=&lt;/span&gt; &lt;span class="nx"&gt;y&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;The third question mark operator is called the Logical Nullish assignment operator, &lt;code&gt;??=&lt;/code&gt;. The gist of this operator is to assign a value &lt;code&gt;y&lt;/code&gt; to a value &lt;code&gt;x&lt;/code&gt; if &lt;code&gt;x&lt;/code&gt; is &lt;code&gt;null&lt;/code&gt; or &lt;code&gt;undefined&lt;/code&gt;, and only if it is.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight typescript"&gt;&lt;code&gt;&lt;span class="kd"&gt;let&lt;/span&gt; &lt;span class="nx"&gt;val&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nx"&gt;val&lt;/span&gt; &lt;span class="o"&gt;??=&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="c1"&gt;// val is now 10, because it was null before&lt;/span&gt;


&lt;span class="kd"&gt;let&lt;/span&gt; &lt;span class="nx"&gt;num&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nx"&gt;num&lt;/span&gt; &lt;span class="o"&gt;??=&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="c1"&gt;// num stays as 0, because 0 is neither undefined nor null&lt;/span&gt;

&lt;span class="kd"&gt;let&lt;/span&gt; &lt;span class="nx"&gt;egg&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nx"&gt;egg&lt;/span&gt; &lt;span class="o"&gt;??=&lt;/span&gt; &lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;scrambled&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="c1"&gt;// egg is now "scrambled" becuase uninitialized variables are undefined&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;





&lt;h3&gt;
  &lt;a href="#optional-chaining-raw-endraw-"&gt;
  &lt;/a&gt;
  Optional Chaining (&lt;code&gt;?.&lt;/code&gt;)
&lt;/h3&gt;

&lt;p&gt;¬†¬†¬†¬†The last and latest question mark operator is a very useful feature. It allows us to access a value on the value of an object only if it exists. It gets rid of &lt;code&gt;if&lt;/code&gt; statements and &lt;code&gt;try..catch&lt;/code&gt; statements .In the event of a &lt;code&gt;null&lt;/code&gt; or &lt;code&gt;undefined&lt;/code&gt; value being returned, there is no error thrown, the value is just &lt;code&gt;null&lt;/code&gt; or &lt;code&gt;undefined&lt;/code&gt;.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight typescript"&gt;&lt;code&gt;&lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;John&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="na"&gt;firstName&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;John&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="na"&gt;lastName&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;Doe&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="na"&gt;age&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;21&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="na"&gt;parents&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;Jack&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;Jane&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="nx"&gt;console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;log&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;John&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;lastName&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="c1"&gt;// =&amp;gt; "John"&lt;/span&gt;

&lt;span class="nx"&gt;console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;log&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;John&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;bestFriend&lt;/span&gt;&lt;span class="p"&gt;?.&lt;/span&gt;&lt;span class="nx"&gt;age&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="c1"&gt;// =&amp;gt; undefined&lt;/span&gt;

&lt;span class="nx"&gt;console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;log&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;John&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;bestFriend&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;age&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="c1"&gt;// =&amp;gt; Error: Cannot read properties of undefined&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;





&lt;h3&gt;
  &lt;a href="#use-in-other-languages"&gt;
  &lt;/a&gt;
  Use in Other languages
&lt;/h3&gt;

&lt;p&gt;¬†¬†¬†¬†Question mark operators exist in a large number of programming languages, as ternary operations are originally a mathematical concept, these are some examples:&lt;/p&gt;

&lt;div class="table-wrapper-paragraph"&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Language&lt;/th&gt;
&lt;th&gt;Ternary or similar expression&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;C++, Java, JavaScript, C#, C, Bash, Ruby, Swift, PHP&lt;/td&gt;
&lt;td&gt;&lt;code&gt;condition ? if true : else;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Python&lt;/td&gt;
&lt;td&gt;&lt;code&gt;value if conditon else false&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Rust&lt;/td&gt;
&lt;td&gt;&lt;code&gt;if condition {true} else {false}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;R&lt;/td&gt;
&lt;td&gt;&lt;code&gt;if (condition) true else false&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Go&lt;/td&gt;
&lt;td&gt;No implimentation&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Haskell&lt;/td&gt;
&lt;td&gt;&lt;code&gt;if condition then true else false&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;&lt;/div&gt;

&lt;h3&gt;
  &lt;a href="#conclusion"&gt;
  &lt;/a&gt;
  Conclusion
&lt;/h3&gt;

&lt;p&gt;¬†¬†¬†¬†Now with your new-found knowledge of the question mark operators you can go impress your friends, colleagues, teammates or classmates, but don't overdo it. Question mark operators are prone to misuse and can make code unreadable if overused, so don't try to force it in whenever you can.&lt;/p&gt;



&lt;h4&gt;
  &lt;a href="#sources"&gt;
  &lt;/a&gt;
  Sources
&lt;/h4&gt;

&lt;p&gt;&lt;a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_Operator"&gt;MDN Docs: Conditional (ternary) operator&lt;/a&gt; &lt;br&gt;&lt;br&gt;
&lt;a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing_operator"&gt;MDN Docs: Nullish coalescing operator (??)&lt;/a&gt; &lt;br&gt;&lt;br&gt;
&lt;a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_nullish_assignment"&gt;MDN Docs: Logical nullish assignment (??=)&lt;/a&gt; &lt;br&gt;&lt;br&gt;
&lt;a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining"&gt;MDN Docs: Optional chaining (?.)&lt;/a&gt; &lt;br&gt;&lt;br&gt;
&lt;a href="https://en.wikipedia.org/wiki/%3F:"&gt;Wikipedia: ?:&lt;/a&gt;&lt;/p&gt;

</description>
      <category>javascript</category>
      <category>programming</category>
      <category>tutorial</category>
      <category>functional</category>
    </item>
    <item>
      <title>10 GitHub Repositories You Should Know</title>
      <author>Seth Addo</author>
      <pubDate>Mon, 24 Jan 2022 00:24:45 +0000</pubDate>
      <link>https://dev.to/seths10/10-github-repositories-you-should-know-1ce7</link>
      <guid>https://dev.to/seths10/10-github-repositories-you-should-know-1ce7</guid>
      <description>&lt;p&gt;In this article, I have curated a list of GitHub repositories that contains interesting Open Source projects on the internet. There are other resources of all kinds: ranging from basics of API's, roadmaps, and to projects ideas and more. Check the list below;&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#1-developer-roadmap"&gt;
  &lt;/a&gt;
  1. Developer Roadmap
&lt;/h3&gt;

&lt;h4&gt;
  &lt;a href="#github-184k"&gt;
  &lt;/a&gt;
  GitHub‚≠ê: 184K+
&lt;/h4&gt;

&lt;p&gt;Need some advice for getting started to your developer journey? then this &lt;a href="https://github.com/kamranahmedse/developer-roadmap"&gt;repository&lt;/a&gt; will guide you through. It has all the technologies you need to know if you want to become a Frontend or Backend or DevOps Engineer. It has all the alternative technologies from which can choose whatever suits your need or comfort.&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#2-free-programming-books"&gt;
  &lt;/a&gt;
  2. Free Programming Books
&lt;/h3&gt;

&lt;h4&gt;
  &lt;a href="#github-184k"&gt;
  &lt;/a&gt;
  GitHub‚≠ê: 184K+
&lt;/h4&gt;

&lt;p&gt;Even though it has "Books" in its name, it offers a lot more than that. It contains sections of free online courses, interactive programming resources, problem sets and competitive programming, programming playgrounds and podcasts and cheat sheets for almost every programming language.&lt;/p&gt;

&lt;p&gt;But has a major collection of programming books which makes it an "Awesome" collection. &lt;a href="https://github.com/EbookFoundation/free-programming-books"&gt;Link To Repository&lt;/a&gt;&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#3-ossu-computer-science"&gt;
  &lt;/a&gt;
  3. OSSU Computer Science
&lt;/h3&gt;

&lt;h4&gt;
  &lt;a href="#github-84k"&gt;
  &lt;/a&gt;
  GitHub‚≠ê: 84K+
&lt;/h4&gt;

&lt;p&gt;If you don't have a computer science background or degree and want the equivalent knowledge same as a Computer Science degree then this repository is for you. It's for those who want a proper, well-rounded grounding in concepts fundamental to all computing disciplines. It offers all the resources to help you become a self-taught computer science graduate equivalent and has a worldwide community of learners.&lt;br&gt;
&lt;a href="https://github.com/EbookFoundation/free-programming-books"&gt;Link To Repository&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;
  &lt;a href="#4-awesome"&gt;
  &lt;/a&gt;
  4. Awesome
&lt;/h3&gt;
&lt;h4&gt;
  &lt;a href="#github-150k"&gt;
  &lt;/a&gt;
  GitHub‚≠ê: 150K+
&lt;/h4&gt;

&lt;p&gt;As the name describes it has an Awesome lists of all kinds of interesting topics ranging from computer science to &lt;strong&gt;media&lt;/strong&gt;, from &lt;strong&gt;gaming&lt;/strong&gt; to &lt;strong&gt;business&lt;/strong&gt; and the list goes on.&lt;br&gt;
&lt;a href="https://github.com/sindresorhus/awesome"&gt;Link To Repository&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;
  &lt;a href="#5-public-apis"&gt;
  &lt;/a&gt;
  5. Public API's
&lt;/h3&gt;
&lt;h4&gt;
  &lt;a href="#github-184k"&gt;
  &lt;/a&gt;
  GitHub‚≠ê: 184K+
&lt;/h4&gt;

&lt;p&gt;&lt;a href="https://github.com/public-apis/public-apis"&gt;Public Apis&lt;/a&gt; has a collective list of all the free &lt;strong&gt;API's&lt;/strong&gt; available on the internet to use in your personal or professional projects. It offers a wide range of Application Programming interfaces (APIs) such as &lt;code&gt;business&lt;/code&gt;, &lt;code&gt;anime&lt;/code&gt;, &lt;code&gt;animals&lt;/code&gt;, &lt;code&gt;news&lt;/code&gt;, &lt;code&gt;finance&lt;/code&gt;, &lt;code&gt;games&lt;/code&gt;, and more.&lt;/p&gt;
&lt;h3&gt;
  &lt;a href="#6-tech-interview-handbook"&gt;
  &lt;/a&gt;
  6. Tech Interview Handbook
&lt;/h3&gt;
&lt;h4&gt;
  &lt;a href="#github-50k"&gt;
  &lt;/a&gt;
  GitHub‚≠ê: 50K+
&lt;/h4&gt;

&lt;p&gt;It has a variety of material regarding How to prepare for coding interviews, Good questions to ask your interviewer, Helpful tips on &lt;strong&gt;resume&lt;/strong&gt;, and many more.&lt;br&gt;
&lt;a href="https://github.com/yangshun/tech-interview-handbook"&gt;Link To Repository&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;
  &lt;a href="#7-awesome-repos"&gt;
  &lt;/a&gt;
  7. Awesome Repos
&lt;/h3&gt;

&lt;p&gt;It has a number of resourceful repositories packed in just one place. All you have to do is just visit this repository and that's it.&lt;br&gt;
&lt;a href="https://github.com/pawelborkar/awesome-repos"&gt;Link To Repository&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;
  &lt;a href="#8-build-your-own-x"&gt;
  &lt;/a&gt;
  8. Build Your Own X
&lt;/h3&gt;
&lt;h4&gt;
  &lt;a href="#github-100k"&gt;
  &lt;/a&gt;
  GitHub‚≠ê: 100K+
&lt;/h4&gt;

&lt;p&gt;If you are a person who believes in the principle of "Learning by doing" then this repository has the potential of becoming your daily stop at GitHub. It has links to the resources which help you build your own &lt;code&gt;Cryptocurrency&lt;/code&gt;, &lt;code&gt;Database&lt;/code&gt;, &lt;code&gt;Bots&lt;/code&gt;, &lt;code&gt;BitTorrent Clients&lt;/code&gt;, and many more.&lt;br&gt;
&lt;a href="https://github.com/danistefanovic/build-your-own-x"&gt;Link To Repository&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;
  &lt;a href="#9-coding-interview-university"&gt;
  &lt;/a&gt;
  9. Coding Interview University
&lt;/h3&gt;
&lt;h4&gt;
  &lt;a href="#github-160k"&gt;
  &lt;/a&gt;
  GitHub‚≠ê: 160K+
&lt;/h4&gt;

&lt;p&gt;Coding Interview University has a multi-month study plan to become a software engineer for a large tech company like &lt;code&gt;Google&lt;/code&gt;, &lt;code&gt;Amazon&lt;/code&gt;, &lt;code&gt;Facebook&lt;/code&gt;, &lt;code&gt;Apple&lt;/code&gt;, or any other software company. It offers advice on how to study to become a reliability engineer or operations engineer. It also has links to the flashcards for quickly brushing up your knowledge and stay updated originally created by the author of the repository who landed a job at Amazon. And there are much more success stories like that.&lt;br&gt;
&lt;a href="https://github.com/jwasham/coding-interview-university"&gt;Link To Repository&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;
  &lt;a href="#10-design-resources-for-developers"&gt;
  &lt;/a&gt;
  10. Design Resources for Developers
&lt;/h3&gt;
&lt;h4&gt;
  &lt;a href="#github-25k"&gt;
  &lt;/a&gt;
  GitHub‚≠ê: 25K+
&lt;/h4&gt;

&lt;p&gt;This repository has a curated list of design and UI resources from &lt;code&gt;stock photos&lt;/code&gt;, &lt;code&gt;web templates&lt;/code&gt;, &lt;code&gt;CSS frameworks&lt;/code&gt;, &lt;code&gt;UI libraries&lt;/code&gt;, &lt;code&gt;tools&lt;/code&gt; and much more, available for free to use in your projects and applications.&lt;br&gt;
&lt;a href="https://github.com/bradtraversy/design-resources-for-developers"&gt;Link To Repository&lt;/a&gt;&lt;/p&gt;



&lt;blockquote&gt;
&lt;p&gt;Thanks for reading this article. Follow me on &lt;a href="https://www.twitter.com/set_addo"&gt;twitter&lt;/a&gt;: @set_addo.&lt;br&gt;
&lt;/p&gt;


&lt;/blockquote&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;Follow me on:
Twitter: @set_addo
LinkedIn: Seth Addo
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



</description>
      <category>productivity</category>
      <category>beginners</category>
      <category>webdev</category>
      <category>javascript</category>
    </item>
    <item>
      <title>JavaScript memory model demystified</title>
      <author>Zhenghao He</author>
      <pubDate>Sun, 23 Jan 2022 23:32:17 +0000</pubDate>
      <link>https://dev.to/he_zhenghao/javascript-memory-model-demystified-3ma1</link>
      <guid>https://dev.to/he_zhenghao/javascript-memory-model-demystified-3ma1</guid>
      <description>&lt;p&gt;I admit this title is a little clickbaity. Maybe a more accurate title should be ‚Äúthe JavaScript memory model that is implemented in the current version of V8 demystified (with some oversimplification)‚Äù. &lt;/p&gt;

&lt;p&gt;There are a wealth of resources online such as this claiming that in JavaScript primitive values are allocated on the stack while objects are allocated on the heap. This idea is false, at least this is not how the language is implemented in the majority of JavaScript engines I have seen. I am typing in this post so that I can link to it and save myself some time in the future.&lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#tldr"&gt;
  &lt;/a&gt;
  TL;DR:
&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;All JavaScript values are allocated on the heap accessed by pointers no matter if they are objects, arrays, strings or numbers (except for small integers i.e. &lt;code&gt;smi&lt;/code&gt; due to &lt;a href="%5Bhttps://v8.dev/blog/pointer-compression#value-tagging-in-v8%5D(https://v8.dev/blog/pointer-compression#value-tagging-in-v8)"&gt;pointer tagging&lt;/a&gt;).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The stack only stores temporary, function-local and small variables (mostly pointers) and that's largely unrelated to JavaScript types.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h2&gt;
  &lt;a href="#they-are-all-implementation-details"&gt;
  &lt;/a&gt;
  They are all implementation details
&lt;/h2&gt;

&lt;p&gt;First of all, the JavaScript language itself doesn‚Äôt mandate memory layout. You cannot find the term ‚ÄúStack‚Äù or ‚ÄúHeap‚Äù used in the ECMAScript specification. In fact, I doubt you can find anything about memory layout in any language specification - even for C++, which is considered much more low-level than JavaScript, does not have the terms defined in &lt;a href="https://en.cppreference.com/w/cpp/language/storage_duration"&gt;its standard&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;These are considered implementation details. Asking how JavaScript handles memory allocation is like asking if JavaScript is a compiled or interpreted language. It is a &lt;strong&gt;wrong&lt;/strong&gt; question. What is interpreted or compiled is not the languages but instead implementations - we can easily build simple AST interpreter for JavaScript, or a Stack-based virtual machine, or static LLVM compiler to native code.&lt;/p&gt;

&lt;p&gt;However being an implementation detail doesn‚Äôt mean it is a myth. You can trivially check this yourself by doing memory profiling in Chrome DevTools. If you want the ground truth, you can always look up the source code for the VM - at least for V8 it is all open-sourced. &lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#everything-is-on-the-heap"&gt;
  &lt;/a&gt;
  Everything is on the heap
&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;Again, all of the examples in this post are based on V8‚Äôs implementation. The V8 source code is from commit Id &lt;a href="https://chromium.googlesource.com/v8/v8/+/a684fc4c927940a073e3859cbf91c301550f4318"&gt;a684fc4c927940a073e3859cbf91c301550f4318&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Contrary to common belief, primitive values are also allocated on the heap, just like objects. I covered how JavaScript values are implemented in V8 in details &lt;a href="https://www.zhenghao.io/posts/javascript-variables"&gt;in this post&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;If you don‚Äôt want to really dig into V8‚Äôs source code, there is an easy way that I can prove this to you.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;First use &lt;code&gt;node --v8-options | grep -B0 -A1 stack-size&lt;/code&gt; to get the default size of stack in V8 on your machine. For me it outputs 864 KB.&lt;/li&gt;
&lt;li&gt;Create a JavaScript file. Create a giant string and use &lt;code&gt;process.memoryUsage().heapUsed&lt;/code&gt; to get the size of the heap used.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;This is a script that does that:&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight javascript"&gt;&lt;code&gt;&lt;span class="kd"&gt;function&lt;/span&gt; &lt;span class="nx"&gt;memoryUsed&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;mbUsed&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;process&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;memoryUsage&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="nx"&gt;heapUsed&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;1024&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;1024&lt;/span&gt;
    &lt;span class="nx"&gt;console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;log&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;`Memory used: &lt;/span&gt;&lt;span class="p"&gt;${&lt;/span&gt;&lt;span class="nx"&gt;mbUsed&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="s2"&gt; MB`&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="nx"&gt;console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;log&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="dl"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;before&lt;/span&gt;&lt;span class="dl"&gt;'&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="nx"&gt;memoryUsed&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;bigString&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="dl"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;x&lt;/span&gt;&lt;span class="dl"&gt;'&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;repeat&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;1024&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;1024&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nx"&gt;console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;log&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;bigString&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt; &lt;span class="c1"&gt;// need to use the string otherwise the compiler would just optimize it into nothingness&lt;/span&gt;

&lt;span class="nx"&gt;console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;log&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="dl"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;after&lt;/span&gt;&lt;span class="dl"&gt;'&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="nx"&gt;memoryUsed&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;  
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;The size of the heap memory used before we create the string was 3.78 MB.&lt;br&gt;
&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--dTWOqhBW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.zhenghao.io/art/blog/javascript-memory/before.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--dTWOqhBW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.zhenghao.io/art/blog/javascript-memory/before.png" alt="alt" width="880" height="97"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;After I create a string of a size of 10 MB, the heap memory used increases to 13.78 MB&lt;br&gt;
&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--jpuv86iq--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.zhenghao.io/art/blog/javascript-memory/after.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--jpuv86iq--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.zhenghao.io/art/blog/javascript-memory/after.png" alt="alt" width="620" height="68"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The difference between the before and after is precisely 10 MB. See the stack size we printed out before, it was only 864 KB - there is no way the stack can store such a string.&lt;/p&gt;
&lt;h2&gt;
  &lt;a href="#primitive-values-are-mostly-reused"&gt;
  &lt;/a&gt;
  Primitive values are (mostly) reused
&lt;/h2&gt;
&lt;h3&gt;
  &lt;a href="#string-interning"&gt;
  &lt;/a&gt;
  String interning
&lt;/h3&gt;

&lt;p&gt;A quick question: for our 10 MB string created by &lt;code&gt;'x'.repeat(10*1024*1024)&lt;/code&gt;, does an assignment (e.g. &lt;code&gt;const anotherString = bigString&lt;/code&gt;) duplicate the string in memory so that we end up with 20 MB in total allocated on the heap? &lt;/p&gt;

&lt;p&gt;The answer is no - there is no duplicate strings allocated. You can easily verify this by adding &lt;code&gt;const anotherString  = bigString&lt;/code&gt; after the declaration of &lt;code&gt;bigString&lt;/code&gt; and check to see if the heap memory size increases or not. &lt;/p&gt;

&lt;p&gt;You can also check this via memory profiling using Chrome DevTools.&lt;br&gt;
&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--ZNb9UZdN--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.zhenghao.io/art/blog/javascript-memory/memoryProfile.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--ZNb9UZdN--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.zhenghao.io/art/blog/javascript-memory/memoryProfile.png" alt="alt" width="880" height="383"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Create a html file with the following snippet:&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight html"&gt;&lt;code&gt;&lt;span class="nt"&gt;&amp;lt;body&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;button&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;'btn'&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;btn&lt;span class="nt"&gt;&amp;lt;/button&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;script&amp;gt;&lt;/span&gt;  
    &lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;btn&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;document&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;querySelector&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="dl"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;#btn&lt;/span&gt;&lt;span class="dl"&gt;'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="nx"&gt;btn&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;onclick&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; 
        &lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;string1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="dl"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;foo&lt;/span&gt;&lt;span class="dl"&gt;'&lt;/span&gt;
        &lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;string2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="dl"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;foo&lt;/span&gt;&lt;span class="dl"&gt;'&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="sr"&gt;/body&lt;/span&gt;&lt;span class="err"&gt;&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;Run the memory profiling and click on the button to create two variables with the same string value &lt;code&gt;foo&lt;/code&gt;.&lt;br&gt;
&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--gLwaFzXM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.zhenghao.io/art/blog/javascript-memory/onlyOneString.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--gLwaFzXM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.zhenghao.io/art/blog/javascript-memory/onlyOneString.png" alt="alt" width="880" height="468"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You will see there is only one heap string allocated.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Chrome DevTools do not show where the pointer resides in memory but rather where it points to. Also it does not represent the raw memory address. If you want to inspect the actual memory, you need to use a native debugger.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;This is called &lt;a href="https://en.wikipedia.org/wiki/String_interning"&gt;string interning&lt;/a&gt;. Inside V8, this is implemented via &lt;code&gt;StringTable&lt;/code&gt;&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight cpp"&gt;&lt;code&gt;&lt;span class="k"&gt;explicit&lt;/span&gt; &lt;span class="nf"&gt;StringTable&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Isolate&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;isolate&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
  &lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="n"&gt;StringTable&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

  &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;Capacity&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;NumberOfElements&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

  &lt;span class="c1"&gt;// Find string in the string table. If it is not there yet, it is&lt;/span&gt;
  &lt;span class="c1"&gt;// added. The return value is the string found.&lt;/span&gt;
  &lt;span class="n"&gt;Handle&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;String&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;LookupString&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Isolate&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;isolate&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Handle&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;String&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

  &lt;span class="c1"&gt;// Find string in the string table, using the given key. If the string is not&lt;/span&gt;
  &lt;span class="c1"&gt;// there yet, it is created (by the key) and added. The return value is the&lt;/span&gt;
  &lt;span class="c1"&gt;// string found.&lt;/span&gt;
  &lt;span class="k"&gt;template&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;typename&lt;/span&gt; &lt;span class="nc"&gt;StringTableKey&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;typename&lt;/span&gt; &lt;span class="nc"&gt;IsolateT&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="n"&gt;Handle&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;String&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;LookupKey&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;IsolateT&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;isolate&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;StringTableKey&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;h2&gt;
  &lt;a href="#oddballs"&gt;
  &lt;/a&gt;
  Oddballs
&lt;/h2&gt;

&lt;p&gt;There are a special subset of primitive values called &lt;a href="https://chromium.googlesource.com/v8/v8/+/master/src/builtins/base.tq#500"&gt;Oddball&lt;/a&gt; in V8.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight cpp"&gt;&lt;code&gt;&lt;span class="n"&gt;type&lt;/span&gt; &lt;span class="n"&gt;Null&lt;/span&gt; &lt;span class="n"&gt;extends&lt;/span&gt; &lt;span class="n"&gt;Oddball&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;type&lt;/span&gt; &lt;span class="n"&gt;Undefined&lt;/span&gt; &lt;span class="n"&gt;extends&lt;/span&gt; &lt;span class="n"&gt;Oddball&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;type&lt;/span&gt; &lt;span class="n"&gt;True&lt;/span&gt; &lt;span class="n"&gt;extends&lt;/span&gt; &lt;span class="n"&gt;Oddball&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;type&lt;/span&gt; &lt;span class="n"&gt;False&lt;/span&gt; &lt;span class="n"&gt;extends&lt;/span&gt; &lt;span class="n"&gt;Oddball&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;type&lt;/span&gt; &lt;span class="n"&gt;Exception&lt;/span&gt; &lt;span class="n"&gt;extends&lt;/span&gt; &lt;span class="n"&gt;Oddball&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;type&lt;/span&gt; &lt;span class="n"&gt;EmptyString&lt;/span&gt; &lt;span class="n"&gt;extends&lt;/span&gt; &lt;span class="n"&gt;String&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;type&lt;/span&gt; &lt;span class="n"&gt;Boolean&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;True&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;False&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;They are pre-allocated on the heap by V8 before the first line of your script runs - it doesn‚Äôt matter if your JavaScript program actually uses them down the road or not.&lt;/p&gt;

&lt;p&gt;They are always reused - there is only one value of each &lt;code&gt;Oddball&lt;/code&gt; type:&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight javascript"&gt;&lt;code&gt;&lt;span class="kd"&gt;function&lt;/span&gt; &lt;span class="nx"&gt;Oddballs&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="kc"&gt;undefined&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;undefined&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="kc"&gt;true&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;true&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="kc"&gt;false&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;false&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;null&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;emptyString&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="dl"&gt;''&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;obj1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nx"&gt;Oddballs&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;obj2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nx"&gt;Oddballs&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;Take a heap snapshot for this script above we get:&lt;br&gt;
&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Sf2qDIlY--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.zhenghao.io/art/blog/javascript-memory/oddballs.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Sf2qDIlY--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.zhenghao.io/art/blog/javascript-memory/oddballs.png" alt="alt" width="880" height="514"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You see? Each &lt;code&gt;Oddball&lt;/code&gt; type only has the same memory location on the heap even though the values are pointed by different objects' properties. &lt;/p&gt;
&lt;h2&gt;
  &lt;a href="#numbers-are-complicated"&gt;
  &lt;/a&gt;
  Numbers are complicated
&lt;/h2&gt;

&lt;p&gt;In V8, small integers (the term in V8 is &lt;code&gt;smi&lt;/code&gt;) are &lt;a href="https://v8.dev/blog/pointer-compression#value-tagging-in-v8"&gt;heavily optimized&lt;/a&gt; so they can be encoded inside of a pointer directly without the need to allocate additional storage for it.&lt;/p&gt;

&lt;p&gt;So technically, a &lt;code&gt;smi&lt;/code&gt; can exist on the stack since they don‚Äôt need additional storage allocated on the heap, depending how the variables:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;
&lt;code&gt;const a = 123&lt;/code&gt; &lt;strong&gt;could&lt;/strong&gt; be on the stack&lt;/li&gt;
&lt;li&gt;
&lt;code&gt;var a = 123&lt;/code&gt; is on the heap, since it becomes a property of the global object&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Also it depends on what the rest of the script is doing, and the runtime environment. The optimizing compiler keeps pointers held in registers as long as it can; it'll spill to the stack only when needed (e.g. registers run out).&lt;/p&gt;

&lt;p&gt;Another comlication about numbers is, unlike other types of primitive values, they might not get reused.&lt;/p&gt;

&lt;p&gt;For &lt;code&gt;smi&lt;/code&gt;, they are encoded as recognizably invalid pointers, which don't point to anything, so the whole concept of "reusing" doesn't really apply to them.&lt;br&gt;
For numbers that are not considered &lt;code&gt;smi&lt;/code&gt;, they are called &lt;code&gt;HeapNumber&lt;/code&gt;. When a &lt;code&gt;HeapNumber&lt;/code&gt; is pointed by an object's property, it becomes a mutable &lt;code&gt;HeapNumber&lt;/code&gt;, which allows updating the value without allocating a new &lt;code&gt;HeapNumber&lt;/code&gt; every time. Because of this optmization, mutable &lt;code&gt;HeapNumber&lt;/code&gt;s are not reused.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight javascript"&gt;&lt;code&gt;&lt;span class="kd"&gt;function&lt;/span&gt; &lt;span class="nx"&gt;MyNumbers&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;smi&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;123&lt;/span&gt;
        &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;number&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mf"&gt;3.14&lt;/span&gt;
      &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;num1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nx"&gt;MyNumbers&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;num2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nx"&gt;MyNumbers&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;Take a heap snapshot for this script above we get:&lt;br&gt;
&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--hWLCWmp---/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.zhenghao.io/art/blog/javascript-memory/smi.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--hWLCWmp---/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.zhenghao.io/art/blog/javascript-memory/smi.png" alt="alt" width="880" height="386"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You can tell that two &lt;code&gt;smi&lt;/code&gt;s are "pointing" to the same memory location &lt;code&gt;@427911&lt;/code&gt; - that is because they have the same bit pattern for the same value &lt;code&gt;123&lt;/code&gt;, and Chrome DevTools still treats them as pointers even though they are invalid pointers due to pointer tagging. &lt;/p&gt;

&lt;p&gt;As to &lt;code&gt;HeapNumber&lt;/code&gt;s, they are pointing to the different memory locations &lt;code&gt;@427915&lt;/code&gt; and &lt;code&gt;@427927&lt;/code&gt;, meaning they are not reused.&lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#put-these-together"&gt;
  &lt;/a&gt;
  Put these together
&lt;/h2&gt;

&lt;p&gt;Here is a diagram that conceptually illustrates some &lt;strong&gt;possible&lt;/strong&gt; memory layout in V8:&lt;/p&gt;

&lt;p&gt;&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--9y0eAHA6--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.zhenghao.io/art/blog/javascript-memory/overview.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--9y0eAHA6--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.zhenghao.io/art/blog/javascript-memory/overview.png" alt="alt" width="880" height="366"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#closing-thoughts"&gt;
  &lt;/a&gt;
  Closing thoughts
&lt;/h2&gt;

&lt;p&gt;In preparation for writing this blog post, I pulled out my college textbook on operating system. It's almost 600 pages long, of which a discussion on memory takes about a third of it. &lt;/p&gt;

&lt;p&gt;Computer memory is an incredibly complex topic. And nearly every answer to a question related to memory varies across compilers and processor architectures. For example, our variables are not always in memory (RAM) - they can be loaded directly in the destination registers, become part of instruction as an immediate value, or even get optimized entirely away into nothingness. The compiler can do whatever it wants as long as all the language semantics defined by the specification are preserved - the &lt;a href="https://stackoverflow.com/questions/15718262/what-exactly-is-the-as-if-rule"&gt;as-if rule&lt;/a&gt;.&lt;/p&gt;

</description>
      <category>javascript</category>
      <category>webdev</category>
      <category>v8</category>
      <category>programming</category>
    </item>
    <item>
      <title>Stop using static cloud credentials in GitHub Actions</title>
      <author>Lee Briggs</author>
      <pubDate>Sun, 23 Jan 2022 23:20:02 +0000</pubDate>
      <link>https://dev.to/jaxxstorm/stop-using-static-cloud-credentials-in-github-actions-45il</link>
      <guid>https://dev.to/jaxxstorm/stop-using-static-cloud-credentials-in-github-actions-45il</guid>
      <description>&lt;p&gt;Picture the scene. You're configuring your automation pipelines, whether it's deploying infrastructure, applications or any other piece of your CI/CD pipeline that needs to access a cloud provider. You want to do things properly, so you define a well scoped role with a minimum set of permissions that you need for the pipeline to be successful. Then you assign those permissions to your cloud provider's authentication mechanism. If you're lucky, your CI/CD pipeline runs in the cloud too, so you never need to define a set of static credentials.&lt;/p&gt;

&lt;p&gt;If you're not using self hosted runners for your CI/CD pipeline, you might pause for a second. "I need to remember to rotate these credentials" you think. Maybe you'll set a reminder to rotate them in a month's time, or perhaps you'll set up some elaborate mechanism to rotate them. More likely than not, you'll forget about it completely until your wonderful InfoSec team bug you about them, hopefully it'll be for a compliance reasons and not because someone got hold of them.&lt;/p&gt;

&lt;p&gt;Until recently, these hard coded credentials have been not only dangeorus, but unavoidable. Mechanisms for accessing cloud provider from &lt;em&gt;outside&lt;/em&gt; the cloud provider itself have been almost non-existent. You defined an IAM user/service principal/service account/insert other mechanism here and you just...hoped. &lt;/p&gt;

&lt;p&gt;In addition to these credentials being static and hard to rotate, often the credentials stored in CI/CD services can have extremely broad and permissive privileges. If you're running infrastructure automation, for example, you might need to scope the credentials to basically admin permissions, which is an extremely worrying prospect.&lt;/p&gt;

&lt;p&gt;The good news is, this is starting to change, and a well defined protocol is in the middle of these changes. &lt;/p&gt;

&lt;p&gt;If you're using GitHub Actions to as your CI/CD tool of choice, you can now use OIDC with the 3 major cloud providers to securely authenticate to that provider. You can find a long, well defined document in the GitHub documentation &lt;a href="https://docs.github.com/en/actions/deployment/security-hardening-your-deployments/about-security-hardening-with-openid-connect"&gt;here&lt;/a&gt;. This document clearly states the benefit of using OIDC, but for posterity, we'll repeat them here:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;No cloud secrets&lt;/em&gt;: You won't need to duplicate your cloud credentials as long-lived GitHub secrets. Instead, you can configure the OIDC trust on your cloud provider, and then update your workflows to request a short-lived access token from the cloud provider through OIDC.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Authentication and authorization management&lt;/em&gt;: You have more granular control over how workflows can use credentials, using your cloud provider's authentication (authN) and authorization (authZ) tools to control access to cloud resources.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Rotating credentials&lt;/em&gt;: With OIDC, your cloud provider issues a short-lived access token that is only valid for a single workflow run, and then automatically expires.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;This all sounds pretty amazing right? No cloud credentials?! How do I set this up?&lt;/p&gt;

&lt;p&gt;In the rest of this blog post, we'll look at how you can use &lt;a href="https://pulumi.com"&gt;Pulumi&lt;/a&gt;'s TypeScript SDKs to quickly an easy set up GitHub actions, so you don't have to manually configure the access!&lt;/p&gt;

&lt;p&gt;It's of course quite possible to use Pulumi's other SDKs, as well as other infrastructure as code tools to do the setup, but we'll use Pulumi in this walkthrough. If you don't want to read a whole blog post, you can go directly to the code &lt;a href="https://github.com/jaxxstorm/secure-cloud-access"&gt;here&lt;/a&gt; with example actions running to show you this does really work, honest.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;To jump directly to your cloud provider, use these links: &lt;a href="#aws"&gt;AWS&lt;/a&gt; | &lt;a href="#azure"&gt;Azure&lt;/a&gt; | &lt;a href="#google-cloud"&gt;Google Cloud&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2&gt;
  &lt;a href="#aws"&gt;
  &lt;/a&gt;
  AWS
&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;The complete code for this example can be found &lt;a href="https://github.com/jaxxstorm/secure-cloud-access/tree/main/aws"&gt;here&lt;/a&gt;"&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;AWS has leaned into OIDC as an authentication mechanism since they introduced &lt;a href="https://aws.amazon.com/blogs/opensource/introducing-fine-grained-iam-roles-service-accounts/"&gt;IAM roles for service accounts&lt;/a&gt; back in 2019. The ability to use OIDC as an authentication mechanism has also been extended to other services, and GitHub actions is one of them.&lt;/p&gt;

&lt;p&gt;We'll need the &lt;a href="https://www.pulumi.com/registry/packages/aws/"&gt;Pulumi AWS provider&lt;/a&gt; in order to interact with AWS, as well as the &lt;a href="https://www.pulumi.com/registry/packages/github/"&gt;GitHub provider&lt;/a&gt;, so make sure you've got those installed in your Pulumi program like so:&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight yaml"&gt;&lt;code&gt;&lt;span class="s"&gt;npm install @pulumi/aws @pulumi/github&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;h3&gt;
  &lt;a href="#create-an-oidc-provider"&gt;
  &lt;/a&gt;
  Create an OIDC Provider
&lt;/h3&gt;

&lt;p&gt;The first step in being able to use OIDC in GitHub actions is to define an OIDC provider.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight typescript"&gt;&lt;code&gt;&lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;oidcProvider&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nx"&gt;aws&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;iam&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;OpenIdConnectProvider&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;example&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="na"&gt;thumbprintLists&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;6938fd4d98bab03faadb97b34396831e3780aea1&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
  &lt;span class="na"&gt;clientIdLists&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;https://github.com/jaxxstorm&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;sts.amazonaws.com&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
  &lt;span class="na"&gt;url&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;https://token.actions.githubusercontent.com&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="p"&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;The URL is important here, as it the thumprint. You can essentially copy and paste these static values. The &lt;code&gt;clientIDList&lt;/code&gt; needs to be updated to use your GitHub organization, and this can be used across repositories within your GitHub Org.&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#define-an-iam-role"&gt;
  &lt;/a&gt;
  Define an IAM Role
&lt;/h3&gt;

&lt;p&gt;Next up, we'll need to define an IAM role. We'll set a condition on this IAM role to scope the role to repository in the &lt;code&gt;Condition&lt;/code&gt; field. You can scope the access to anything that exists in the &lt;a href="https://docs.github.com/en/actions/deployment/security-hardening-your-deployments/about-security-hardening-with-openid-connect#understanding-the-oidc-token"&gt;OIDC token&lt;/a&gt; - in this example we're allowing all, because YOLO.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight typescript"&gt;&lt;code&gt;&lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;role&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nx"&gt;aws&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;iam&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;Role&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;secure-cloud-access&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="na"&gt;description&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;Access for github.com/jaxxstorm/secure-cloud-access&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="na"&gt;assumeRolePolicy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="na"&gt;Version&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;2012-10-17&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="na"&gt;Statement&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
      &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="na"&gt;Action&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;sts:AssumeRoleWithWebIdentity&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
        &lt;span class="na"&gt;Effect&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;Allow&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="na"&gt;Condition&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
          &lt;span class="na"&gt;StringLike&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;token.actions.githubusercontent.com:sub&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
              &lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;repo:jaxxstorm/secure-cloud-access:*&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;// replace with your repo&lt;/span&gt;
          &lt;span class="p"&gt;},&lt;/span&gt;
        &lt;span class="p"&gt;},&lt;/span&gt;
        &lt;span class="na"&gt;Principal&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
          &lt;span class="na"&gt;Federated&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;oidcProvider&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;arn&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
        &lt;span class="p"&gt;},&lt;/span&gt;
      &lt;span class="p"&gt;},&lt;/span&gt;
    &lt;span class="p"&gt;],&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nx"&gt;aws&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;iam&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;PolicyDocument&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="p"&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;Next up, we'll need to attach a policy to this role, to define what this repository will be able to do in AWS. In this example I'm going to just add `ReadOnly permissions, but we'll need to be considerate about what this repo is going to do.&lt;/p&gt;

&lt;p&gt;&lt;code&gt;&lt;/code&gt;`typescript&lt;br&gt;
// get our AWS account ID&lt;br&gt;
const partition = aws.getPartition();&lt;/p&gt;

&lt;p&gt;// Attack the readonlyaccess policy&lt;br&gt;
partition.then((p) =&amp;gt; {&lt;br&gt;
  new aws.iam.PolicyAttachment("readOnly", {&lt;br&gt;
    policyArn: &lt;code&gt;arn:${p.partition}:iam::aws:policy/ReadOnlyAccess&lt;/code&gt;,&lt;br&gt;
    roles: [role.name],&lt;br&gt;
  });&lt;br&gt;
});&lt;br&gt;
`&lt;code&gt;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Our final step is to use Pulumi's &lt;code&gt;GitHub&lt;/code&gt; provider to store the role name in a GitHub actions secret, so we can quickly and easy access it from a workflow:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;&lt;/code&gt;&lt;code&gt;typescript&lt;br&gt;
new github.ActionsSecret("roleArn", {&lt;br&gt;
  repository: "secure-cloud-access",&lt;br&gt;
  secretName: "ROLE_ARN",&lt;br&gt;
  plaintextValue: role.arn,&lt;br&gt;
});&lt;br&gt;
&lt;/code&gt;&lt;code&gt;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Your final Pulumi program will look a bit like this:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;&lt;/code&gt;`typescript&lt;br&gt;
import * as aws from "@pulumi/aws";&lt;br&gt;
import * as github from "@pulumi/github"&lt;/p&gt;

&lt;p&gt;const oidcProvider = new aws.iam.OpenIdConnectProvider("secure-cloud-access", {&lt;br&gt;
  thumbprintLists: ["6938fd4d98bab03faadb97b34396831e3780aea1"],&lt;br&gt;
  clientIdLists: ["&lt;a href="https://github.com/jaxxstorm"&gt;https://github.com/jaxxstorm&lt;/a&gt;", "sts.amazonaws.com"],&lt;br&gt;
  url: "&lt;a href="https://token.actions.githubusercontent.com"&gt;https://token.actions.githubusercontent.com&lt;/a&gt;",&lt;br&gt;
});&lt;/p&gt;

&lt;p&gt;const role = new aws.iam.Role("secure-cloud-access", {&lt;br&gt;
  description: "Access for github.com/jaxxstorm/secure-cloud-access",&lt;br&gt;
  assumeRolePolicy: {&lt;br&gt;
    Version: "2012-10-17",&lt;br&gt;
    Statement: [&lt;br&gt;
      {&lt;br&gt;
        Action: ["sts:AssumeRoleWithWebIdentity"],&lt;br&gt;
        Effect: "Allow",&lt;br&gt;
        Condition: {&lt;br&gt;
          StringLike: {&lt;br&gt;
            "token.actions.githubusercontent.com:sub":&lt;br&gt;
              "repo:jaxxstorm/secure-cloud-access:*",&lt;br&gt;
          },&lt;br&gt;
        },&lt;br&gt;
        Principal: {&lt;br&gt;
          Federated: [oidcProvider.arn],&lt;br&gt;
        },&lt;br&gt;
      },&lt;br&gt;
    ],&lt;br&gt;
  } as aws.iam.PolicyDocument,&lt;br&gt;
});&lt;/p&gt;

&lt;p&gt;const partition = aws.getPartition();&lt;/p&gt;

&lt;p&gt;partition.then((p) =&amp;gt; {&lt;br&gt;
  new aws.iam.PolicyAttachment("readOnly", {&lt;br&gt;
    policyArn: &lt;code&gt;arn:${p.partition}:iam::aws:policy/ReadOnlyAccess&lt;/code&gt;,&lt;br&gt;
    roles: [role.name],&lt;br&gt;
  });&lt;br&gt;
});&lt;/p&gt;

&lt;p&gt;new github.ActionsSecret("roleArn", {&lt;br&gt;
  repository: "secure-cloud-access",&lt;br&gt;
  secretName: "ROLE_ARN",&lt;br&gt;
  plaintextValue: role.arn,&lt;br&gt;
});&lt;/p&gt;

&lt;p&gt;export const roleArn = role.arn;&lt;br&gt;
`&lt;code&gt;&lt;/code&gt;&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#define-your-github-actions-workflow"&gt;
  &lt;/a&gt;
  Define your GitHub Actions workflow
&lt;/h3&gt;

&lt;p&gt;Now, let's define a workflow to verify what credentials we got:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;&lt;/code&gt;`yaml&lt;/p&gt;

&lt;h1&gt;
  &lt;a href="#the-workflow-creates-static-website-using-aws-s3"&gt;
  &lt;/a&gt;
  The workflow Creates static website using aws s3
&lt;/h1&gt;

&lt;p&gt;name: AWS Workflow&lt;br&gt;
on:&lt;br&gt;
  push&lt;br&gt;
permissions:&lt;br&gt;
  id-token: write&lt;br&gt;
  contents: read&lt;br&gt;
jobs:&lt;br&gt;
  CheckAccess:&lt;br&gt;
    runs-on: ubuntu-latest&lt;br&gt;
    steps:&lt;br&gt;
      - name: Git clone the repository&lt;br&gt;
        uses: actions/checkout@v2&lt;br&gt;
      - name: configure aws credentials&lt;br&gt;
        uses: aws-actions/configure-aws-credentials@master&lt;br&gt;
        with:&lt;br&gt;
          role-to-assume: ${{ secrets.ROLE_ARN }}&lt;br&gt;
          role-session-name: githubactions&lt;br&gt;
          aws-region: us-west-2&lt;br&gt;
      - name:  Check permissions&lt;br&gt;
        run: |&lt;br&gt;
          aws sts get-caller-identity&lt;br&gt;
`&lt;code&gt;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;You'll notice we're passing the &lt;code&gt;ROLE_ARN&lt;/code&gt; from the repository secret directly, so we don't have to hardcode anything. Now, run your Pulumi program to create all the AWS resources needed, and check everything in. You should have access to AWS with &lt;code&gt;ReadOnly&lt;/code&gt; access, without having to specify any AWS credentials!&lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#azure"&gt;
  &lt;/a&gt;
  Azure
&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;The complete code for this example can be found &lt;a href="https://github.com/jaxxstorm/secure-cloud-access/tree/main/azure"&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;To configure "credentialless access" in Azure, we can follow a similar pattern. We'll need to use Pulumi's &lt;a href="https://www.pulumi.com/registry/packages/azuread/"&gt;Azure AD&lt;/a&gt; provider, the &lt;a href="https://www.pulumi.com/registry/packages/github/"&gt;GitHub&lt;/a&gt; as well as the &lt;a href="https://www.pulumi.com/registry/packages/azure-native/"&gt;Azure Native&lt;/a&gt; provider. We're also going to use the Azure SDK to make our life a little easier, so make sure you've run the following in your Pulumi program before you proceed:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;&lt;/code&gt;&lt;code&gt;yaml&lt;br&gt;
npm install @pulumi/azure-native @pulumi/azuread @pulumi/github @azure/arm-authorization @azure/ms-rest-js&lt;br&gt;
&lt;/code&gt;&lt;code&gt;&lt;/code&gt;&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#create-an-azure-ad-application-and-service-principal"&gt;
  &lt;/a&gt;
  Create an Azure AD Application and Service Principal
&lt;/h3&gt;

&lt;p&gt;Our first step is to define the user that GitHub actions will use to get its permissions. We create an Azure AD Application, a Service Principal and a random password, like so:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;&lt;/code&gt;`typescript&lt;br&gt;
// create an azure AD application&lt;br&gt;
const adApp = new azuread.Application("gha", {&lt;br&gt;
  displayName: "githubActions",&lt;br&gt;
});&lt;/p&gt;

&lt;p&gt;// create a service principal&lt;br&gt;
const adSp = new azuread.ServicePrincipal(&lt;br&gt;
  "ghaSp",&lt;br&gt;
  { applicationId: adApp.applicationId },&lt;br&gt;
  { parent: adApp }&lt;br&gt;
);&lt;/p&gt;

&lt;p&gt;// mandatory SP password&lt;br&gt;
const adSpPassword = new azuread.ServicePrincipalPassword(&lt;br&gt;
  "aksSpPassword",&lt;br&gt;
  {&lt;br&gt;
    servicePrincipalId: adSp.id,&lt;br&gt;
    endDate: "2099-01-01T00:00:00Z",&lt;br&gt;
  },&lt;br&gt;
  { parent: adSp }&lt;br&gt;
);&lt;br&gt;
`&lt;code&gt;&lt;/code&gt;&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#create-a-federated-identity-credential"&gt;
  &lt;/a&gt;
  Create a Federated Identity Credential
&lt;/h3&gt;

&lt;p&gt;Now here comes the magic. We're going to create a Federated Identity credential, which has a subject for our repository in it. Azure is stricter about the subject than AWS, so we'll need to define what part of the OIDC token we want to allow access. In this example, I'm allowing the main branch access, but you can use any part of the &lt;a href="https://docs.github.com/en/actions/deployment/security-hardening-your-deployments/about-security-hardening-with-openid-connect#understanding-the-oidc-token"&gt;OIDC token&lt;/a&gt; like the environment.&lt;/p&gt;

&lt;p&gt;&lt;code&gt;&lt;/code&gt;`typescript&lt;br&gt;
/*&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;This is the magic. We set the subject to the repo we're running from&lt;/li&gt;
&lt;li&gt;Also need to ensure your AD Application is the one where access is defined
*/
new azuread.ApplicationFederatedIdentityCredential(
"gha",
{
audiences: ["api://AzureADTokenExchange"],
subject: "repo:jaxxstorm/secure-cloud-access:ref:refs/heads/main", // this can be any ref
issuer: "&lt;a href="https://token.actions.githubusercontent.com"&gt;https://token.actions.githubusercontent.com&lt;/a&gt;",
applicationObjectId: adApp.objectId,
displayName: "github-actions",
},
{ parent: adApp }
);
`&lt;code&gt;&lt;/code&gt;
&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;
  &lt;a href="#define-a-permissions-this-application-gets"&gt;
  &lt;/a&gt;
  Define a permissions this application gets
&lt;/h3&gt;

&lt;p&gt;Now we've got the federated identity credential, we need to create a role assignment. There's going to be a lot to unpack here, so let's look at the code first, then walk through it.&lt;/p&gt;

&lt;p&gt;&lt;code&gt;&lt;/code&gt;`typescript&lt;/p&gt;

&lt;p&gt;import { AuthorizationManagementClient } from "@azure/arm-authorization";&lt;br&gt;
import { TokenCredentials } from "@azure/ms-rest-js";&lt;br&gt;
import * as authorization from "@pulumi/azure-native/authorization";&lt;/p&gt;

&lt;p&gt;async function getAuthorizationManagementClient(): Promise {&lt;br&gt;
  const config = await authorization.getClientConfig();&lt;br&gt;
  const token = await authorization.getClientToken();&lt;br&gt;
  const credentials = new TokenCredentials(token.token);&lt;br&gt;
  // Note: reuse the credentials and/or the client in case your scenario needs&lt;br&gt;
  // multiple calls to Azure SDKs.&lt;br&gt;
  return new AuthorizationManagementClient(credentials, config.subscriptionId);&lt;br&gt;
}&lt;/p&gt;

&lt;p&gt;async function getRoleIdByName(&lt;br&gt;
  roleName: string,&lt;br&gt;
  scope?: string&lt;br&gt;
): Promise {&lt;br&gt;
  const client = await getAuthorizationManagementClient();&lt;br&gt;
  const roles = await client.roleDefinitions.list(scope || "", {&lt;br&gt;
    filter: &lt;code&gt;roleName eq '${roleName}'&lt;/code&gt;,&lt;br&gt;
  });&lt;br&gt;
  if (roles.length === 0) {&lt;br&gt;
    throw new Error(&lt;code&gt;role "${roleName}" not found at scope "${scope}"&lt;/code&gt;);&lt;br&gt;
  }&lt;br&gt;
  if (roles.length &amp;gt; 1) {&lt;br&gt;
    throw new Error(&lt;br&gt;
      &lt;code&gt;too many roles "${roleName}" found at scope "${scope}". Found: ${roles.length}&lt;/code&gt;&lt;br&gt;
    );&lt;br&gt;
  }&lt;br&gt;
  const role = roles[0];&lt;br&gt;
  return role.id!;&lt;br&gt;
}&lt;/p&gt;

&lt;p&gt;const subInfo = authorization.getClientConfig();&lt;/p&gt;

&lt;p&gt;subInfo.then((info) =&amp;gt; {&lt;br&gt;
    new authorization.RoleAssignment("readOnly", {&lt;br&gt;
    principalId: adSp.id,&lt;br&gt;
    principalType: authorization.PrincipalType.ServicePrincipal,&lt;br&gt;
    scope: pulumi.interpolate&lt;code&gt;/subscriptions/${info.subscriptionId}&lt;/code&gt;,&lt;br&gt;
    roleDefinitionId: getRoleIdByName("Reader"),&lt;br&gt;
  });&lt;br&gt;
});&lt;br&gt;
`&lt;code&gt;&lt;/code&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Huge thanks to &lt;a href="https://twitter.com/mikhailshilkov"&gt;Mikhail Shilkov&lt;/a&gt; here for his prior art on retrieving the &lt;code&gt;roleDefinitionId&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Why do we need all this? Well, we could hard code the &lt;code&gt;roleDefinitionId&lt;/code&gt; but looking it up is cleaner. Let's step through it:&lt;/p&gt;

&lt;p&gt;First we define an auth client to talk to Azure using the Azure TypeScript SDK&lt;/p&gt;

&lt;p&gt;&lt;code&gt;&lt;/code&gt;&lt;code&gt;typescript&lt;br&gt;
async function getAuthorizationManagementClient():  Promise&amp;lt;AuthorizationManagementClient&amp;gt; {&lt;br&gt;
  const config = await authorization.getClientConfig();&lt;br&gt;
  const token = await authorization.getClientToken();&lt;br&gt;
  const credentials = new TokenCredentials(token.token);&lt;br&gt;
  // Note: reuse the credentials and/or the client in case your scenario needs&lt;br&gt;
  // multiple calls to Azure SDKs.&lt;br&gt;
  return new AuthorizationManagementClient(credentials, config.subscriptionId);&lt;br&gt;
}&lt;br&gt;
&lt;/code&gt;&lt;code&gt;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Then, we define a function which can look up an Azure role by its name, rather than the long string you define it by:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;&lt;/code&gt;&lt;code&gt;typescript&lt;br&gt;
async function getRoleIdByName(&lt;br&gt;
  roleName: string,&lt;br&gt;
  scope?: string&lt;br&gt;
): Promise&amp;lt;string&amp;gt; {&lt;br&gt;
  const client = await getAuthorizationManagementClient();&lt;br&gt;
  const roles = await client.roleDefinitions.list(scope || "", {&lt;br&gt;
    filter:&lt;/code&gt;roleName eq '${roleName}'&lt;code&gt;,&lt;br&gt;
  });&lt;br&gt;
  if (roles.length === 0) {&lt;br&gt;
    throw new Error(&lt;/code&gt;role "${roleName}" not found at scope "${scope}"&lt;code&gt;);&lt;br&gt;
  }&lt;br&gt;
  if (roles.length &amp;gt; 1) {&lt;br&gt;
    throw new Error(&lt;br&gt;
&lt;/code&gt;too many roles "${roleName}" found at scope "${scope}". Found: ${roles.length}&lt;code&gt;&lt;br&gt;
    );&lt;br&gt;
  }&lt;br&gt;
  const role = roles[0];&lt;br&gt;
  return role.id!;&lt;br&gt;
}&lt;br&gt;
&lt;/code&gt;&lt;code&gt;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Now, we use &lt;code&gt;azure-native&lt;/code&gt;'s &lt;code&gt;authorization&lt;/code&gt; package to get the current client information:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;&lt;/code&gt;&lt;code&gt;typescript&lt;br&gt;
const subInfo = authorization.getClientConfig();&lt;br&gt;
&lt;/code&gt;&lt;code&gt;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Now, we can create a role assignment for our service principal that defines the ReadOnly permission:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;&lt;/code&gt;&lt;code&gt;typescript&lt;br&gt;
subInfo.then((info) =&amp;gt; {&lt;br&gt;
    new authorization.RoleAssignment("readOnly", {&lt;br&gt;
    principalId: adSp.id,&lt;br&gt;
    principalType: authorization.PrincipalType.ServicePrincipal,&lt;br&gt;
    scope: pulumi.interpolate&lt;/code&gt;/subscriptions/${info.subscriptionId}&lt;code&gt;,&lt;br&gt;
    roleDefinitionId: getRoleIdByName("Reader"),&lt;br&gt;
  });&lt;br&gt;
});&lt;br&gt;
&lt;/code&gt;&lt;code&gt;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;At this stage, our service principal has read only permissions on the subscription we're using. Now, let's allow GitHub actions to use it.&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#define-github-secrets"&gt;
  &lt;/a&gt;
  Define GitHub secrets
&lt;/h3&gt;

&lt;p&gt;Our final step is to define the GitHub secrets that we use in our workflow:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;&lt;/code&gt;`typescript&lt;br&gt;
subInfo.then((info) =&amp;gt; {&lt;/p&gt;

&lt;p&gt;// define some github actions secrets so your AZ login is correct&lt;br&gt;
  new github.ActionsSecret("tenantId", {&lt;br&gt;
    repository: "secure-cloud-access",&lt;br&gt;
    secretName: "AZURE_TENANT_ID",&lt;br&gt;
    plaintextValue: info.tenantId,&lt;br&gt;
  });&lt;/p&gt;

&lt;p&gt;new github.ActionsSecret("subscriptionId", {&lt;br&gt;
    repository: "secure-cloud-access",&lt;br&gt;
    secretName: "AZURE_SUBSCRIPTION_ID",&lt;br&gt;
    plaintextValue: info.subscriptionId,&lt;br&gt;
  });&lt;br&gt;
});&lt;/p&gt;

&lt;p&gt;// finally, we set the client id to be the application we created&lt;br&gt;
new github.ActionsSecret("clientId", {&lt;br&gt;
  repository: "secure-cloud-access",&lt;br&gt;
  secretName: "AZURE_CLIENT_ID",&lt;br&gt;
  plaintextValue: adApp.applicationId,&lt;br&gt;
});&lt;br&gt;
`&lt;code&gt;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Note, we need to define the &lt;code&gt;tenantId&lt;/code&gt; and &lt;code&gt;subcriptionId&lt;/code&gt; inside the promise returned by the &lt;code&gt;subInfo&lt;/code&gt; call. The &lt;code&gt;clientId&lt;/code&gt; is set to our Azure AD application client id.&lt;/p&gt;

&lt;p&gt;Our complete Pulumi program looks like this:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;&lt;/code&gt;`typescript&lt;br&gt;
import * as pulumi from "@pulumi/pulumi";&lt;br&gt;
import * as authorization from "@pulumi/azure-native/authorization";&lt;br&gt;
import * as azuread from "@pulumi/azuread";&lt;br&gt;
import * as github from "@pulumi/github";&lt;/p&gt;

&lt;p&gt;import { AuthorizationManagementClient } from "@azure/arm-authorization";&lt;br&gt;
import { TokenCredentials } from "@azure/ms-rest-js";&lt;/p&gt;

&lt;p&gt;async function getAuthorizationManagementClient(): Promise {&lt;br&gt;
  const config = await authorization.getClientConfig();&lt;br&gt;
  const token = await authorization.getClientToken();&lt;br&gt;
  const credentials = new TokenCredentials(token.token);&lt;br&gt;
  // Note: reuse the credentials and/or the client in case your scenario needs&lt;br&gt;
  // multiple calls to Azure SDKs.&lt;br&gt;
  return new AuthorizationManagementClient(credentials, config.subscriptionId);&lt;br&gt;
}&lt;/p&gt;

&lt;p&gt;async function getRoleIdByName(&lt;br&gt;
  roleName: string,&lt;br&gt;
  scope?: string&lt;br&gt;
): Promise {&lt;br&gt;
  const client = await getAuthorizationManagementClient();&lt;br&gt;
  const roles = await client.roleDefinitions.list(scope || "", {&lt;br&gt;
    filter: &lt;code&gt;roleName eq '${roleName}'&lt;/code&gt;,&lt;br&gt;
  });&lt;br&gt;
  if (roles.length === 0) {&lt;br&gt;
    throw new Error(&lt;code&gt;role "${roleName}" not found at scope "${scope}"&lt;/code&gt;);&lt;br&gt;
  }&lt;br&gt;
  if (roles.length &amp;gt; 1) {&lt;br&gt;
    throw new Error(&lt;br&gt;
      &lt;code&gt;too many roles "${roleName}" found at scope "${scope}". Found: ${roles.length}&lt;/code&gt;&lt;br&gt;
    );&lt;br&gt;
  }&lt;br&gt;
  const role = roles[0];&lt;br&gt;
  return role.id!;&lt;br&gt;
}&lt;/p&gt;

&lt;p&gt;// create an azure AD application&lt;br&gt;
const adApp = new azuread.Application("gha", {&lt;br&gt;
  displayName: "githubActions",&lt;br&gt;
});&lt;/p&gt;

&lt;p&gt;// create a service principal&lt;br&gt;
const adSp = new azuread.ServicePrincipal(&lt;br&gt;
  "ghaSp",&lt;br&gt;
  { applicationId: adApp.applicationId },&lt;br&gt;
  { parent: adApp }&lt;br&gt;
);&lt;/p&gt;

&lt;p&gt;// mandatory SP password&lt;br&gt;
const adSpPassword = new azuread.ServicePrincipalPassword(&lt;br&gt;
  "aksSpPassword",&lt;br&gt;
  {&lt;br&gt;
    servicePrincipalId: adSp.id,&lt;br&gt;
    endDate: "2099-01-01T00:00:00Z",&lt;br&gt;
  },&lt;br&gt;
  { parent: adSp }&lt;br&gt;
);&lt;/p&gt;

&lt;p&gt;/*&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;This is the magic. We set the subject to the repo we're running from&lt;/li&gt;
&lt;li&gt;Also need to ensure your AD Application is the one where access is defined
*/
new azuread.ApplicationFederatedIdentityCredential(
"gha",
{
audiences: ["api://AzureADTokenExchange"],
subject: "repo:jaxxstorm/secure-cloud-access:ref:refs/heads/main", // this can be any ref
issuer: "&lt;a href="https://token.actions.githubusercontent.com"&gt;https://token.actions.githubusercontent.com&lt;/a&gt;",
applicationObjectId: adApp.objectId,
displayName: "github-actions",
},
{ parent: adApp }
);&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;// retrieve the current tenant and subscription&lt;br&gt;
const subInfo = authorization.getClientConfig();&lt;/p&gt;

&lt;p&gt;subInfo.then((info) =&amp;gt; {&lt;/p&gt;

&lt;p&gt;// define some github actions secrets so your AZ login is correct&lt;br&gt;
  new github.ActionsSecret("tenantId", {&lt;br&gt;
    repository: "secure-cloud-access",&lt;br&gt;
    secretName: "AZURE_TENANT_ID",&lt;br&gt;
    plaintextValue: info.tenantId,&lt;br&gt;
  });&lt;/p&gt;

&lt;p&gt;new github.ActionsSecret("subscriptionId", {&lt;br&gt;
    repository: "secure-cloud-access",&lt;br&gt;
    secretName: "AZURE_SUBSCRIPTION_ID",&lt;br&gt;
    plaintextValue: info.subscriptionId,&lt;br&gt;
  });&lt;/p&gt;

&lt;p&gt;/* define a role assignment so we have permissions on the subscription&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;We use the helper to get the role by name, but you can of course define it explicitly
*/
new authorization.RoleAssignment("readOnly", {
principalId: adSp.id,
principalType: authorization.PrincipalType.ServicePrincipal,
scope: pulumi.interpolate&lt;code&gt;/subscriptions/${info.subscriptionId}&lt;/code&gt;,
roleDefinitionId: getRoleIdByName("Reader"),
});
});&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;// finally, we set the client id to be the application we created&lt;br&gt;
new github.ActionsSecret("clientId", {&lt;br&gt;
  repository: "secure-cloud-access",&lt;br&gt;
  secretName: "AZURE_CLIENT_ID",&lt;br&gt;
  plaintextValue: adApp.applicationId,&lt;br&gt;
});&lt;br&gt;
`&lt;code&gt;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Run your Pulumi program and define all your infrastructure, then we can define our workflow.&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#define-the-github-actions-workflow"&gt;
  &lt;/a&gt;
  Define the GitHub Actions workflow
&lt;/h3&gt;

&lt;p&gt;Our GitHub actions workflow will use the secrets we defined to know how to authenticate. It looks a little bit like this:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;&lt;/code&gt;`yaml&lt;br&gt;
name: Run Azure Login with OpenID Connect&lt;br&gt;
on: [push]&lt;/p&gt;

&lt;p&gt;permissions:&lt;br&gt;
  id-token: write&lt;br&gt;
  contents: read&lt;/p&gt;

&lt;p&gt;jobs: &lt;br&gt;
  CheckAccess:&lt;br&gt;
    runs-on: ubuntu-latest&lt;br&gt;
    steps:&lt;br&gt;
    - name: 'Az CLI login'&lt;br&gt;
      uses: azure/login@v1&lt;br&gt;
      with:&lt;br&gt;
        client-id: ${{ secrets.AZURE_CLIENT_ID }}&lt;br&gt;
        tenant-id: ${{ secrets.AZURE_TENANT_ID }}&lt;br&gt;
        subscription-id: ${{ secrets.AZURE_SUBSCRIPTION_ID }}&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;- name: 'Run Azure CLI commands'
  run: |
      az account show
      az group list
      pwd 
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;

&lt;p&gt;`&lt;code&gt;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Check all this in, and watch the magic as GitHub Actions is now authenticated against Azure!&lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#google-cloud"&gt;
  &lt;/a&gt;
  Google Cloud
&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;The complete code for this example can be found &lt;a href="https://github.com/jaxxstorm/secure-cloud-access/tree/main/gcp"&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Google Cloud supports OIDC authentication using workflow providers. We'll use the &lt;code&gt;@pulumi/gcp&lt;/code&gt; and &lt;code&gt;@pulumi/google-native&lt;/code&gt; to achieve our goals here, so make sure the following packages are installed in your Pulumi program:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;&lt;/code&gt;&lt;code&gt;yaml&lt;br&gt;
npm install @pulumi/gcp @pulumi/google-native&lt;br&gt;
&lt;/code&gt;&lt;code&gt;&lt;/code&gt;&lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#define-the-service-account"&gt;
  &lt;/a&gt;
  Define the Service Account
&lt;/h2&gt;

&lt;p&gt;We'll need a GCP service account to for GitHub actions to use. We'll assign the service account the &lt;code&gt;viewer&lt;/code&gt; role:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;&lt;/code&gt;`typescript&lt;br&gt;
const serviceAccount = new google.iam.v1.ServiceAccount(name, {&lt;br&gt;
    accountId: "github-actions"&lt;br&gt;
})&lt;/p&gt;

&lt;p&gt;new gcp.projects.IAMMember("github-actions", {&lt;br&gt;
    role: "roles/viewer",&lt;br&gt;
    member: pulumi.interpolate&lt;code&gt;serviceAccount:${serviceAccount.email}&lt;/code&gt;&lt;br&gt;
})&lt;br&gt;
`&lt;code&gt;&lt;/code&gt;&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#create-a-workloadidentitypool"&gt;
  &lt;/a&gt;
  Create a WorkloadIdentityPool
&lt;/h3&gt;

&lt;p&gt;Now we'll define a workload identity pool for GitHub actions to use&lt;/p&gt;

&lt;p&gt;&lt;code&gt;&lt;/code&gt;&lt;code&gt;typescript&lt;br&gt;
const identityPool = new gcp.iam.WorkloadIdentityPool("github-actions", {&lt;br&gt;
  disabled: false,&lt;br&gt;
  workloadIdentityPoolId:&lt;/code&gt;github-actions&lt;code&gt;,&lt;br&gt;
});&lt;br&gt;
&lt;/code&gt;&lt;code&gt;&lt;/code&gt;&lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#create-a-workloadidentitypoolprovider"&gt;
  &lt;/a&gt;
  Create a WorkloadIdentityPoolProvider
&lt;/h2&gt;

&lt;p&gt;We'll now need to define a provider for this workload identity pool. The mappings section is important, here is where we map Google OIDC subjects to the OIDC token objects. The following works pretty well:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;&lt;/code&gt;&lt;code&gt;typescript&lt;br&gt;
const identityPoolProvider = new gcp.iam.WorkloadIdentityPoolProvider(&lt;br&gt;
  "github-actions",&lt;br&gt;
  {&lt;br&gt;
    workloadIdentityPoolId: identityPool.workloadIdentityPoolId,&lt;br&gt;
    workloadIdentityPoolProviderId: "github-actions",&lt;br&gt;
    oidc: {&lt;br&gt;
      issuerUri: "https://token.actions.githubusercontent.com",&lt;br&gt;
    },&lt;br&gt;
    attributeMapping: {&lt;br&gt;
      "google.subject": "assertion.sub",&lt;br&gt;
      "attribute.actor": "assertion.actor",&lt;br&gt;
      "attribute.repository": "assertion.repository",&lt;br&gt;
    },&lt;br&gt;
  }&lt;br&gt;
);&lt;br&gt;
&lt;/code&gt;&lt;code&gt;&lt;/code&gt;&lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#assign-the-workload-identity-permission"&gt;
  &lt;/a&gt;
  Assign the workload identity permission
&lt;/h2&gt;

&lt;p&gt;Now we've defined the workload identity and provider, we need to allow our earlier defined service account to use these new resources:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;&lt;/code&gt;&lt;code&gt;typescript&lt;br&gt;
new gcp.serviceaccount.IAMMember("repository", {&lt;br&gt;
    serviceAccountId: serviceAccount.name,&lt;br&gt;
    role: "roles/iam.workloadIdentityUser",&lt;br&gt;
    member: pulumi.interpolate&lt;/code&gt;principalSet://iam.googleapis.com/${identityPool.name}/attribute.repository/jaxxstorm/secure-cloud-access&lt;code&gt;&lt;br&gt;
})&lt;br&gt;
&lt;/code&gt;&lt;code&gt;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Notice here that we interpolate the name of the identity pool, and also the name of the repository that we want to access.&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#create-the-github-actions-secrets"&gt;
  &lt;/a&gt;
  Create the GitHub actions secrets
&lt;/h3&gt;

&lt;p&gt;Now we'll store some important information in GitHub secrets so we don't have to hardcode them in our workflow:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;&lt;/code&gt;`typescript&lt;br&gt;
new github.ActionsSecret("identityProvider", {&lt;br&gt;
  repository: "secure-cloud-access",&lt;br&gt;
  secretName: "WORKLOAD_IDENTITY_PROVIDER",&lt;br&gt;
  plaintextValue: identityPoolProvider.name,&lt;br&gt;
});&lt;/p&gt;

&lt;p&gt;new github.ActionsSecret("subscriptionId", {&lt;br&gt;
  repository: "secure-cloud-access",&lt;br&gt;
  secretName: "SERVICE_ACCOUNT_EMAIL",&lt;br&gt;
  plaintextValue: serviceAccount.email,&lt;br&gt;
});&lt;br&gt;
`&lt;code&gt;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;We're storing the identity pool provider name, and the service account we created's email address as actions.&lt;/p&gt;

&lt;p&gt;Your complete Pulumi program should look like this:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;&lt;/code&gt;`typescript&lt;br&gt;
import * as pulumi from "@pulumi/pulumi";&lt;br&gt;
import * as gcp from "@pulumi/gcp";&lt;br&gt;
import * as google from "@pulumi/google-native";&lt;br&gt;
import * as github from "@pulumi/github";&lt;/p&gt;

&lt;p&gt;const name = "github-actions";&lt;/p&gt;

&lt;p&gt;const serviceAccount = new google.iam.v1.ServiceAccount(name, {&lt;br&gt;
  accountId: "github-actions",&lt;br&gt;
});&lt;/p&gt;

&lt;p&gt;new gcp.projects.IAMMember("github-actions", {&lt;br&gt;
  role: "roles/viewer",&lt;br&gt;
  member: pulumi.interpolate&lt;code&gt;serviceAccount:${serviceAccount.email}&lt;/code&gt;,&lt;br&gt;
});&lt;/p&gt;

&lt;p&gt;const identityPool = new gcp.iam.WorkloadIdentityPool("github-actions", {&lt;br&gt;
  disabled: false,&lt;br&gt;
  workloadIdentityPoolId: &lt;code&gt;${name}-4&lt;/code&gt;,&lt;br&gt;
});&lt;/p&gt;

&lt;p&gt;const identityPoolProvider = new gcp.iam.WorkloadIdentityPoolProvider(&lt;br&gt;
  "github-actions",&lt;br&gt;
  {&lt;br&gt;
    workloadIdentityPoolId: identityPool.workloadIdentityPoolId,&lt;br&gt;
    workloadIdentityPoolProviderId: &lt;code&gt;${name}&lt;/code&gt;,&lt;br&gt;
    oidc: {&lt;br&gt;
      issuerUri: "&lt;a href="https://token.actions.githubusercontent.com"&gt;https://token.actions.githubusercontent.com&lt;/a&gt;",&lt;br&gt;
    },&lt;br&gt;
    attributeMapping: {&lt;br&gt;
      "google.subject": "assertion.sub",&lt;br&gt;
      "attribute.actor": "assertion.actor",&lt;br&gt;
      "attribute.repository": "assertion.repository",&lt;br&gt;
    },&lt;br&gt;
  }&lt;br&gt;
);&lt;/p&gt;

&lt;p&gt;new gcp.serviceaccount.IAMMember("repository", {&lt;br&gt;
  serviceAccountId: serviceAccount.name,&lt;br&gt;
  role: "roles/iam.workloadIdentityUser",&lt;br&gt;
  member: pulumi.interpolate&lt;code&gt;principalSet://iam.googleapis.com/${identityPool.name}/attribute.repository/jaxxstorm/secure-cloud-access&lt;/code&gt;,&lt;br&gt;
});&lt;/p&gt;

&lt;p&gt;new github.ActionsSecret("identityProvider", {&lt;br&gt;
  repository: "secure-cloud-access",&lt;br&gt;
  secretName: "WORKLOAD_IDENTITY_PROVIDER",&lt;br&gt;
  plaintextValue: identityPoolProvider.name,&lt;br&gt;
});&lt;/p&gt;

&lt;p&gt;new github.ActionsSecret("subscriptionId", {&lt;br&gt;
  repository: "secure-cloud-access",&lt;br&gt;
  secretName: "SERVICE_ACCOUNT_EMAIL",&lt;br&gt;
  plaintextValue: serviceAccount.email,&lt;br&gt;
});&lt;/p&gt;

&lt;p&gt;export const workloadIdentityProviderUrl = identityPoolProvider.name;&lt;br&gt;
export const serviceAccountEmail = serviceAccount.email;&lt;br&gt;
`&lt;code&gt;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Run your Pulumi program, created the needed resources and then we can define our workflow.&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#define-the-workflow"&gt;
  &lt;/a&gt;
  Define the workflow
&lt;/h3&gt;

&lt;p&gt;Now we've configured all the access we need, we can define a workflow to check our access:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;&lt;/code&gt;`yaml&lt;br&gt;
name: List services in GCP&lt;br&gt;
on:&lt;br&gt;
  push&lt;/p&gt;

&lt;p&gt;permissions:&lt;br&gt;
  id-token: write&lt;/p&gt;

&lt;p&gt;jobs:&lt;br&gt;
  Get_OIDC_ID_token:&lt;br&gt;
    runs-on: ubuntu-latest&lt;br&gt;
    steps:&lt;br&gt;
    - id: 'auth'&lt;br&gt;
      name: 'Authenticate to GCP'&lt;br&gt;
      uses: 'google-github-actions/&lt;a href="mailto:auth@v0.3.1"&gt;auth@v0.3.1&lt;/a&gt;'&lt;br&gt;
      with:&lt;br&gt;
          create_credentials_file: 'true'&lt;br&gt;
          workload_identity_provider: ${{ secrets.WORKLOAD_IDENTITY_PROVIDER }}&lt;br&gt;
          service_account: ${{ secrets.SERVICE_ACCOUNT_EMAIL }}&lt;br&gt;
    - id: 'gcloud'&lt;br&gt;
      name: 'gcloud'&lt;br&gt;
      run: |-&lt;br&gt;
        gcloud auth login --brief --cred-file="${{ steps.auth.outputs.credentials_file_path }}" --project briggs-237615&lt;br&gt;
        gcloud auth list&lt;br&gt;
`&lt;code&gt;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;We're using the &lt;code&gt;auth&lt;/code&gt; action, creating a credentials file and then verifying we're authenticated.&lt;/p&gt;

&lt;p&gt;Check all this in, and watch in awe as your GitHub action runs with GCP access without any hardcoded credentials!&lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#wrap-up"&gt;
  &lt;/a&gt;
  Wrap Up
&lt;/h2&gt;

&lt;p&gt;This blog post guides you through accessing the 3 major cloud providers with GitHub Actions without specifying hardcoded credentials. It's my hope that more CI/CD providers will offer this support soon, as well as other awesome cloud providers. &lt;/p&gt;

</description>
      <category>aws</category>
      <category>azure</category>
      <category>github</category>
      <category>googlecloud</category>
    </item>
    <item>
      <title>Reverse-engineering frontend (Cuphead's film-grain effect)! Can you?</title>
      <author>Michael Z</author>
      <pubDate>Sun, 23 Jan 2022 22:10:02 +0000</pubDate>
      <link>https://dev.to/michi/reverse-engineering-frontend-cupheads-film-grain-effect-can-you-c9o</link>
      <guid>https://dev.to/michi/reverse-engineering-frontend-cupheads-film-grain-effect-can-you-c9o</guid>
      <description>&lt;p&gt;For quite a while I've been thinking how cool it would be to have a website in the style of the fantastic game Cuphead. How would that even look like? Then, out of nowhere, either Netflix, or Cuphead's team - not sure, releases &lt;a href="https://cupheadcountdown.com"&gt;https://cupheadcountdown.com&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Immediately, I noticed the film-grain effect on the website and wanted to have it ;)&lt;/p&gt;

&lt;p&gt;If you are not sure what I mean, it's this: &lt;a href="https://rqnmd.csb.app/"&gt;https://rqnmd.csb.app/&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;Let me share with you how I extracted it from their website.&lt;/p&gt;

&lt;p&gt;I invite you to try it out for yourself, maybe you come up with a different approach!&lt;/p&gt;

&lt;p&gt;If you want to go straight to the end, there you go: &lt;a href="https://github.com/MZanggl/film-grain"&gt;https://github.com/MZanggl/film-grain&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Let's get started!&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#checking-the-html"&gt;
  &lt;/a&gt;
  Checking the HTML
&lt;/h3&gt;

&lt;p&gt;As usual with these things, opening the "Elements" tab in devtools was the first step to solving this puzzle.&lt;/p&gt;

&lt;p&gt;Immediately I noticed it was using Nuxt.js due to elements like &lt;code&gt;&amp;lt;div id="_nuxt"&amp;gt;&lt;/code&gt;, not relevant yet, but it's at least an indication that the JavaScript will be most likely compiled and not a walk in the park to read.&lt;/p&gt;

&lt;p&gt;Going inside &lt;code&gt;&amp;lt;main&amp;gt;&lt;/code&gt; I found the accurately-named element &lt;code&gt;&amp;lt;div class="filmGrain"&amp;gt;&lt;/code&gt; containing a canvas.&lt;br&gt;
It was spanning the entire page with pointer-events turned off so you could still click around.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight html"&gt;&lt;code&gt;&lt;span class="nt"&gt;&amp;lt;style&amp;gt;&lt;/span&gt;
  &lt;span class="nc"&gt;.filmGrain&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nl"&gt;width&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="m"&gt;100%&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="nl"&gt;height&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="m"&gt;100%&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="nl"&gt;position&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;absolute&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="nl"&gt;top&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="nl"&gt;left&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="nl"&gt;pointer-events&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;none&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;

  &lt;span class="nc"&gt;.filmGrain&lt;/span&gt; &lt;span class="nt"&gt;canvas&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nl"&gt;width&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="m"&gt;100%&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="nl"&gt;height&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="m"&gt;100%&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="py"&gt;mix-blend-mode&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;multiply&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="nl"&gt;position&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;relative&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/style&amp;gt;&lt;/span&gt;

&lt;span class="nt"&gt;&amp;lt;div&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;"filmGrain"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;canvas&amp;gt;&amp;lt;/canvas&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;Unfortunately it's not so easy to look into a canvas, so that's where the next challenge lies.&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#finding-the-relevant-code-for-painting-the-canvas"&gt;
  &lt;/a&gt;
  Finding the relevant code for painting the Canvas
&lt;/h3&gt;

&lt;p&gt;By focusing on the &lt;code&gt;&amp;lt;canvas&amp;gt;&lt;/code&gt; element in the devtools "Elements" tab, you can access it in the console using &lt;code&gt;$0&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Trying out various context types, I found out that it's using webgl.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight javascript"&gt;&lt;code&gt;&lt;span class="nx"&gt;$0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;getContext&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="dl"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;2d&lt;/span&gt;&lt;span class="dl"&gt;'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;// null&lt;/span&gt;
&lt;span class="nx"&gt;$0&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;getContext&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="dl"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;webgl&lt;/span&gt;&lt;span class="dl"&gt;'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;// bingo!&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;With this knowledge it's easier to find the relevant code in the compiled JavaScript.&lt;/p&gt;

&lt;p&gt;In the "Sources" tab, I right-clicked on "&lt;a href="http://www.cupheadcountdown.com"&gt;www.cupheadcountdown.com&lt;/a&gt;" &amp;gt; "Search in Files" and searched for "webgl".&lt;br&gt;
This yielded 3 results which I checked, after using my browser's "pretty print" option on the bottom left.&lt;/p&gt;

&lt;p&gt;The third result looked very promising, here's a snippet from said code (compiled &amp;amp; pretty printed):&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight javascript"&gt;&lt;code&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;enable&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;animID&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;requestAnimationFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;render&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="nb"&gt;window&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;addEventListener&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;resize&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;onResize&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;disable&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nx"&gt;cancelAnimationFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;animID&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="nb"&gt;window&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;removeEventListener&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;resize&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;onResize&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;animID&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;null&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;render&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;time&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;animID&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;requestAnimationFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;render&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;skipFrame&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;skipFrame&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;skipFrame&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="nx"&gt;r&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;d&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;gl&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;canvas&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;gl&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;viewport&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;viewport&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;viewport&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;y&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;gl&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;useProgram&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;programInfo&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;program&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="nx"&gt;r&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;e&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;gl&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;programInfo&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;bufferInfo&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;uniforms&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;time&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;001&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="nx"&gt;time&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;uniforms&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;color1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;color1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;r&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;color1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;g&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;color1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;b&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;uniforms&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;color2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;color2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;r&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;color2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;g&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;color2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;b&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;uniforms&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;resolution&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;viewport&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;viewport&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;y&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
    &lt;span class="nx"&gt;r&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;f&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;programInfo&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;uniforms&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="nx"&gt;r&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;gl&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;bufferInfo&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;h3&gt;
  &lt;a href="#reverseengineering-the-compiled-code"&gt;
  &lt;/a&gt;
  Reverse-Engineering the compiled code
&lt;/h3&gt;

&lt;p&gt;The code was fairly readable, frankly I had no idea what all these one-letter variable names were for... Though the frequently used variable &lt;code&gt;o&lt;/code&gt; was easy as it was declared just at the top of the function as &lt;code&gt;var o = this;&lt;/code&gt;. It's the Vue component instance.&lt;/p&gt;

&lt;p&gt;With this, I laid out the code in a class, and I got most of it looking like regular code again.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight javascript"&gt;&lt;code&gt;&lt;span class="kd"&gt;class&lt;/span&gt; &lt;span class="nx"&gt;GrainRenderer&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="nx"&gt;render&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;time&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;animID&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;requestAnimationFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;render&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;bind&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
    &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;skipFrame&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;skipFrame&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;skipFrame&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nx"&gt;r&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;d&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;gl&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;canvas&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;gl&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;viewport&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;viewport&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;viewport&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;y&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="c1"&gt;// ...&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;What's interesting about the above code is that the variable names for a class are not shortened (&lt;code&gt;this.skipFrame&lt;/code&gt;) and so it's very easy to comprehend all the other code. This is important for later.&lt;/p&gt;

&lt;p&gt;Now it's to find out what the variable names "r", "h", and "c" stand for...&lt;/p&gt;

&lt;p&gt;"r" is being used all over the place and contains lots of functions like "r.d", "r.c", or "r.f".&lt;br&gt;
"c" and "h" are only being used once &lt;code&gt;this.programInfo = r.b(this.gl, [c.a, h.a]);&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;I realized the code is using &lt;code&gt;requestAnimationFrame&lt;/code&gt; so the "render" method will run in a constant loop. This is where I now set a breakpoint and triggered the browser's debugger by focusing on the cupheadcountdown.com tab.&lt;/p&gt;

&lt;p&gt;Luckily, &lt;code&gt;c.a&lt;/code&gt; and &lt;code&gt;h.a&lt;/code&gt; turned out to be just strings. Strings containing GLSL language, which is used for rendering webGL.&lt;/p&gt;

&lt;p&gt;The code for &lt;code&gt;c.a&lt;/code&gt; is simply:&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight glsl"&gt;&lt;code&gt;&lt;span class="k"&gt;attribute&lt;/span&gt; &lt;span class="kt"&gt;vec4&lt;/span&gt; &lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nb"&gt;gl_Position&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;position&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="err"&gt;`&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;while the other string was a lot bigger. It was what entailed the actual code to render the film-grain effect. The devs conveniently left comments in the code:&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight javascript"&gt;&lt;code&gt;&lt;span class="c1"&gt;// Random spots&lt;/span&gt;
&lt;span class="c1"&gt;// Vignette&lt;/span&gt;
&lt;span class="c1"&gt;// Random lines&lt;/span&gt;
&lt;span class="c1"&gt;// Grain&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;h3&gt;
  &lt;a href="#whats-r"&gt;
  &lt;/a&gt;
  What's "r"...
&lt;/h3&gt;

&lt;p&gt;Now to the final hurdle...&lt;/p&gt;

&lt;p&gt;Stepping into some of &lt;code&gt;r&lt;/code&gt;'s functions with the debugger turned out that it's a rabbit-hole. Rather than digging deep, this got me thinking. Would they really go to such lengths or is this maybe a library? This is where the non-compiled variable names comes into play (like "this.programInfo").&lt;/p&gt;

&lt;p&gt;Searching for &lt;code&gt;webgl "programInfo"&lt;/code&gt; yielded a few promising results. And finally, the documentation of twgl.js looked like it contained all the relevant functions.&lt;/p&gt;

&lt;p&gt;it's quite doable to map most functions by comparing the arguments the functions took, the order in which the code was executed, as well as the variable names.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight javascript"&gt;&lt;code&gt;&lt;span class="c1"&gt;// cuphead&lt;/span&gt;
&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;programInfo&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;r&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;b&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;gl&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;c&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;h&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;a&lt;/span&gt;&lt;span class="p"&gt;]);&lt;/span&gt;
&lt;span class="c1"&gt;//twgl.js docs&lt;/span&gt;
&lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;programInfo&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;twgl&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;createProgramInfo&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;gl&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;vs&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;fs&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;]);&lt;/span&gt;

&lt;span class="c1"&gt;// cuphead&lt;/span&gt;
&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;bufferInfo&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;r&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;a&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;gl&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="na"&gt;position&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="p"&gt;})&lt;/span&gt;
&lt;span class="c1"&gt;// twgl.js docs&lt;/span&gt;
&lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;arrays&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="na"&gt;position&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;
&lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;bufferInfo&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;twgl&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;createBufferInfoFromArrays&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;gl&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;arrays&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="c1"&gt;// cuphead&lt;/span&gt;
&lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;gl&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;useProgram&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;programInfo&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;program&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;span class="nx"&gt;r&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;e&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;gl&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;programInfo&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;bufferInfo&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;span class="c1"&gt;// ...&lt;/span&gt;
&lt;span class="nx"&gt;r&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;f&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;programInfo&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;uniforms&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;span class="nx"&gt;r&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;gl&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;bufferInfo&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="c1"&gt;// twgl.js&lt;/span&gt;
&lt;span class="nx"&gt;gl&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;useProgram&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;programInfo&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;program&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="nx"&gt;twgl&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;setBuffersAndAttributes&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;gl&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;programInfo&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;bufferInfo&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="nx"&gt;twgl&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;setUniforms&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;programInfo&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;uniforms&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="nx"&gt;twgl&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;drawBufferInfo&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;gl&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;bufferInfo&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;The only difficult one was &lt;code&gt;r.d(o.gl.canvas, .5)&lt;/code&gt;. So I stepped into the function with the debugger and found this code:&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight javascript"&gt;&lt;code&gt;&lt;span class="kd"&gt;function&lt;/span&gt; &lt;span class="nx"&gt;ze&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;canvas&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nx"&gt;t&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;t&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="nx"&gt;t&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;Math&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;max&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;t&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;e&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;canvas&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;clientWidth&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="nx"&gt;t&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
      &lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;n&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;canvas&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;clientHeight&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="nx"&gt;t&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;canvas&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;width&lt;/span&gt; &lt;span class="o"&gt;!==&lt;/span&gt; &lt;span class="nx"&gt;e&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="nx"&gt;canvas&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;height&lt;/span&gt; &lt;span class="o"&gt;!==&lt;/span&gt; &lt;span class="nx"&gt;n&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;canvas&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;width&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;e&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="nx"&gt;canvas&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;height&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;n&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;With this, I opened twgl.js' GitHub page and looked for for "Math.max". After a bit of searching I finally found this code: &lt;a href="https://github.com/greggman/twgl.js/blob/42291da89afb019d1b5e32cd98686aa07cca063d/npm/base/dist/twgl.js#L4683-L4695"&gt;https://github.com/greggman/twgl.js/blob/42291da89afb019d1b5e32cd98686aa07cca063d/npm/base/dist/twgl.js#L4683-L4695&lt;/a&gt;. Got it!&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;And voila, puzzle solved&lt;/strong&gt;.&lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#closing"&gt;
  &lt;/a&gt;
  Closing
&lt;/h2&gt;

&lt;p&gt;This was a fun little challenge, I hope you could take something away from it. Even it's just that you should definitely play and (soon) watch Cuphead ;)&lt;/p&gt;

&lt;p&gt;Would you have approached it differently?&lt;/p&gt;

</description>
      <category>javascript</category>
      <category>challenge</category>
    </item>
    <item>
      <title>Adding a Windows 2019 DC to Your Samba Domain</title>
      <author>Duygu √ñlmez</author>
      <pubDate>Sun, 23 Jan 2022 21:38:01 +0000</pubDate>
      <link>https://dev.to/aciklab/adding-a-windows-2019-dc-to-your-samba-domain-im2</link>
      <guid>https://dev.to/aciklab/adding-a-windows-2019-dc-to-your-samba-domain-im2</guid>
      <description>&lt;h1&gt;
  &lt;a href="#adding-a-windows-2019-dc-to-your-samba-domain"&gt;
  &lt;/a&gt;
  Adding a Windows 2019 DC to Your Samba Domain
&lt;/h1&gt;

&lt;p&gt;In this document MSAD 2016 or 2019 joins a Samba-AD with version 4.15.&lt;/p&gt;

&lt;p&gt;This documentation is intended for system administrators that need an MS-AD domain controller in their Samba-AD domain for technical reasons (Azure-Sync, etc.).&lt;/p&gt;




&lt;p&gt;‚ùó&lt;strong&gt;Hint&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Since version 4.12, Samba-AD manages a 2012R2 schema level but still with a functional level in 2008R2. It is therefore possible to join a Windows Server 2012R2 configured in 2008R2 functional level with a Samba-AD domain as an AD.&lt;/p&gt;







&lt;p&gt;‚úÖ&lt;strong&gt;Important&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Since version 4.12, Samba-AD manages a 2012R2 schema level but still with a functional level in 2008R2. It is therefore possible to join a Windows Server 2012R2 configured in 2008R2 functional level with a Samba-AD domain as an AD.&lt;/p&gt;




&lt;h2&gt;
  &lt;a href="#microsoft-active-directory-2019"&gt;
  &lt;/a&gt;
  Microsoft Active Directory 2019
&lt;/h2&gt;

&lt;h3&gt;
  &lt;a href="#preparing-your-sambaad-for-the-future-junction"&gt;
  &lt;/a&gt;
  Preparing your Samba-AD for the future junction
&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;Backup the Samba-AD because irreversible changes will be made;&lt;/li&gt;
&lt;li&gt;Upgrade Samba to its latest 4.15 version;&lt;/li&gt;
&lt;li&gt;Install the required dependencies to join the Windows Server:
&lt;/li&gt;
&lt;/ul&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;# RedHat8 and derived distributions
yum install python3-markdown
# Debian
apt install python3-markdown
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;ul&gt;
&lt;li&gt;Then run the following commands, these will join the MS Server 2019 in your domain:
&lt;/li&gt;
&lt;/ul&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;samba-tool domain schemaupgrade
samba-tool domain functionalprep --function-level=2012_R2 --forest-prep --domain-prep
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;ul&gt;
&lt;li&gt;Set schema version to 2019
&lt;/li&gt;
&lt;/ul&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;priv=$(smbd -b | grep -i private_dir | cut -d : -f 2 | xargs)
defaultNamingContext=$(ldbsearch -H ldap://127.0.0.1 -s base -b "" defaultNamingContext | grep defaultNamingContext | cut -d : -f 2 | xargs)
schemaNamingContext=$(ldbsearch -H ldap://127.0.0.1 -s base -b "" schemaNamingContext | grep schema | cut -d : -f 2 | xargs)
ldbedit -e "sed -i 's/objectVersion:.*/objectVersion: 88/g'" -H $priv/sam.ldb '(objectClass=dMD)' -b $schemaNamingContext
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;ul&gt;
&lt;li&gt;Check the directory database:
&lt;/li&gt;
&lt;/ul&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;samba-tool dbcheck --cross-ncs --fix --yes  --reset-well-known-acls 
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;






&lt;p&gt;&lt;strong&gt;‚òëÔ∏èNote&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;It is possible that errors appear when launching the command the first time, just run it a second time.&lt;/p&gt;




&lt;ul&gt;
&lt;li&gt;Enable schema updates in Samba AD:
&lt;/li&gt;
&lt;/ul&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;if grep -q "dsdb:schema update allowed" /etc/samba/smb.conf; then     
    sed -i '/dsdb:schema update allowed=true/d' /etc/samba/smb.conf
fi
sed -i '/global/a dsdb:schema update allowed=true' /etc/samba/smb.conf
systemctl restart samba-ad-dc
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;h3&gt;
  &lt;a href="#preparing-and-joining-the-microsoft-active-directory-2019"&gt;
  &lt;/a&gt;
  Preparing and joining the Microsoft Active Directory 2019
&lt;/h3&gt;




&lt;p&gt;&lt;strong&gt;‚òëÔ∏èNote&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;It is recommended to use an English version of Windows Server for infrastructure services. This allows you to have logs in English and feel less lonely when searching on the Internet.&lt;/p&gt;




&lt;ul&gt;
&lt;li&gt;&lt;p&gt;If not already done, set the server to a fixed IP and configure the DNS redirector to point to the main AD;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Force the activation of the Sysvol directory on the MS-AD:&lt;br&gt;
&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;  Set-ItemProperty -Path "HKLM:\SYSTEM\CurrentControlSet\Services\W32Time\Parameters"  -Name "SysVolReady" -Value  0
  Restart-Computer
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;ul&gt;
&lt;li&gt;Install the Active Directory components. In a PowerShell console run the following commands:
&lt;/li&gt;
&lt;/ul&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;Install-WindowsFeature AD-Domain-Services
Add-WindowsFeature RSAT-ADLDS
Add-WindowsFeature RSAT-ADDS-Tools
Add-WindowsFeature RSAT-DNS-Server
Add-WindowsFeature RSAT-DFS-Mgmt-Con
Add-WindowsFeature GPMC
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;ul&gt;
&lt;li&gt;Now that the role is installed, promote the server to AD and set it up;&lt;/li&gt;
&lt;/ul&gt;




&lt;p&gt;&lt;strong&gt;‚òëÔ∏èNote&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The following command will open a popup that will ask for the &lt;em&gt;Domain Admins&lt;/em&gt; credentials to join the server (in graphical mode), then the credentials for the AD restore mode (in text mode).&lt;/p&gt;







&lt;p&gt;&lt;strong&gt;‚òëÔ∏èNote&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;If not already done, synchronize the time between MS-AD domain controller in their Samba-AD domain with the following command:
&lt;/li&gt;
&lt;/ul&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;w32tm /config /syncfromflags:manual /manualpeerlist:‚ÄùNTP Server‚Äù /reliable:yes /update
w32tm /resync /force
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;









&lt;p&gt;&lt;strong&gt;‚òëÔ∏èNote&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Of course &lt;strong&gt;modify&lt;/strong&gt; the values &lt;em&gt;Credential&lt;/em&gt;, &lt;em&gt;DomainName&lt;/em&gt;, &lt;em&gt;SiteName&lt;/em&gt; and &lt;em&gt;ReplicationSourceDC&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;There is a &lt;em&gt;back quote&lt;/em&gt; character at the end of each line. Do not remove it or PowerShell will interpret this command as multiple commands.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;Install-ADDSDomainController  `
   -Credential (Get-Credential "MIGRATE\Administrator") `
   -DomainName 'migrate.lab' `
   -SiteName 'Default-First-Site-Name' `
   -ReplicationSourceDC smb-adds01.migrate.lab `
   -CreateDnsDelegation:$false  `
   -DatabasePath 'C:\Windows\NTDS' `
   -InstallDns:$true  `
   -LogPath 'C:\Windows\NTDS' `
   -NoGlobalCatalog:$false `
   -SysvolPath 'C:\Windows\SYSVOL'  `
   -NoRebootOnCompletion:$true  `
   -Force:$true
Restart-Computer
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;






&lt;p&gt;&lt;strong&gt;‚òëÔ∏èNote&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;At this stage, the Windows Active Directory is properly attached to  the domain. However, some options need to be adjusted on the sysvol, DNS and NTP parts.&lt;/p&gt;




&lt;ul&gt;
&lt;li&gt;Force the activation of the Sysvol directory on the MS-AD:
&lt;/li&gt;
&lt;/ul&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;  Set-ItemProperty -Path "HKLM:\SYSTEM\CurrentControlSet\Services\Netlogon\Parameters" -Name "SysvolReady" -Value "1"
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Copy the contents of the &lt;code&gt;SYSVOL&lt;/code&gt; from the Samba-AD server. To do this, in a file explorer, type &lt;code&gt;\\srvads\\sysvol&lt;/code&gt;, then go to the folder corresponding to your domain name (for example &lt;em&gt;ad.mydomain.lan&lt;/em&gt;) and copy &lt;code&gt;Policies&lt;/code&gt; and &lt;code&gt;Scripts&lt;/code&gt; into &lt;code&gt;C:windowsSYSVOLdomain&lt;/code&gt; (but not the domain name). After the copy we will have these two directories:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;C:windowsSYSVOLdomainPolicies; &lt;/li&gt;
&lt;li&gt;C:windowsSYSVOLdomainScripts;&lt;/li&gt;
&lt;/ul&gt;


&lt;/li&gt;
&lt;/ul&gt;




&lt;p&gt;‚ö†Ô∏è&lt;strong&gt;Warning&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Samba does not support DFS-R or FRS protocols.&lt;/p&gt;

&lt;p&gt;Therefore, it will be necessary to manually synchronize the &lt;code&gt;SYSVOL&lt;/code&gt; directory each time a GPO is created or modified.&lt;/p&gt;







&lt;p&gt;&lt;strong&gt;‚òëÔ∏èNote&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;There is a link from &lt;code&gt;C:\windows\SYSVOL\sysvol\ad.mydomain.lan&lt;/code&gt; to &lt;code&gt;C:\windows\SYSVOL\domain&lt;/code&gt;.&lt;/p&gt;




&lt;ul&gt;
&lt;li&gt;Restart the MS-AD server:
&lt;/li&gt;
&lt;/ul&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;  shutdown -r -t 0
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Reverse DNS servers on the network card. The primary DNS server must be itself (&lt;code&gt;127.0.0.1&lt;/code&gt;), and the secondary DNS server is the Samba-AD server (Microsoft does the opposite when joining)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;In the DNS console, change the DNS redirector to the network recursor  (by default Windows sets the first domain controller as the recursor  when joining).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The change the NTP configuration in the MS-AD registry:&lt;br&gt;
&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;  Set-ItemProperty -Path "HKLM:\SYSTEM\CurrentControlSet\Services\W32Time\Parameters" -Name "Type" -Value  "NTP"
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;ul&gt;
&lt;li&gt;Then restart the NTP service with a command prompt on the MS-AD server:
&lt;/li&gt;
&lt;/ul&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;  net stop w32time
  net start w32time
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;ul&gt;
&lt;li&gt;Finally, update the DNS and Kerberos configuration of the Samba-AD  server by updating the information about the new Windows server. To do this, modify the files &lt;code&gt;/etc/hosts&lt;/code&gt;, &lt;code&gt;/etc/resolv.conf&lt;/code&gt; and &lt;code&gt;/etc/krb5.conf&lt;/code&gt;;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;
  &lt;a href="#final-checks"&gt;
  &lt;/a&gt;
  Final Checks
&lt;/h3&gt;




&lt;ul&gt;
&lt;li&gt;Check the directory database in Samba-AD server:
&lt;/li&gt;
&lt;/ul&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;samba-tool dbcheck --cross-ncs --fix --yes  --reset-well-known-acls 
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Aj_4YVyL--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/fybcdgjpeuuhl0ejvaig.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Aj_4YVyL--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/fybcdgjpeuuhl0ejvaig.png" alt="Image description" width="757" height="533"&gt;&lt;/a&gt;&lt;br&gt;
&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--d2u3z4cx--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/cgu246w45fvmajx2cqie.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--d2u3z4cx--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/cgu246w45fvmajx2cqie.png" alt="Image description" width="753" height="531"&gt;&lt;/a&gt;&lt;/p&gt;

</description>
      <category>samba</category>
      <category>windows2019</category>
      <category>domain</category>
    </item>
    <item>
      <title>What Chat Solutions to Choose? Firebase Vs SendBird Vs Node.js + Socket.io</title>
      <author>Fora Soft</author>
      <pubDate>Sun, 23 Jan 2022 21:30:18 +0000</pubDate>
      <link>https://dev.to/forasoft/what-chat-solutions-to-choose-firebase-vs-sendbird-vs-nodejs-socketio-1md6</link>
      <guid>https://dev.to/forasoft/what-chat-solutions-to-choose-firebase-vs-sendbird-vs-nodejs-socketio-1md6</guid>
      <description>&lt;p&gt;People frequently come to us with a request to create a text chat. Some of them want a messenger with a chat being the main or the only function. Others need to add chat into different projects, such as telemedicine. In this article, we‚Äôll take a look at the most popular options for chat creation.&lt;/p&gt;

&lt;p&gt;All solutions for chats can be split into two categories:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Ready-made chat platforms, such as Firechat, SendBird.&lt;br&gt;
They have prepared functionality for main chat options. The developer needs to put a small effort and time to add a chat into an app or a website. But the behavior of functionality has strict borders by a platform creator, and possibilities for customization are limited.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Technologies for exchanging data between client and server, such as Firebase Cloud Messaging, Node.js + Socket.io.&lt;br&gt;
They allow building a very flexible chat solution upon them. Those technologies take time to implement but offer unlimited possibilities for customization.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;All the four solutions are cross-platform, they work on the web, iOS, Android.&lt;/p&gt;

&lt;h1&gt;
  &lt;a href="#chat-solutions"&gt;
  &lt;/a&gt;
  Chat Solutions
&lt;/h1&gt;

&lt;h2&gt;
  &lt;a href="#firebase-cloud-messaging"&gt;
  &lt;/a&gt;
  Firebase Cloud Messaging
&lt;/h2&gt;

&lt;p&gt;&lt;a href="https://firebase.google.com/docs/cloud-messaging"&gt;Firebase Cloud Messaging&lt;/a&gt; is a platform for information exchange between a mobile app and a server. It‚Äôs widely used for notification send-out, and it can be used to build a chat on its foundation.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Advantages:&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Free for products with up to 100 simultaneous users.&lt;/li&gt;
&lt;li&gt;As a Google product, one can expect stable work when used correctly&lt;/li&gt;
&lt;li&gt;With comprehensive documentation and high popularity, developers can find any answers quickly, which saves time and money&lt;/li&gt;
&lt;li&gt;No need to buy an additional server, you can do everything on the Firebase server&lt;/li&gt;
&lt;li&gt;Thanks to the Firestore database, the servers will automatically come into existence or be eliminated when they are not needed, which will save you a ton of money. Node.js and socket.io will make you create scaling separately&lt;/li&gt;
&lt;li&gt;Data is cached by default and is available for search in chat offline&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Disadvantages:&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Difficult search inquiries are difficult or impossible to realize&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;For example, inquiries like ‚Äúfind all messages with ‚ÄúHello!‚Äù that a user received last year from all users whose nicknames start with an A‚Äù.&lt;/p&gt;

&lt;p&gt;The thing is when using Firebase Cloud Messaging, you are limited in choosing a database. It‚Äôs either Firebase Realtime Database or Firestore. &lt;/p&gt;

&lt;p&gt;&lt;a href="https://firebase.google.com/docs/database/"&gt;Firebase Realtime Database&lt;/a&gt; is a NoSQL database, where data is stored as JSON. It has lots of advantages compared to traditional SQL databases. The possibilities for creating a new search inquiry are limited by a developer to keep productivity levels.&lt;/p&gt;

&lt;p&gt;To deal with that problem, Google came up with the &lt;a href="https://firebase.google.com/products/firestore"&gt;Firestore&lt;/a&gt; database. It‚Äôs a NoSQL database but its search and data structuring possibilities are vastly increased. However, difficult search inquiries still pose a bigger problem than those in SQL databases or NoSQL databases like MongoDB. Some of them are impossible, others will take much more time to develop.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Up to 200k simultaneous users in Firebase Realtime Database, up to a million in Firestore&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Firebase Realtime Database is limited by 200k connections in the database. It‚Äôs roughly the same as 200k simultaneous users. Firebase developers think out of 10 million active app users there are 200k of those who would use the app at the same time.&lt;/p&gt;

&lt;p&gt;Firestore offers up to a million users at the same moment.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;
&lt;a href="https://firebase.google.com/pricing"&gt;Paid&lt;/a&gt; from 100 simultaneous users&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;When using Firestore, &lt;a href="https://firebase.google.com/docs/firestore/pricing"&gt;the cost&lt;/a&gt; is determined by read/write operations in the database. The more data is there, the more expensive it will be. For instance, by Firestore calculation, a small up (50k installations and 5k active users daily) the usage cost will be $12-14 a month. For a big app (10 mil installations with 1 mil active users daily), the cost will be $2951,52 monthly. There are &lt;a href="https://firebase.google.com/docs/firestore/quotas"&gt;borders&lt;/a&gt; within which Firestore is free to use.&lt;/p&gt;

&lt;p&gt;With Firestore Realtime Database &lt;a href="https://firebase.google.com/docs/database/usage/billing"&gt;the cost&lt;/a&gt; is determined by the amount of data stored in a base and downloaded from there ‚Äì approximately $5 a month for each stored gigabyte and $1 a month for each downloaded gigabyte.&lt;/p&gt;

&lt;p&gt;Therefore an app that processes many read/write in the database operations, &lt;strong&gt;it will be cheaper to use Firebase Realtime Database.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The most profitable option would be &lt;strong&gt;to use Firebase Realtime Database for one type of data and Firestore for another.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;For example, for a typical e-commerce app, operations that involve reading a list of goods will run every time a user opens the app, and the number of operations will grow as more people use it. The size of the list, however, won‚Äôt depend on the number of users. For an app like that, the most profitable option would be storing the list data in Firebase Realtime Database (to not pay for multiple read operations), and storing the user data in Firestore, as storing 1 gigabyte of data is cheaper there (&lt;a href="https://medium.com/nestedif/guide-to-chose-between-firebase-database-options-firebase-realtime-database-vs-firebase-cloud-632fda2e4838"&gt;source&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Using Firebase Cloud Messaging is free itself, which means that you only pay for using the database, hosting, and authentication.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Works slowly when searching offline&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In Firestore, if there are hundreds of documents in the base, the offline search will be slower, which will worsen the UX. For instance, in a chat with a hundred channels, when you have to find one without internet access, the search will work noticeably slower.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;The developer needs experience working with NoSQL to build a convenient and effective database structure&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Firestore has a limit of 1 write operation in a second for 1 document. The document is a structural part of a Firestore database. The Firestore database consists of documents organized in a collection. The document is practically a set of ‚Äúkey-meaning‚Äù couples. It is actually a flexible limitation: if you go for 10 read operations at the same time once, Firestore will process them correctly. If, however, you keep sending thousands of requests into the base at a rate of more than 1 per second, Firestore will return errors for some requests.&lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#firechat"&gt;
  &lt;/a&gt;
  Firechat
&lt;/h2&gt;

&lt;p&gt;Firechat is a framework for chat creation, and it was made by the Firebase team using Firebase as a foundation. Firechat uses Firebase for authorization, sync, storing data. Firechat provides API for a chat, that allows user authentication; forwarding messages, images, and files; group chats creation, sending out invitations. Here are the links to their &lt;a href="https://firechat.firebaseapp.com/"&gt;official website&lt;/a&gt; and &lt;a href="https://github.com/FirebaseExtended/firechat"&gt;project code&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Advantages:&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Saving time and money on developing&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;A ready-made API for the chat main functionality allows not to create a realization of those functions by yourself&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Same advantages as with the Firebase Cloud Messaging&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Disadvantages:&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Not all functions are possible to realize&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;If you use a ready-made API for the chat functionality, you can only realize the functions in offers. For instance, it doesn‚Äôt support showing unread messages, deleting messages, and has a limitation of 100 users in the chat group. The full functionality list is difficult to find, but you can get an impression by their API methods &lt;a href="https://firechat.firebaseapp.com/docs/#api_methods"&gt;here&lt;/a&gt;. &lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Same disadvantages as with the Firebase Cloud Messaging&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Firechat only uses Firebase Realtime Database from the box. There is no choosing a database, like in the Firebase Cloud Messaging, Firebase Realtime Database, or Firestore.&lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#sendbird"&gt;
  &lt;/a&gt;
  Sendbird
&lt;/h2&gt;

&lt;p&gt;&lt;a href="https://sendbird.com/"&gt;Sendbird&lt;/a&gt; is a ready-made chat platform. It offers a multitude of prepared features, including an indication of the number of unread messages, blocking users, and admin dashboard.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Advantages:&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Many functions&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Lots of features are already realized and work right away: message or file exchange, invitations, users blocking, typing indication, editing messages, automatic translation, admin dashboard, group chats for up to 100 users&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;A ready-made UI with limited customization possibilities&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Creating a UI and its design isn‚Äôt necessary. Sendbird offers standard UI options, which you can use as is. You can also apply your own design on top of the standard one, changing the color and form of chat components. So, we can simply add Sendbird with default settings into our product and get a char with a default design. Then, customize some components whenever the need arises.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Scales automatically&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;You don‚Äôt need to worry about having too many users so your server doesn‚Äôt catch up to the number of requests, New servers will create themselves. Sendbird supports more than a million simultaneous users. It uses AWS.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Disadvantages:&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;You can‚Äôt realize all functions&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Chat and functionality behaviors are strictly set.  A user logs in and gets access to a list of channels. They can choose an existing channel or create their own. Channels are either public or private. Users can exchange messages in either one.&lt;/p&gt;

&lt;p&gt;This is the standard structure for the majority of chats. If you need something more exotic for your product, it will be really problematic to realize that with SendBird. Some functions are outright impossible to implement, others can take much more time than if they were created from scratch, for example, with Node.js and socket.io. For example, you can‚Äôt create threads to answer a message, like in Slack.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Not all available functions can be realized the way you see it&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;SendBird provides more customization opportunities than it seems. There are serious limitations, too. For example, SendBirds allows storing additional information about any user, but not more than 5 parameters. Let‚Äôs say, those will be a name, last name, city, sex, weight, eye color. So, it is not nearly enough for dating chats&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Not as popular as Firebase and Socket.io&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Popularity is an important metric when choosing a framework. The more popular a framework is, the more developers using it are out there. It helps get important resources, support, answers. If other pros and cons are equal, this will help make the development faster (and cheaper if you pay for time)&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Price&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Depends on the number of users. The base package costs &lt;a href="https://sendbird.com/pricing"&gt;$400 monthly&lt;/a&gt; for 5k active users. With 100k active monthly users, the price will go up to $5000. Or even $7600 if you also want automatic message translation and advanced moderation. For products with more than 100k users, the price is decided individually. There is a 30-day trial period.&lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#nodejs-socketio"&gt;
  &lt;/a&gt;
  Node.js + Socket.io
&lt;/h2&gt;

&lt;p&gt;Server platform &lt;a href="https://nodejs.org/en/"&gt;Node.js&lt;/a&gt;, going with the real-time data exchange library &lt;a href="https://socket.io/"&gt;Socket.io&lt;/a&gt; helps build a chat with unlimited customization possibilities.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Advantages:&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Allows realization of any functionality&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The developer has full control over all components: interface, logic, and server data and endpoint can be whatever is needed. For instance, it helps organize threads to answer chosen messages, which you can‚Äôt do in SendBird. You can implement message deleting, which is nowhere to be found in Firechat.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Scales&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Provides an opportunity to realize automatic scalability that depends on the load. It‚Äôs possible to do on AWS and other ready-made solutions, such as Oracle. However, scalability isn‚Äôt provided right away, it has to be developed by a programmer.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;You can choose the database type that suits your product best&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;For instance, if in the future product you are going to realize many difficult search inquiries, you can choose the SQL database, instead of using Firestore or Firebase Realtime Database that don‚Äôt support these functions&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;The chat works quickly&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Client and server exchange messages directly, which results in fast work. When you use Firebase Cloud Messaging, the message goes from your server to Firebase server, and only from there will it travel further to the device. It‚Äôs important to mention that, though, that if there is a 0,5s delay, it‚Äôs not critical for a text chat.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Free to use&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Open-source free solution ‚Äì you don‚Äôt have to pay monthly for this technology. But please note that you have to pay for a server rent, where your product is based. However, this cost is usually way lower than that of Firebase Cloud Messaging or Firechat. We will discuss forecasting server costs in a different article.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Disadvantages:&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Requires more time and money, as the developer creates all functions from scratch&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Not everyone can develop the chat. You will need someone with the relevant experience&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1&gt;
  &lt;a href="#to-sum-it-up"&gt;
  &lt;/a&gt;
  To sum it up
&lt;/h1&gt;

&lt;p&gt;Ready-made platforms will give you quick results because the functionality is already there. But you are limited to those functions.&lt;/p&gt;

&lt;p&gt;Node.js and socket.io allow creating any chat you need but each function will have to be developed from zero. It takes time and money.&lt;/p&gt;

&lt;h1&gt;
  &lt;a href="#what-to-choose"&gt;
  &lt;/a&gt;
  What to choose?
&lt;/h1&gt;

&lt;p&gt;The first thing to think about, when answering this question, is what kind of solution fits you and your company best.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;If your chat requires a minimum base functionality, you don‚Äôt have high level of requirements to it, then Firechat or a Firebase Cloud Messaging-based solution is the way to go&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;When you expect a chat to be more advanced, take a look at SendBird. Compare monthly payments to SendBird against creating a chat from zero on Node.js and socket.io&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;If there are a lot of requirements for a chat or you need lots of customized options, Node.js and socket.io are your friends!&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;
  &lt;a href="#why-at-fora-soft-we-recommend-nodejs-socketio"&gt;
  &lt;/a&gt;
  Why at Fora Soft we recommend Node.js + socket.io?
&lt;/h2&gt;

&lt;p&gt;Developing the chat functionality on Node.js + socket.io takes about 40 hours. Embedding and customizing a prepared one requires around 24-32 hours.&lt;/p&gt;

&lt;p&gt;Ready-made chats charge you every month. It is more expensive than paying just for servers in the case of Node.js + socket.io. A little increase in the development costs is usually recouped in a few months.&lt;/p&gt;

&lt;p&gt;In exchange, they:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Are not bound to any limitations. They can implement any functionality in the future&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Do not depend on third-party components that developers can just stop updating someday, and your chat will stop working.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;To find out more about &lt;a href="https://forasoft.com/contacts"&gt;chat creation&lt;/a&gt;, do not hesitate to contact us!&lt;/p&gt;

</description>
    </item>
  </channel>
</rss>
