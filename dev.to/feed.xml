<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
  <channel>
    <title>DEV Community</title>
    <author>DEV Community</author>
    <description>A constructive and inclusive social network for software developers. With you every step of your journey.</description>
    <link>https://dev.to</link>
    <language>en</language>
    <item>
      <title>True Is Not Always True In JavaScript</title>
      <author>Bibek</author>
      <pubDate>Fri, 14 May 2021 19:40:08 +0000</pubDate>
      <link>https://dev.to/bibekkakati/true-is-not-always-true-in-javascript-2n7m</link>
      <guid>https://dev.to/bibekkakati/true-is-not-always-true-in-javascript-2n7m</guid>
      <description>&lt;p&gt;Hello everyoneüëã&lt;/p&gt;

&lt;p&gt;In this article, I will try to explain the behaviour of the &lt;code&gt;boolean&lt;/code&gt; data type of JavaScript.&lt;/p&gt;

&lt;p&gt;We often use &lt;code&gt;if&lt;/code&gt; statements in JavaScript to check if a value, that can be of any data type is &lt;code&gt;true&lt;/code&gt; or &lt;code&gt;false&lt;/code&gt;. But do you know that these values are not really &lt;code&gt;true&lt;/code&gt; or &lt;code&gt;false&lt;/code&gt;, rather they are considered as &lt;code&gt;truthy&lt;/code&gt; or &lt;code&gt;falsy&lt;/code&gt; values?&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#explanation"&gt;
  &lt;/a&gt;
  Explanation
&lt;/h3&gt;

&lt;p&gt;Let's understand this with an example.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight javascript"&gt;&lt;code&gt;&lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;val&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;blog&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;val&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="nx"&gt;console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;log&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;true&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;So in the above code snippet, we declared a variable &lt;code&gt;val&lt;/code&gt; which is storing a string &lt;code&gt;"blog"&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;In general, &lt;code&gt;if&lt;/code&gt; statements expect a boolean expression or a boolean condition but here we are passing the variable &lt;code&gt;val&lt;/code&gt; directly without any boolean expression.&lt;/p&gt;

&lt;p&gt;And this &lt;code&gt;if&lt;/code&gt; statement evaluates the value of &lt;code&gt;val&lt;/code&gt; to &lt;code&gt;true&lt;/code&gt; and execute its block. But why?&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#why"&gt;
  &lt;/a&gt;
  Why
&lt;/h3&gt;

&lt;p&gt;In JavaScript, any non-zero number including the negative numbers and non-empty strings are termed as &lt;code&gt;truthy&lt;/code&gt; values and the &lt;code&gt;truthy&lt;/code&gt; values are translated to boolean &lt;code&gt;true&lt;/code&gt; when evaluated in a Boolean context.&lt;/p&gt;

&lt;p&gt;&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--unhIj_Tr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/m6jicxhbucsnai2f38dq.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--unhIj_Tr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/m6jicxhbucsnai2f38dq.png" alt="Image"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;So in our example, as the value of the variable &lt;code&gt;val&lt;/code&gt; is a string with data i.e, not empty, it is considered as a &lt;code&gt;truthy&lt;/code&gt; value which evaluates to &lt;code&gt;true&lt;/code&gt; in the &lt;code&gt;if&lt;/code&gt; statement condition.&lt;/p&gt;

&lt;p&gt;And the values other than the &lt;code&gt;truthy&lt;/code&gt; values are termed as &lt;code&gt;falsy&lt;/code&gt; values.&lt;/p&gt;

&lt;p&gt;&lt;code&gt;falsy&lt;/code&gt; values in JavaScript.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;false&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;null&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;undefined&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;0&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;NAN&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;''&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;""&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;0n&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-0&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;
  &lt;a href="#conversion"&gt;
  &lt;/a&gt;
  Conversion
&lt;/h3&gt;

&lt;p&gt;Convert the &lt;code&gt;truthy&lt;/code&gt; and &lt;code&gt;falsy&lt;/code&gt; values to boolean &lt;code&gt;true&lt;/code&gt; or &lt;code&gt;false&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;You can pass the &lt;code&gt;truthy&lt;/code&gt; or &lt;code&gt;falsy&lt;/code&gt; value to the &lt;code&gt;Boolean()&lt;/code&gt; and it will return &lt;code&gt;true&lt;/code&gt; or &lt;code&gt;false&lt;/code&gt;.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight javascript"&gt;&lt;code&gt;&lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;val&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;blog&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;Boolean&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;val&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="nx"&gt;console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;log&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;true&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;Or you can use the following syntax to convert it to a pure boolean value.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight javascript"&gt;&lt;code&gt;&lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;val&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;blog&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!!&lt;/span&gt;&lt;span class="nx"&gt;val&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="nx"&gt;console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;log&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;true&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;We know this &lt;code&gt;truthy&lt;/code&gt; or &lt;code&gt;falsy&lt;/code&gt; concept is not so impacting but it is always better to handle pure boolean values.&lt;/p&gt;




&lt;blockquote&gt;
&lt;p&gt;Originally published on &lt;a href="https://blog.bibekkakati.me/true-is-not-always-true-in-javascript"&gt;blog.bibekkakati.me&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;




&lt;p&gt;Thank you for reading üôè&lt;/p&gt;

&lt;p&gt;If you enjoyed this article or found it helpful, give it a thumbs-up üëç&lt;/p&gt;

&lt;p&gt;Feel free to connect üëã&lt;/p&gt;

&lt;p&gt;&lt;a href="https://twitter.com/kakatibibek"&gt;Twitter&lt;/a&gt; | &lt;a href="https://instagram.com/bibekkakati"&gt;Instagram&lt;/a&gt; | &lt;a href="https://linkedin.com/in/bibekkakati"&gt;LinkedIn&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;If you like my work and want to support it, you can do it here. I will really appreciate it.&lt;/p&gt;

&lt;p&gt;&lt;a href="https://www.buymeacoffee.com/bibekkakati"&gt;&lt;br&gt;
&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--7pOmeWpX--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://img.buymeacoffee.com/button-api/%3Ftext%3DBuy%2520me%2520a%2520coffee%26emoji%3D%26slug%3Dbibekkakati%26button_colour%3DFFDD00%26font_colour%3D000000%26font_family%3DCookie%26outline_colour%3D000000%26coffee_colour%3Dffffff"&gt;&lt;br&gt;
&lt;/a&gt;&lt;/p&gt;

</description>
      <category>javascript</category>
      <category>node</category>
      <category>webdev</category>
      <category>programming</category>
    </item>
    <item>
      <title>DevSecOps -Automate &amp; Secure</title>
      <author>Siddharth Bhanushali</author>
      <pubDate>Fri, 14 May 2021 19:36:26 +0000</pubDate>
      <link>https://dev.to/sidbhanushali/devsecops-automate-secure-5ae4</link>
      <guid>https://dev.to/sidbhanushali/devsecops-automate-secure-5ae4</guid>
      <description>&lt;p&gt;DevSecOps is the practice of integrating a security-first mindset and methodologies into traditional DevOps CI / CD environments. Here are key best practices for organizations seeking to implement DevSecOps.&lt;/p&gt;

&lt;p&gt;Being able to get code out the door fast, secure, and efficiently is the name of the game. In a CI/CD environment, it‚Äôs important to maintain speed as the main tenet but also to be aware of the security needed to bulk up your pipeline. Without automation, implementing security practices could be a major bottleneck in the pipeline and wouldn‚Äôt be considered a priority for many organizations that rely on speed. For security to be part of this workflow, it needs to be automated for it to be considered a relevant factor in an environment that prioritizes speed.&lt;/p&gt;

&lt;p&gt;Security controls and tests need to be embedded early and everywhere in the development lifecycle, and they need to happen in an automated fashion because the culture of software deployment is changing rapidly. Some organizations are pushing new versions of code into production almost 50 times per day for a single app. Not only this but adding automated security analysis within CI platforms can limit the introduction of vulnerable code earlier in the software development lifecycle.&lt;/p&gt;

&lt;p&gt;However, trying to run automated scans on your entire application source code each day can consume a lot of time and break your ability to keep up with daily changes. One option is to run scans against recent or new code changes.&lt;/p&gt;

&lt;p&gt;A growing number of test automation tools with a range of capabilities have become available for doing security analysis and testing throughout the software development lifecycle, from source-code analysis through integration and post-deployment monitoring. For example, nmap and Metasploit, which are tools to monitor servers and networks for vulnerabilities or known exploits, can be integrated into said automation.&lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#cron-jobs"&gt;
  &lt;/a&gt;
  &lt;strong&gt;&lt;em&gt;Cron Jobs&lt;/em&gt;&lt;/strong&gt;
&lt;/h2&gt;

&lt;p&gt;However, all this depends on the type and frequency of the task to be automated. There are certain tasks that need to run on an interval basis, such as backing up databases, updating the system, performing periodic reboots, and so on.&lt;/p&gt;

&lt;p&gt;Such tasks in Linux are referred to as cron jobs. Cron jobs are used for the automation of tasks to help in simplifying the execution of repetitive and sometimes mundane tasks. Cron is a daemon that allows you to schedule these jobs which are then carried out at specified intervals.&lt;/p&gt;

&lt;p&gt;A crontab file, also known as a cron table, is a simple text file that contains rules or commands that specify the time interval of execution of a task. It hosts a set of rules that are analyzed and performed by the cron daemon. The system crontab file is located at /etc/crontab and can only be accessed and edited by the root user. The crontab file looks like so: &lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--9l4OaqiT--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i.imgur.com/OwtIwvG.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--9l4OaqiT--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i.imgur.com/OwtIwvG.png" alt="chronjobs"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The basic syntax for a crontab file comprises 5 columns represented by asterisks followed by the command to be carried out. This format can also be represented as shown below:&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;[minute:0-59] [hour: 0 - 23] [day:0 - 31] [month:0-12] [day of week] /directory/command output
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;

&lt;p&gt;The first five fields in the command represent numbers that define when and how often the command runs. A space separates each position, which represents a specific value. Lets see how to apply this to a linux system&lt;/p&gt;

&lt;p&gt;To create or edit a cron job as the root user, run the command&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt; crontab -e
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;

&lt;p&gt;All cron jobs being with a shebang header as shown&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;#!/bin/bash
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;

&lt;p&gt;This indicates the shell you are using, which, for this case, is bash shell. Next, specify the interval at which you want to schedule the tasks using the cron job format. For example, let's say we wanted to run a backup script every month when the system isn‚Äôt actively in use&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;* 2 0 * * /root/backup.sh
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;

&lt;p&gt;The command runs the first of every month at 2 am. Cron Jobs is a useful tool built into Linux systems that can automate specific tasks or scripts. However, Jenkins is a much more comprihenisve automation build tool that is more commonly used in the lifecycle. Lets see how we can impliment best practices when using Jenkins.&lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#securing-jenkins"&gt;
  &lt;/a&gt;
  Securing Jenkins
&lt;/h2&gt;

&lt;p&gt;Another all in one automation tool is jenkins. jenkins is an open source automation server. It helps automate the parts of software development related to building, testing, and deploying, facilitating continuous integration and continuous delivery. Jenkins is an all in one tool to integrate automation into every stage of the CI CD process. Since jenkins is a server based tool, it is important to secure the Jenkins instance and have proper handling of users and credentials within it. Jenkins does not come preconfigured with default security checks. When creating users in Jenkins, it's important to differentiate the access control that each user has.&lt;/p&gt;

&lt;p&gt;Another important thing is to be mindful of the credentials and where they are stored. Using Jenkins credentials provider, users can bind their credentials to variables and use them in their jenkinsfile as to not expose sensitive data. Here is an example of a credentials screen in jenkins that will impliment credentails binding. &lt;/p&gt;

&lt;p&gt;&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--BDdj0HmV--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i.imgur.com/5tmGL8O.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--BDdj0HmV--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i.imgur.com/5tmGL8O.png" alt="Jenkins credentials binding"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#securing-linux-servers"&gt;
  &lt;/a&gt;
  Securing Linux Servers
&lt;/h2&gt;

&lt;p&gt;The heart of any pipeline is a linux system. Since Cron Jobs need a linux system to function on, it's important to consider the security of the linux systems themselves that will be in charge of automation. Securing the linux system itself is a critical step in DevSecOps.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;Disable Root Login&lt;/em&gt;&lt;/strong&gt;&lt;br&gt;
    The first step in securing the system is securing the way people even log into the system, to begin with. Disabling root login is essential to strengthen your server security. This is because keeping root login enabled can present a security risk and diminish the safety of small business cloud resources hosted on the server, as hackers can exploit this credential to access the server. Instead, create a new user account and assign elevated (sudo) permissions, so that you will still have a way of installing packages and performing other admin actions on the server.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;User logins through Public / Private key pairs&lt;/em&gt;&lt;/strong&gt;&lt;br&gt;
   One suggestion is to use good password hygiene, meaning having a decent mix of numbers, letters, and special characters to prevent from password cracking. However, this can get messy to enforce and passwords can ultimately be cracked using large amounts of computing power. A more secure way to grant access is through the use of public/private key pairs for users.&lt;/p&gt;

&lt;p&gt;generate (on their local machine) their keypair using &lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;ssh-keygen -t rsa 
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;

&lt;p&gt;Then they need to put the contents of their public key (id_rsa.pub) into &lt;code&gt;~/.ssh/authorized_keys&lt;/code&gt; on the server being logged into.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;Key Rotation and/or Configure 2 Factor Authentication&lt;/em&gt;&lt;/strong&gt;&lt;br&gt;
    It is important to keep changing the private/public key pairs, as well as any other passwords or credentials needed to access a machine to prevent keys or passwords from being leaked . 2 Factor Authentication can be used in conjunction with SSH (Secure Shell) to enforce the requirement for a second credential when logging into the server. To set up 2FA on a Debian server and Debian-derived distributions, you should install the libpam-google-authenticator package. The package can display a QR code or produce a secret token that can be added to a software authentication device, such as Google Authenticator.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;Server Side antivirus / IDS&lt;/em&gt;&lt;/strong&gt;&lt;br&gt;
   External software and programs for secuirty and defense should always be an extra layer, not the only layer.  Many routers or firewalls will oftentimes have a preconfigured instance of an Antivirus, IDS or some form of it. The disadvantage to this is that it puts the burden on one sole piece of hardware. If a phishing email with a malicious payload is slipped through the cracks, then an IDS system that simply monitors the external perimeter is not much help. Once someone is in, they can make as much noise as they want, since all the guards are patrolling the outside.&lt;/p&gt;

&lt;p&gt;A solution to this could be a standalone IDS that sits on the internal network as part of a layered defense, providing visibility within the network and around the important assets and internal files. It can be configured to protect sensitive data without interfering with legitimate network traffic.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;Disk encryption&lt;/em&gt;&lt;/strong&gt;&lt;br&gt;
   you can secure your data by configuring disk encryption to encrypt whole disks (including removable media), partitions, as well as any other files. There are many methods that can be used to achieve this. One universal way to do this on all Linux systems is to install the cryptsetup package. As always, make sure root user login is disabled, only users with advanced sudo privileges!&lt;/p&gt;

&lt;p&gt;Volume level disk encryption helps protect users and customers from Data Theft or even accidental loss. Encrypted hard disks make it very hard for hackers to gain access or read any sort of data on that hard disk.&lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#securing-ec2"&gt;
  &lt;/a&gt;
  Securing EC2
&lt;/h2&gt;

&lt;p&gt;In most cases, the linux instance that will be running the automation would be running on a cloud compute instance, lets say EC2 for example. One benefit of using an EC2 is the diversity and flexibility it offers. A tradeoff of this can be security. There are steps that can be taken to secure an EC2 instance.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;Security Groups&lt;/em&gt;&lt;/strong&gt;&lt;br&gt;
Security groups are the fundamental network security of AWS. They control how inbound and outbound traffic is allowed into the EC2 Machine. These control the opening and closing of network ports to allow for different protocols or servers to run on.&lt;/p&gt;

&lt;p&gt;For example, since the Jenkins servers default port is port 8080, you have to expose the port in the security group. You can run Jenkins on a different port, however that must be exposed as well.&lt;/p&gt;

&lt;p&gt;&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Chgb1Fi1--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i.imgur.com/kIuYCay.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Chgb1Fi1--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i.imgur.com/kIuYCay.png" alt="enter image description here"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;VPC&lt;/em&gt;&lt;/strong&gt;&lt;br&gt;
 Controlling the network traffic to your EC2 instance is crutial to maintain its secuirty. Configure your VPC and use private subnets for your instances if they should not be accessed directly from the internet. A VPC is your own network in the cloud. For example, in each region there are availability zones. A VPC is a private network within an AWS region and it would span all the availability zones / physical centers in the region.&lt;/p&gt;

&lt;p&gt;Subnets are sub-networks inside the VPC, span a single availability zone, and are logical subdivisions of an IP network. The practice of dividing a network into two or more networks is called subnetting. AWS provides two types of subnetting one is Public which allows the internet to access the machine and another is private which is hidden from the internet.&lt;/p&gt;

&lt;p&gt;Subnets could be compared to the different rooms in your apartment. They are containers within your VPC that segment off a slice of the CIDR block you define in your VPC.  CIDR notation is a compact representation of an IP address and its associated network mask. &lt;/p&gt;

&lt;p&gt;For example:&lt;br&gt;
192.168.100.14/24 represents the IP address &lt;br&gt;
192.168.100.14 is the network prefix &lt;br&gt;
192.168.100.0, or equivalently, its subnet mask 255.255.255.0.&lt;/p&gt;

&lt;p&gt;Subnets allow you to give different access rules and place resources in different containers where those rules should apply. You wouldn't have a big open window in your bathroom on the shower wall so people can see sensitive things, much like you wouldn't put a database with secretive information in a public subnet allowing any and all network traffic. You might put that database in a private subnet (i.e a locked closet). Anything from outside of the VPC could connect to a public subnet, but only containers inside a VPC can access a private subnet.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;IAM&lt;/em&gt;&lt;/strong&gt;&lt;br&gt;
 Another sure proof way to manage the security of your EC2 Instance is through IAM. IAM Is where users can manage their credentials. By using IAM with Amazon EC2, you can control whether users in your organization can perform a task using specific Amazon EC2 instances. It's important to lock away your access keys and consider them important numbers, as if they were credit cards or social security numbers. Similarly you wouldn't have one social security number for every user therefore you would not have one credential as a root user.&lt;/p&gt;

&lt;p&gt;it's important to create individual users and grant them the least amount of permissions as needed. Policy actions are classified as List, Read, Write, Permissions management, or Tagging. For example, you can choose actions from the List and Read access levels to grant read-only access to your users.&lt;/p&gt;

</description>
      <category>devops</category>
      <category>aws</category>
      <category>linux</category>
    </item>
    <item>
      <title>Grokking Free Monads</title>
      <author>Matt Thornton</author>
      <pubDate>Fri, 14 May 2021 19:33:19 +0000</pubDate>
      <link>https://dev.to/choc13/grokking-free-monads-9jd</link>
      <guid>https://dev.to/choc13/grokking-free-monads-9jd</guid>
      <description>&lt;p&gt;In this post I‚Äôm going to try and demystify free monads and show you that they‚Äôre not some strange abstract creature, but in fact can be very useful for solving certain problems. Rather than focusing on the theory, our aim here will be to get a solid intuition about free monads, you'll then find learning the theory much easier. So in keeping with the rest of this series we‚Äôll discover the free monad ourselves by solving a real software problem.&lt;/p&gt;

&lt;h1&gt;
  &lt;a href="#prerequisites"&gt;
  &lt;/a&gt;
  Pre-requisites
&lt;/h1&gt;

&lt;p&gt;I try to keep these posts as independent from each other as possible, but in this case there's not much getting around the fact that you're probably going to need to have already grokked monads. If you haven't yet done so, then have a browse through &lt;a href="https://dev.to/choc13/grokking-monads-in-f-3j7f"&gt;Grokking Monads&lt;/a&gt; and once you're done you'll be all set to continue here.&lt;/p&gt;

&lt;h1&gt;
  &lt;a href="#the-scenario"&gt;
  &lt;/a&gt;
  The Scenario
&lt;/h1&gt;

&lt;p&gt;Let's say we work at an e-commerce store and we need to implement a &lt;code&gt;chargeUser&lt;/code&gt; function. This function should take a &lt;code&gt;UserId&lt;/code&gt; and an &lt;code&gt;amount&lt;/code&gt;. It should lookup the user's profile to get hold of the credit card, then it should charge the user's card the specified amount. If the user has an email address it should send them a receipt.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight fsharp"&gt;&lt;code&gt;&lt;span class="k"&gt;type&lt;/span&gt; &lt;span class="nc"&gt;EmailAddress&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="nc"&gt;EmailAddress&lt;/span&gt; &lt;span class="k"&gt;of&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt;

&lt;span class="k"&gt;type&lt;/span&gt; &lt;span class="nc"&gt;Email&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; 
    &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="nc"&gt;To&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nc"&gt;EmailAddress&lt;/span&gt; &lt;span class="n"&gt;option&lt;/span&gt;
      &lt;span class="nc"&gt;Body&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;type&lt;/span&gt; &lt;span class="nc"&gt;CreditCard&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="nc"&gt;Number&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt;
      &lt;span class="nc"&gt;Expiry&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt;
      &lt;span class="nc"&gt;Cvv&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;type&lt;/span&gt; &lt;span class="nc"&gt;TransactionId&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="nc"&gt;TransactionId&lt;/span&gt; &lt;span class="k"&gt;of&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt;

&lt;span class="k"&gt;type&lt;/span&gt; &lt;span class="nc"&gt;UserId&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="nc"&gt;UserId&lt;/span&gt; &lt;span class="k"&gt;of&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt;

&lt;span class="k"&gt;type&lt;/span&gt; &lt;span class="nc"&gt;User&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="nc"&gt;Id&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nc"&gt;UserId&lt;/span&gt;
      &lt;span class="nc"&gt;CreditCard&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nc"&gt;CreditCard&lt;/span&gt;
      &lt;span class="nc"&gt;EmailAddress&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nc"&gt;EmailAddress&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="n"&gt;chargeUser&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;amount&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;userId&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nc"&gt;UserId&lt;/span&gt;&lt;span class="o"&gt;):&lt;/span&gt; &lt;span class="nc"&gt;TransactionId&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;
    &lt;span class="c1"&gt;// TODO: Implement this as part of the domain model&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;Our main aim in this post is to be able to write the &lt;code&gt;chargeUser&lt;/code&gt; function in our domain model. By domain model, we're referring to the very thing we're writing our program for in the first place. In this case as we're an e-commerce store that means our domain model includes things like user profiles, products and orders.&lt;/p&gt;

&lt;p&gt;Typically when we write our application we want to keep our domain model completely decoupled from any infrastructure or application layer code, because those things are the incidental complexity that we have to solve. Our domain model should be pure and abstract in the sense that if we were to use a different database or a different cloud provider, the domain model should be unaffected.&lt;/p&gt;

&lt;p&gt;It's easy to write types in our domain layer to represent the objects in the model without introducing any unwanted coupling, but what about the functions like &lt;code&gt;chargeUser&lt;/code&gt;? On the one hand we know it's going to need to call external services, so does that mean we should define it outside of the domain model where we have access to the database etc? On the other hand it's not uncommon to want to take decisions in functions like this, such as whether or not we should email the user a receipt, and that logic definitely feels like domain logic that we'd want to test independent of the database.&lt;/p&gt;

&lt;h1&gt;
  &lt;a href="#functions-as-data"&gt;
  &lt;/a&gt;
  Functions as data
&lt;/h1&gt;

&lt;p&gt;There are several ways to make domain operations pure and agnostic to any infrastructure concerns. We've touched on one before in &lt;a href="https://dev.to/choc13/grokking-monads-in-f-3j7f"&gt;Grokking the Reader Monad&lt;/a&gt;. One interesting way to do it though is to treat functions as if they were data.&lt;/p&gt;

&lt;p&gt;What do we mean by functions as data? The best way to understand this is to see some code. Let's take the &lt;code&gt;chargeUser&lt;/code&gt; function and write a data model to describe the operations it needs to perform.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight fsharp"&gt;&lt;code&gt;&lt;span class="k"&gt;type&lt;/span&gt; &lt;span class="nc"&gt;ChargeUserOperations&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;
    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;LookupUser&lt;/span&gt; &lt;span class="k"&gt;of&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nc"&gt;UserId&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nc"&gt;User&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;ChargeCreditCard&lt;/span&gt; &lt;span class="k"&gt;of&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nc"&gt;CreditCard&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nc"&gt;TransactionId&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;EmailReceipt&lt;/span&gt; &lt;span class="k"&gt;of&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nc"&gt;Email&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="kt"&gt;unit&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;We've created a type called &lt;code&gt;ChargeUserOperations&lt;/code&gt; that has a case for each of the operations we want to perform as part of &lt;code&gt;chargeUser&lt;/code&gt;. Each case is parameterised by the function signature that we want it to have. So instead of being functions that we call, we've just got some abstract data representing the functions that we want to invoke and we'd like to use it like so.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight fsharp"&gt;&lt;code&gt;&lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="n"&gt;chargeUser&lt;/span&gt; &lt;span class="n"&gt;amount&lt;/span&gt; &lt;span class="n"&gt;userId&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nc"&gt;TransactionId&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;
    &lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="nc"&gt;LookupUser&lt;/span&gt; &lt;span class="n"&gt;userId&lt;/span&gt;
    &lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="n"&gt;transactionId&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="nc"&gt;ChargeCreditCard&lt;/span&gt; &lt;span class="n"&gt;amount&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;CreditCard&lt;/span&gt;
    &lt;span class="k"&gt;match&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;EmailAddress&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt;
    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;Some&lt;/span&gt; &lt;span class="n"&gt;emailAddress&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt;
        &lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="n"&gt;email&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; 
          &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="nc"&gt;To&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;emailAddress&lt;/span&gt;
            &lt;span class="nc"&gt;Body&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;  &lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="s2"&gt;"TransactionId {transactionId}"&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="nc"&gt;EmailReceipt&lt;/span&gt; &lt;span class="n"&gt;email&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;transactionId&lt;/span&gt;
    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;None&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;transactionId&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;Obviously, this isn't going to work. We can't simply write 'LookupUser userId' and assign that to something of type 'User'. For starters &lt;code&gt;LookupUser&lt;/code&gt; is expecting a function as an argument, not a &lt;code&gt;UserId&lt;/code&gt;. This idea of functions as data is an interesting one though, so let's see if we can find a way to make it work.&lt;/p&gt;

&lt;p&gt;It doesn't really make sense to try and extract a return value from data. All we can really do with data is create it. So what about if we instead created each operation with another operation nested inside it, kind of like a callback that would take the output of the current computation and produce a new output. Something like this.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight fsharp"&gt;&lt;code&gt;&lt;span class="k"&gt;type&lt;/span&gt; &lt;span class="nc"&gt;ChargeUserOperation&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;
    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;LookupUser&lt;/span&gt; &lt;span class="k"&gt;of&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nc"&gt;UserId&lt;/span&gt; &lt;span class="p"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nc"&gt;User&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nc"&gt;ChargeUserOperation&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;ChargeCreditCard&lt;/span&gt; &lt;span class="k"&gt;of&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="p"&gt;*&lt;/span&gt; &lt;span class="nc"&gt;CreditCard&lt;/span&gt; &lt;span class="p"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nc"&gt;TransactionId&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nc"&gt;ChargeUserOperation&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;EmailReceipt&lt;/span&gt; &lt;span class="k"&gt;of&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nc"&gt;Email&lt;/span&gt; &lt;span class="p"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;unit&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nc"&gt;ChargeUserOperation&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;We've made a couple of changes here. Firstly each operation is now parameterised by a tuple instead of a function. We can think of the tuple as the list of arguments to the function. Secondly, the final argument in the tuple is our callback. What that‚Äôs saying is that when you create an operation, you should tell it which operation you'd like to perform next that needs the result of this one. Let's give this new format a try.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight fsharp"&gt;&lt;code&gt;&lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="n"&gt;chargeUser&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;amount&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;userId&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nc"&gt;UserId&lt;/span&gt;&lt;span class="o"&gt;):&lt;/span&gt; &lt;span class="nc"&gt;TransactionId&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;
    &lt;span class="nc"&gt;LookupUser&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="n"&gt;userId&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;fun&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt;
            &lt;span class="nc"&gt;ChargeCreditCard&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
                &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;amount&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;CreditCard&lt;/span&gt;&lt;span class="o"&gt;),&lt;/span&gt;
                &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;fun&lt;/span&gt; &lt;span class="n"&gt;transactionId&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt;
                    &lt;span class="k"&gt;match&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;EmailAddress&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt;
                    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;Some&lt;/span&gt; &lt;span class="n"&gt;emailAddress&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt;
                        &lt;span class="nc"&gt;EmailReceipt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
                            &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="nc"&gt;To&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;emailAddress&lt;/span&gt;
                              &lt;span class="nc"&gt;Body&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="s2"&gt;"TransactionId {transactionId}"&lt;/span&gt; &lt;span class="o"&gt;},&lt;/span&gt;
                            &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;fun&lt;/span&gt; &lt;span class="p"&gt;_&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="c1"&gt;// Hmmm, how do we get out of this?)&lt;/span&gt;
                        &lt;span class="p"&gt;)&lt;/span&gt;
                    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;None&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="c1"&gt;// Hmmm, how do we get out of this?)&lt;/span&gt;
            &lt;span class="o"&gt;))&lt;/span&gt;
    &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;Ok, it's getting better. We can see that this data structure is capturing the abstract logic of what the &lt;code&gt;chargeUser&lt;/code&gt; function needs to do, without actually depending on any particular implementation. The only snag is we don't have a way to return a value at the end. Each of our operations has been defined such that it needs to be passed another callback, so how do we signal that we should actually just return a value?&lt;/p&gt;

&lt;p&gt;What we need is a case in &lt;code&gt;ChargeUserOperation&lt;/code&gt; that doesn't require a callback, one that just "returns" a value. Let's call it &lt;code&gt;Return&lt;/code&gt;. We also need to make &lt;code&gt;ChargeUserOperation&lt;/code&gt; generic on the return type to encapsulate the fact that each operation returns some value, but that the values returned by each operation might differ.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight fsharp"&gt;&lt;code&gt;&lt;span class="k"&gt;type&lt;/span&gt; &lt;span class="nc"&gt;ChargeUserOperation&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;
    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;LookupUser&lt;/span&gt; &lt;span class="k"&gt;of&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nc"&gt;UserId&lt;/span&gt; &lt;span class="p"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nc"&gt;User&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nc"&gt;ChargeUserOperation&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;))&lt;/span&gt;
    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;ChargeCreditCard&lt;/span&gt; &lt;span class="k"&gt;of&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="p"&gt;*&lt;/span&gt; &lt;span class="nc"&gt;CreditCard&lt;/span&gt; &lt;span class="p"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nc"&gt;TransactionId&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nc"&gt;ChargeUserOperation&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;))&lt;/span&gt;
    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;EmailReceipt&lt;/span&gt; &lt;span class="k"&gt;of&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nc"&gt;Email&lt;/span&gt; &lt;span class="p"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;unit&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nc"&gt;ChargeUserOperation&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;))&lt;/span&gt;
    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;Return&lt;/span&gt; &lt;span class="k"&gt;of&lt;/span&gt; &lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;We've chosen the name &lt;code&gt;'next&lt;/code&gt; for the generic parameter to signify the fact that it's the value returned by the "next" computation in the chain. In the case of &lt;code&gt;Return&lt;/code&gt; then it's just immediately "returned". We're now finally in a position to write &lt;code&gt;chargeUser&lt;/code&gt;.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight fsharp"&gt;&lt;code&gt;&lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="n"&gt;chargeUser&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;amount&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;userId&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nc"&gt;UserId&lt;/span&gt;&lt;span class="o"&gt;):&lt;/span&gt; &lt;span class="nc"&gt;ChargeUserOperation&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nc"&gt;TransactionId&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;
    &lt;span class="nc"&gt;LookupUser&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="n"&gt;userId&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;fun&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt;
            &lt;span class="nc"&gt;ChargeCreditCard&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
                &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;amount&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;CreditCard&lt;/span&gt;&lt;span class="o"&gt;),&lt;/span&gt;
                &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;fun&lt;/span&gt; &lt;span class="n"&gt;transactionId&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt;
                    &lt;span class="k"&gt;match&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;EmailAddress&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt;
                    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;Some&lt;/span&gt; &lt;span class="n"&gt;emailAddress&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt;
                        &lt;span class="nc"&gt;EmailReceipt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
                            &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="nc"&gt;To&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;emailAddress&lt;/span&gt;
                              &lt;span class="nc"&gt;Body&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="s2"&gt;"TransactionId {transactionId}"&lt;/span&gt; &lt;span class="o"&gt;},&lt;/span&gt;
                            &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;fun&lt;/span&gt; &lt;span class="p"&gt;_&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nc"&gt;Return&lt;/span&gt; &lt;span class="n"&gt;transactionId&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                        &lt;span class="p"&gt;)&lt;/span&gt;
                    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;None&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nc"&gt;Return&lt;/span&gt; &lt;span class="n"&gt;transactionId&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="o"&gt;))&lt;/span&gt;
    &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;That's it! We've captured the logic of &lt;code&gt;chargeUser&lt;/code&gt; in a completely abstract data structure. We know that it's got no dependence on any infrastructure because we fabricated it purely out of data types. We've taken our domain modelling to the next level, by modelling its computations as data too! ‚úÖ&lt;/p&gt;

&lt;p&gt;One thing to note is that &lt;code&gt;chargeUser&lt;/code&gt; now returns &lt;code&gt;ChargeUserOperation&amp;lt;TransactionId&amp;gt;&lt;/code&gt;. This might seem weird, but we can think of it this way; &lt;code&gt;chargeUser&lt;/code&gt; is now a function that produces a data structure which represents the the domain operation of charging and user and returning the &lt;code&gt;TransactionId&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;If you've grokked it this far, then you've made the fundamental mental leap; the fact that we're just representing a computation as data. The rest of this post is just going to be dedicated to cleaning this up to make it easier to read and write &lt;code&gt;chargeUser&lt;/code&gt;. Things might get a bit abstract, but just keep in mind the fact that all we're doing is trying to build this data structure to represent our computation.&lt;/p&gt;

&lt;h1&gt;
  &lt;a href="#flattening-the-pyramid"&gt;
  &lt;/a&gt;
  Flattening the pyramid ‚è™
&lt;/h1&gt;

&lt;p&gt;One problem with &lt;code&gt;chargeUser&lt;/code&gt; in its current form is that we're back in nested callback hell, (a.k.a the &lt;a href="https://en.wikipedia.org/wiki/Pyramid_of_doom_(programming)"&gt;Pyramid of Doom&lt;/a&gt;. We already know that monads are useful at flattening nested computations, so let's see if we can make &lt;code&gt;ChargeUserOperation&lt;/code&gt; a monad.&lt;/p&gt;

&lt;p&gt;The recipe for making something a monad is to implement &lt;code&gt;bind&lt;/code&gt; for that type. We start by defining the types for the function signature and use that to guide us. In this case the signature is.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight fsharp"&gt;&lt;code&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nc"&gt;ChargeUserOperation&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;)&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nc"&gt;ChargeUserOperation&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nc"&gt;ChargeUserOperation&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;So we're going to have to unwrap the &lt;code&gt;ChargeUserOperation&lt;/code&gt; to get at the value &lt;code&gt;'a&lt;/code&gt; and then apply that the to the function we've been passed to generate a &lt;code&gt;ChargeUserOperation&amp;lt;'b&amp;gt;&lt;/code&gt;. Let's get stuck in.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight fsharp"&gt;&lt;code&gt;&lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="n"&gt;bind&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nc"&gt;ChargeUserOperation&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;)&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nc"&gt;ChargeUserOperation&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;)&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;
    &lt;span class="k"&gt;match&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt;
    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;LookupUser&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;userId&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;??&lt;/span&gt;
    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;ChargeCreditCard&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;amount&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;card&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;??&lt;/span&gt;
    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;EmailReceipt&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;unit&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;??&lt;/span&gt;
    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;Return&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;As usual we've used a pattern match to unwrap the &lt;code&gt;ChargeUserOperation&lt;/code&gt; in order to get at the inner value. In the case of &lt;code&gt;Return&lt;/code&gt; it's a straight forward case of just calling &lt;code&gt;f&lt;/code&gt; on the value &lt;code&gt;x&lt;/code&gt;. But what about for those other operations? We don't have a value of type &lt;code&gt;'a&lt;/code&gt; to hand, so how can we invoke &lt;code&gt;f&lt;/code&gt;?&lt;/p&gt;

&lt;p&gt;Well what we do have to hand is &lt;code&gt;next&lt;/code&gt; which is capable of producing a new &lt;code&gt;ChargeUserOperation&lt;/code&gt; when supplied with a value. So what we can do is call that and recursively pass this new &lt;code&gt;ChargeUserOperation&lt;/code&gt; to &lt;code&gt;bind&lt;/code&gt;. The idea being that by recursively calling &lt;code&gt;bind&lt;/code&gt; we'll eventually hit the &lt;code&gt;Return&lt;/code&gt; case, at which point we can successfully extract the value and call &lt;code&gt;f&lt;/code&gt; on it.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight fsharp"&gt;&lt;code&gt;&lt;span class="k"&gt;module&lt;/span&gt; &lt;span class="nc"&gt;ChargeUserOperation&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;
    &lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="k"&gt;rec&lt;/span&gt; &lt;span class="n"&gt;bind&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nc"&gt;ChargeUserOperation&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;)&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nc"&gt;ChargeUserOperation&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;)&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;
        &lt;span class="k"&gt;match&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt;
        &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;LookupUser&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;userId&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nc"&gt;LookupUser&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;userId&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;fun&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;bind&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="o"&gt;)))&lt;/span&gt;
        &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;ChargeCreditCard&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;amount&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;card&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt;
            &lt;span class="nc"&gt;ChargeCreditCard&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;amount&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;card&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;fun&lt;/span&gt; &lt;span class="n"&gt;transactionId&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;bind&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt; &lt;span class="n"&gt;transactionId&lt;/span&gt;&lt;span class="o"&gt;)))&lt;/span&gt;
        &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;EmailReceipt&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;email&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt;
            &lt;span class="nc"&gt;EmailReceipt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;email&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;fun&lt;/span&gt; &lt;span class="bp"&gt;()&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;bind&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="bp"&gt;()&lt;/span&gt;&lt;span class="o"&gt;)))&lt;/span&gt;
        &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;Return&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;This might be a bit mind bending, but another way to view it is that we're just doing exactly the same callback nesting that we were forced to do by hand when we previously wrote &lt;code&gt;chargeUser&lt;/code&gt;. Except now we've hidden the act of nesting these operations inside the &lt;code&gt;bind&lt;/code&gt; function. &lt;/p&gt;

&lt;p&gt;Each call to bind introduces another layer of nesting and pushes the &lt;code&gt;Return&lt;/code&gt; down inside this new layer. For example if we had written &lt;code&gt;LookupUser(userId, Return) |&amp;gt; bind (fun user -&amp;gt; ChargeCreditCard(amount, user.CreditCard, Return))&lt;/code&gt; it would be equivalent to writing it in nested form like &lt;code&gt;LookupUser(userId, (fun user -&amp;gt; ChargeCreditCard(amount, user.CreditCard, Return))&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;With that we can easily write a computation expression called &lt;code&gt;chargeUserOperation&lt;/code&gt; and use it to flatten that pyramid in &lt;code&gt;chargeUser&lt;/code&gt;.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight fsharp"&gt;&lt;code&gt;&lt;span class="k"&gt;type&lt;/span&gt; &lt;span class="nc"&gt;ChargeUserOperationBuilder&lt;/span&gt;&lt;span class="bp"&gt;()&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;
    &lt;span class="k"&gt;member&lt;/span&gt; &lt;span class="o"&gt;_.&lt;/span&gt;&lt;span class="nc"&gt;Bind&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="nn"&gt;ChargeUserOperation&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bind&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;
    &lt;span class="k"&gt;member&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;Combine&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;Bind&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;fun&lt;/span&gt; &lt;span class="bp"&gt;()&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;))&lt;/span&gt;
    &lt;span class="k"&gt;member&lt;/span&gt; &lt;span class="o"&gt;_.&lt;/span&gt;&lt;span class="nc"&gt;Return&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="nc"&gt;Return&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;
    &lt;span class="k"&gt;member&lt;/span&gt; &lt;span class="o"&gt;_.&lt;/span&gt;&lt;span class="nc"&gt;ReturnFrom&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;
    &lt;span class="k"&gt;member&lt;/span&gt; &lt;span class="o"&gt;_.&lt;/span&gt;&lt;span class="nc"&gt;Zero&lt;/span&gt;&lt;span class="bp"&gt;()&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="nc"&gt;Return&lt;/span&gt;&lt;span class="bp"&gt;()&lt;/span&gt;

&lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="n"&gt;chargeUserOperation&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="nc"&gt;ChargeUserOperationBuilder&lt;/span&gt;&lt;span class="bp"&gt;()&lt;/span&gt;

&lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="n"&gt;chargeUser&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;amount&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;userId&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nc"&gt;UserId&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;
    &lt;span class="n"&gt;chargeUserOperation&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;let&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="nc"&gt;LookupUser&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;userId&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nc"&gt;Return&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;let&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="n"&gt;transactionId&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="nc"&gt;ChargeCreditCard&lt;/span&gt;&lt;span class="o"&gt;((&lt;/span&gt;&lt;span class="n"&gt;amount&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;CreditCard&lt;/span&gt;&lt;span class="o"&gt;),&lt;/span&gt; &lt;span class="nc"&gt;Return&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

        &lt;span class="k"&gt;match&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;EmailAddress&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt;
        &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;Some&lt;/span&gt; &lt;span class="n"&gt;emailAddress&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt;
            &lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="n"&gt;email&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;
                &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="nc"&gt;To&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;emailAddress&lt;/span&gt;
                  &lt;span class="nc"&gt;Body&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="s2"&gt;"TransactionId {transactionId}"&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;

            &lt;span class="k"&gt;do&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="nc"&gt;EmailReceipt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;email&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nc"&gt;Return&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;transactionId&lt;/span&gt;
        &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;None&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;transactionId&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;If &lt;code&gt;do!&lt;/code&gt; is unfamiliar then it‚Äôs basically just &lt;code&gt;let!&lt;/code&gt; except it ignores the result. Which we don‚Äôt care about when sending them email because it returns &lt;code&gt;unit&lt;/code&gt; anyway.&lt;/p&gt;

&lt;h1&gt;
  &lt;a href="#making-data-look-like-functions"&gt;
  &lt;/a&gt;
  Making data look like functions ü•∏
&lt;/h1&gt;

&lt;p&gt;The function is looking pretty nice now, but it's perhaps a bit unnatural to have to write &lt;code&gt;LookupUser(userId, Return)&lt;/code&gt; instead of just &lt;code&gt;lookupUser userId&lt;/code&gt;. It's also a bit annoying to have to constantly keep writing &lt;code&gt;Return&lt;/code&gt; as the final argument to the &lt;code&gt;ChargeUserOperation&lt;/code&gt; case constructors. Well it's easy to fix that, we can just write a "smart constructor" for each case that hides that detail away.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight fsharp"&gt;&lt;code&gt;&lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="n"&gt;lookupUser&lt;/span&gt; &lt;span class="n"&gt;userId&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="nc"&gt;LookupUser&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;userId&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nc"&gt;Return&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="n"&gt;chargeCreditCard&lt;/span&gt; &lt;span class="n"&gt;amount&lt;/span&gt; &lt;span class="n"&gt;card&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="nc"&gt;ChargeCreditCard&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;amount&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;card&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nc"&gt;Return&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="n"&gt;emailReceipt&lt;/span&gt; &lt;span class="n"&gt;email&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="nc"&gt;EmailReceipt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;email&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nc"&gt;Return&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="n"&gt;chargeUser&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;amount&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;userId&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nc"&gt;UserId&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;
    &lt;span class="n"&gt;chargeUserWorkflow&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;let&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;lookupUser&lt;/span&gt; &lt;span class="n"&gt;userId&lt;/span&gt;
        &lt;span class="k"&gt;let&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="n"&gt;transactionId&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;chargeCreditCard&lt;/span&gt; &lt;span class="n"&gt;amount&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;CreditCard&lt;/span&gt;

        &lt;span class="k"&gt;match&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;EmailAdress&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt;
        &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;Some&lt;/span&gt; &lt;span class="n"&gt;emailAddress&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt;
            &lt;span class="k"&gt;do&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;
                &lt;span class="n"&gt;emailReceipt&lt;/span&gt;
                    &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="nc"&gt;To&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;emailAddress&lt;/span&gt;
                      &lt;span class="nc"&gt;Body&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="s2"&gt;"TransactionId {transactionId}"&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;

            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;transactionId&lt;/span&gt;

        &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;None&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;transactionId&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;üî• Nice! Now the function perfectly expresses the logic of our operation. It looks just like a regular monadic function, except under the hood it's actually building up an abstract data structure that represents our desired computation, rather than invoking any real calls to real infrastructure.&lt;/p&gt;

&lt;h1&gt;
  &lt;a href="#factoring-out-a-functor"&gt;
  &lt;/a&gt;
  Factoring out a functor
&lt;/h1&gt;

&lt;p&gt;Our &lt;code&gt;chargeUser&lt;/code&gt; function is looking pretty good now, but there's some optimisations we can make to the definition of &lt;code&gt;ChargeUserOperation&lt;/code&gt;. Let's consider what would happen if we wanted to write a different computation. We'd have to write a data type with a case for each operation we want to support, plus a case for &lt;code&gt;Return&lt;/code&gt; and then finally implement &lt;code&gt;bind&lt;/code&gt; for it. Wouldn't it be nice if we could implement &lt;code&gt;bind&lt;/code&gt; once for any computation type?&lt;/p&gt;

&lt;p&gt;Let's take a look at the definition of &lt;code&gt;bind&lt;/code&gt; for &lt;code&gt;ChargeUserOperation&lt;/code&gt; again and see if we can refactor it to something a bit more generic.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight fsharp"&gt;&lt;code&gt;&lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="k"&gt;rec&lt;/span&gt; &lt;span class="n"&gt;bind&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nc"&gt;ChargeUserOperation&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;)&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nc"&gt;ChargeUserOperation&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;)&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;
    &lt;span class="k"&gt;match&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt;
    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;LookupUser&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;userId&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nc"&gt;LookupUser&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;userId&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;fun&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;bind&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="o"&gt;)))&lt;/span&gt;
    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;ChargeCreditCard&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;amount&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;card&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt;
        &lt;span class="nc"&gt;ChargeCreditCard&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;amount&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;card&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;fun&lt;/span&gt; &lt;span class="n"&gt;transactionId&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;bind&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt; &lt;span class="n"&gt;transactionId&lt;/span&gt;&lt;span class="o"&gt;)))&lt;/span&gt;
    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;EmailReceipt&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;email&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt;
        &lt;span class="nc"&gt;EmailReceipt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;email&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;fun&lt;/span&gt; &lt;span class="bp"&gt;()&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;bind&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt; &lt;span class="bp"&gt;()&lt;/span&gt;&lt;span class="o"&gt;)))&lt;/span&gt;
    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;Return&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;If we mandate that each operation must be of the form &lt;code&gt;Operation of ('inputs * (‚Äòoutput -&amp;gt; Operation&amp;lt;'next&amp;gt;)&lt;/code&gt; then they only differ by parameter types, which we could make generic. How should we do this for &lt;code&gt;ChargeCreditCard&lt;/code&gt; though, because that currently has two inputs. Well we can combine the inputs into a single tuple like this &lt;code&gt;ChargeCreditCard of ((float * CreditCard) * (TransactionId -&amp;gt; ChargeUserOperation&amp;lt;'next&amp;gt;))&lt;/code&gt;. &lt;/p&gt;

&lt;p&gt;The form of &lt;code&gt;bind&lt;/code&gt; for each operation is now identical, specifically it is &lt;code&gt;Operation(inputs, next) -&amp;gt; Operation(inputs, (fun output -&amp;gt; bind f (next output))&lt;/code&gt;. So really, we actually only have two cases to consider, either it's an &lt;code&gt;Operation&lt;/code&gt; or it's a &lt;code&gt;Return&lt;/code&gt;. So let's create a type called &lt;code&gt;Computation&lt;/code&gt; that encapsulates that.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight fsharp"&gt;&lt;code&gt;&lt;span class="k"&gt;type&lt;/span&gt; &lt;span class="nc"&gt;Computation&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;op&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;
    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;Operation&lt;/span&gt; &lt;span class="k"&gt;of&lt;/span&gt; &lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;op&lt;/span&gt;
    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;Return&lt;/span&gt; &lt;span class="k"&gt;of&lt;/span&gt; &lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;Which we can write &lt;code&gt;bind&lt;/code&gt; for to turn it into a monad.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight fsharp"&gt;&lt;code&gt;&lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="k"&gt;rec&lt;/span&gt; &lt;span class="k"&gt;inline&lt;/span&gt; &lt;span class="n"&gt;bind&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nc"&gt;Computation&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt; &lt;span class="o"&gt;^&lt;/span&gt;&lt;span class="n"&gt;op&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;)&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nc"&gt;Computation&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt; &lt;span class="o"&gt;^&lt;/span&gt;&lt;span class="n"&gt;op&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;)&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;
    &lt;span class="k"&gt;match&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt;
    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;Operation&lt;/span&gt; &lt;span class="n"&gt;op&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nc"&gt;Operation&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;op&lt;/span&gt; &lt;span class="p"&gt;|&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;map&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bind&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;))&lt;/span&gt;
    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;Return&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;The trick to making this work in the &lt;code&gt;Operation&lt;/code&gt; case is to note that we require each &lt;code&gt;Operation&lt;/code&gt; to be mappable. That is, we require it to be a functor. Mapping an operation is just a case of applying the function to the return value to transform it into something else. So by recursively calling &lt;code&gt;bind f&lt;/code&gt;, as we did when writing for this &lt;code&gt;ChargeUserOperation&lt;/code&gt;, we eventually hit the &lt;code&gt;Return&lt;/code&gt; case, get access to the return value and just apply the current &lt;code&gt;op&lt;/code&gt; to it by calling &lt;code&gt;map&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;So now when we're writing our operations we've reduced the task from having to implement &lt;code&gt;bind&lt;/code&gt; to instead having to implement &lt;code&gt;map&lt;/code&gt;, which is an easier task. For example we can express &lt;code&gt;ChargeUserOperation&lt;/code&gt; like this.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight fsharp"&gt;&lt;code&gt;&lt;span class="k"&gt;type&lt;/span&gt; &lt;span class="nc"&gt;ChargeUserOperation&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;
    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;LookupUser&lt;/span&gt; &lt;span class="k"&gt;of&lt;/span&gt; &lt;span class="nc"&gt;UserId&lt;/span&gt; &lt;span class="p"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nc"&gt;User&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;ChargeCreditCard&lt;/span&gt; &lt;span class="k"&gt;of&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="p"&gt;*&lt;/span&gt; &lt;span class="nc"&gt;CreditCard&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nc"&gt;TransactionId&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;EmailReceipt&lt;/span&gt; &lt;span class="k"&gt;of&lt;/span&gt; &lt;span class="nc"&gt;Email&lt;/span&gt; &lt;span class="p"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;unit&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="k"&gt;member&lt;/span&gt; &lt;span class="nc"&gt;Map&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;op&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;
        &lt;span class="k"&gt;match&lt;/span&gt; &lt;span class="n"&gt;op&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt;
        &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;LookupUser&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nc"&gt;LookupUser&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;next&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;ChargeCreditCard&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nc"&gt;ChargeCreditCard&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;next&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;EmailReceipt&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nc"&gt;EmailReceipt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;next&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;Unfortunately, we can't eliminate any more boilerplate beyond here in F#. In other languages like Haskell it is possible to automatically derive the &lt;code&gt;Map&lt;/code&gt; function for the operation functors, but in F# using FSharpPlus the best we can do today is write the &lt;code&gt;static member Map&lt;/code&gt; ourselves. FSharpPlus then provides us the &lt;code&gt;map&lt;/code&gt; function which will automatically pick the correct one by calling this &lt;code&gt;static member Map&lt;/code&gt; when mapping an instance of &lt;code&gt;ChargeUserOperation&lt;/code&gt; through the use of statically resolved type parameters.&lt;/p&gt;

&lt;p&gt;We just have one final change to make to the smart constructors. Now that &lt;code&gt;ChargeUserOperation&lt;/code&gt; is now just a functor, we need to lift them up into the &lt;code&gt;Computation&lt;/code&gt; monad by wrapping them in an &lt;code&gt;Operation&lt;/code&gt;.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight fsharp"&gt;&lt;code&gt;&lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="k"&gt;inline&lt;/span&gt; &lt;span class="n"&gt;lookupUser&lt;/span&gt; &lt;span class="n"&gt;userId&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="nc"&gt;LookupUser&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;userId&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nc"&gt;Return&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;|&amp;gt;&lt;/span&gt; &lt;span class="nc"&gt;Operation&lt;/span&gt;

&lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="n"&gt;chargeCreditCard&lt;/span&gt; &lt;span class="n"&gt;amount&lt;/span&gt; &lt;span class="n"&gt;card&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;
    &lt;span class="nc"&gt;ChargeCreditCard&lt;/span&gt;&lt;span class="o"&gt;((&lt;/span&gt;&lt;span class="n"&gt;amount&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;card&lt;/span&gt;&lt;span class="o"&gt;),&lt;/span&gt; &lt;span class="nc"&gt;Return&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;|&amp;gt;&lt;/span&gt; &lt;span class="nc"&gt;Operation&lt;/span&gt;

&lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="n"&gt;emailReceipt&lt;/span&gt; &lt;span class="n"&gt;email&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;
    &lt;span class="nc"&gt;EmailReceipt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;email&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nc"&gt;Return&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;|&amp;gt;&lt;/span&gt; &lt;span class="nc"&gt;Operation&lt;/span&gt;

&lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="n"&gt;chargeUser&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;amount&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;userId&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nc"&gt;UserId&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;
    &lt;span class="n"&gt;computation&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;let&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;lookupUser&lt;/span&gt; &lt;span class="n"&gt;userId&lt;/span&gt;
        &lt;span class="k"&gt;let&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="n"&gt;transactionId&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;chargeCreditCard&lt;/span&gt; &lt;span class="n"&gt;amount&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;CreditCard&lt;/span&gt;
        &lt;span class="k"&gt;match&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;EmailAddress&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt;
        &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;Some&lt;/span&gt; &lt;span class="n"&gt;emailAddress&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt;
            &lt;span class="k"&gt;do&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;
                &lt;span class="n"&gt;emailReceipt&lt;/span&gt;
                    &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="nc"&gt;To&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;emailAddress&lt;/span&gt;
                      &lt;span class="nc"&gt;Body&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="s2"&gt;"TransactionId {transactionId}"&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;

            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;transactionId&lt;/span&gt;
        &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;None&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;transactionId&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;h1&gt;
  &lt;a href="#you-just-discovered-the-free-monad"&gt;
  &lt;/a&gt;
  You just discovered the Free Monad ü•≥
&lt;/h1&gt;

&lt;p&gt;The data type we called &lt;code&gt;Computation&lt;/code&gt; is usually called &lt;code&gt;Free&lt;/code&gt;, the &lt;code&gt;Operation&lt;/code&gt; case is often called &lt;code&gt;Roll&lt;/code&gt; and the &lt;code&gt;Return&lt;/code&gt; case is often called &lt;code&gt;Pure&lt;/code&gt;. Other than that though we've discovered the basis of the free monad. It's just a data type and associated &lt;code&gt;bind&lt;/code&gt; function that fundamentally describes sequential computations.&lt;/p&gt;

&lt;p&gt;If you're a C# developer and you're familiar with LINQ then this might seem familiar to you. LINQ provides a way to build up a computation and defer its evaluation until sometime later. It's what allows LINQ to run in different environments, such as in a DB, because people are able to write interprets for it that turn the LINQ statements into SQL etc on the database server.&lt;/p&gt;

&lt;h1&gt;
  &lt;a href="#should-i-use-free-monads"&gt;
  &lt;/a&gt;
  Should I use free monads ü§î
&lt;/h1&gt;

&lt;p&gt;You might be wondering whether to use free monads in F# in your project. On the one hand they provide an excellent means of abstraction when it comes to defining computations in a domain model. They're also a joy to test because we can just interpret them as pure data and verify that for a given set of inputs we have produced the right data structure and hence computation; no more mocking üôå.&lt;/p&gt;

&lt;p&gt;Another plus is that with free monads we've actually achieved what object oriented programmers would call the interface segregation principle. Each computation only has access to the operations it needs to do its work. No more injecting wide interfaces into domain handlers and then having to write tests that verify we didn't call the wrong operation; it's literally impossible under this design!&lt;/p&gt;

&lt;p&gt;On the other hand it seems to be pushing F# to the limits as it technically requires features like higher-kinded types, which F# doesn't technically support. So we have to resort to making heavy use of statically resolved type parameters to make it work. You might also find them to be quite abstract, although I hope that this post has at least helped to make their usage seem more intuitive, even if the internal implementation is still quite abstract.&lt;/p&gt;

&lt;p&gt;On balance I don't think there's a one-size-fits-all answer here. You're going to have to weigh up the pros and cons for your project and team and decide whether this level of purity is worth it in order to warrant overcoming the initial learning curve and potentially cryptic compiler errors when things don't line up.&lt;/p&gt;

&lt;p&gt;If you're thinking of taking the plunge and giving them a try then I would recommend using &lt;a href="https://fsprojects.github.io/FSharpPlus/reference/fsharpplus-data-free.html"&gt;FSharpPlus&lt;/a&gt; which has done all the hard work of defining the free monad machinery for you. Also see the appendix at the end for a full example using FSharpPlus. &lt;/p&gt;

&lt;h1&gt;
  &lt;a href="#what-did-we-learn"&gt;
  &lt;/a&gt;
  What did we learn üßë‚Äçüéì
&lt;/h1&gt;

&lt;p&gt;The name free monad, might be cryptic and even misleading at first, but the concept is relatively straight forward. Free monads are just a data structure that represents a chain of computations that should be run sequentially. By building a data structure we're able to leave it up to someone else to come along and interpret it in anyway they see fit. They‚Äôre ‚Äúfree‚Äù to do it how they need to providing they respect the ordering of the computations in the data structure we have handed to them.&lt;/p&gt;

&lt;p&gt;A free monad is just a way for us to describe our computation in very abstract terms. We're placing the fewest restrictions possible on what the computation has to do and making no assumptions about how it should be done. We've completely decoupled the "what" from the "how", which is one of the fundamental pillars of good Domain Driven Design, because it means that the domain model is a pure abstract representation of the problem at hand unburdened by the details of how it is hosted.&lt;/p&gt;

&lt;h1&gt;
  &lt;a href="#next-time-%E2%8F%AD"&gt;
  &lt;/a&gt;
  Next time ‚è≠
&lt;/h1&gt;

&lt;p&gt;We've covered a lot in this post but we haven't talked about how we actually go about running these computations. So far we've just built some abstract representations of them in data. Next time we'll see how we can actually interpret them to do some real work.&lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#appendix"&gt;
  &lt;/a&gt;
  Appendix
&lt;/h2&gt;

&lt;p&gt;If you want to see a complete, top-to-bottom, example of writing a free monadic workflow using FSharpPlus, then I've included one in the section below.&lt;/p&gt;

&lt;p&gt;
  
  &lt;br&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight fsharp"&gt;&lt;code&gt;&lt;span class="k"&gt;type&lt;/span&gt; &lt;span class="nc"&gt;ChargeUserOperation1&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;
    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;LookupUser&lt;/span&gt; &lt;span class="k"&gt;of&lt;/span&gt; &lt;span class="nc"&gt;UserId&lt;/span&gt; &lt;span class="p"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nc"&gt;User&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;ChargeCreditCard&lt;/span&gt; &lt;span class="k"&gt;of&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="p"&gt;*&lt;/span&gt; &lt;span class="nc"&gt;CreditCard&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nc"&gt;TransactionId&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;EmailReceipt&lt;/span&gt; &lt;span class="k"&gt;of&lt;/span&gt; &lt;span class="nc"&gt;TransactionId&lt;/span&gt; &lt;span class="p"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nc"&gt;TransactionId&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;'&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="k"&gt;member&lt;/span&gt; &lt;span class="nc"&gt;Map&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;op&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;
        &lt;span class="k"&gt;match&lt;/span&gt; &lt;span class="n"&gt;op&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt;
        &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;LookupUser&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nc"&gt;LookupUser&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;next&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;ChargeCreditCard&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nc"&gt;ChargeCreditCard&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;next&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;EmailReceipt&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nc"&gt;EmailReceipt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;next&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="n"&gt;lookupUser&lt;/span&gt; &lt;span class="n"&gt;userId&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="nc"&gt;LookupUser&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;userId&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;|&amp;gt;&lt;/span&gt; &lt;span class="nn"&gt;Free&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;liftF&lt;/span&gt;

&lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="n"&gt;chargeCreditCard&lt;/span&gt; &lt;span class="n"&gt;amount&lt;/span&gt; &lt;span class="n"&gt;card&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;
    &lt;span class="nc"&gt;ChargeCreditCard&lt;/span&gt;&lt;span class="o"&gt;((&lt;/span&gt;&lt;span class="n"&gt;amount&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;card&lt;/span&gt;&lt;span class="o"&gt;),&lt;/span&gt; &lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;|&amp;gt;&lt;/span&gt; &lt;span class="nn"&gt;Free&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;liftF&lt;/span&gt;

&lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="n"&gt;emailReceipt&lt;/span&gt; &lt;span class="n"&gt;email&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;
    &lt;span class="nc"&gt;EmailReceipt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;email&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;|&amp;gt;&lt;/span&gt; &lt;span class="nn"&gt;Free&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;liftF&lt;/span&gt;

&lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="n"&gt;chargeUser&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;amount&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;userId&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nc"&gt;UserId&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt;
    &lt;span class="n"&gt;monad&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;let&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;lookupUser&lt;/span&gt; &lt;span class="n"&gt;userId&lt;/span&gt;
        &lt;span class="k"&gt;let&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt; &lt;span class="n"&gt;transactionId&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;chargeCreditCard&lt;/span&gt; &lt;span class="n"&gt;amount&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;CreditCard&lt;/span&gt;
        &lt;span class="k"&gt;match&lt;/span&gt; &lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;EmailAddress&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt;
        &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;Some&lt;/span&gt; &lt;span class="n"&gt;emailAddress&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt;
            &lt;span class="k"&gt;do&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;
                &lt;span class="n"&gt;emailReceipt&lt;/span&gt;
                    &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="nc"&gt;To&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;emailAddress&lt;/span&gt;
                      &lt;span class="nc"&gt;Body&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="s2"&gt;"TransactionId {transactionId}"&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;

            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;transactionId&lt;/span&gt;
        &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="nc"&gt;None&lt;/span&gt; &lt;span class="p"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;transactionId&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;


&lt;p&gt;When writing the smart constructors here, e.g &lt;code&gt;lookUser&lt;/code&gt; we pass the identity function, &lt;code&gt;id&lt;/code&gt;, as the second argument. The reason for this is because &lt;code&gt;Free.liftF&lt;/code&gt; maps the functor with &lt;code&gt;Pure&lt;/code&gt; and then lifts it up with &lt;code&gt;Roll&lt;/code&gt;. So by using &lt;code&gt;id&lt;/code&gt; and then writing &lt;code&gt;Free.liftF&lt;/code&gt; we end up with the desired &lt;code&gt;Roll (LookupUser(userId, Pure))&lt;/code&gt;. The other way to think of &lt;code&gt;id&lt;/code&gt; here is that in the "callback" we're just going to return the value produced by this computation and not do anything else.&lt;/p&gt;



&lt;/p&gt;

</description>
      <category>fsharp</category>
      <category>functional</category>
      <category>programming</category>
      <category>grokking</category>
    </item>
    <item>
      <title>Need for a Change of Mindset</title>
      <author>Zafer G√ºrel</author>
      <pubDate>Fri, 14 May 2021 19:03:26 +0000</pubDate>
      <link>https://dev.to/zafergurel/need-for-a-change-of-mindset-52i9</link>
      <guid>https://dev.to/zafergurel/need-for-a-change-of-mindset-52i9</guid>
      <description>&lt;p&gt;Better to introduce myself first. I am the co-founder and CTO of &lt;a href="https://advancity.com.tr/en"&gt;Advancity&lt;/a&gt;, a technology company that enables the digitalization of universities and schools. We have LMS (learning management system) and virtual classroom products that we provide as cloud services as well as on-prem.&lt;/p&gt;

&lt;p&gt;After the Covid-19 pandemic emerged last year, the demand for our services has increased substantially. Therefore, we increased our capacity in terms of servers, bandwidth, and staff.&lt;br&gt;
This unplanned and unexpected expansion on every front has brought some serious burden on everyone's shoulders. It was a challenge and we accepted it. Under such pressure, so many pipes started leaking steam.&lt;/p&gt;

&lt;p&gt;Long story short, we've come to a point that in order to cope with the increasing stress and pressure, we needed a change of mindset towards managing our systems and operations more successfully.&lt;br&gt;
The following are some of the lessons that we've learnt throughout our journey during the pandemic crisis.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Establish a decent monitoring system to continuously monitor your systems (software services, infrastructure, external services, etc.)&lt;/li&gt;
&lt;li&gt;Set-up a centralized logging system (or a few for different services) to collect log data from services.&lt;/li&gt;
&lt;li&gt;Analyze the logs and monitoring dashboards and try to find out hidden indicators that may be clues for degradation in services. This is required for being proactive.&lt;/li&gt;
&lt;li&gt;Take all errors and warnings very seriously and act on them. Try hard to find the root cause of every problem. Fix even the seemingly slightest errors.&lt;/li&gt;
&lt;li&gt;Aim for zero error. This is the ultimate goal to reach after the 4th step, which is very hard but maybe one of the most important pillars of the aforementioned mindset.&lt;/li&gt;
&lt;li&gt;Try to automate all the operations. Every installation that needs manual intervention, every configuration change, every update are the targets for this challenge. Try to start with small steps. Then aim for big changes. It really pays in the long run. It decreases human errors, standardizes processes, removes the amount of work to document now-unnecessary manual steps.&lt;/li&gt;
&lt;li&gt;Trust your people but leave room for errors. Human beings are prone to making mistakes. Accepting this fact at first is crucial and helps to change the mindset towards removing as much human intervention as possible in your operations. But you cannot automate everything. Continuously educating (mentoring, delegating important and hard tasks to get done, motivating to overcome technical challenges) the staff is vital in that sense.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;The last but not the least yet perhaps the most important aspect is to create an environment where sincere and honest communication is maintained. This leads to a healthy feedback loop, efficient operations, and happy people (staff, customers, etc.).&lt;/p&gt;

&lt;p&gt;Consequently, every organization has a different story. Yet, I believe that there are lots of overlapping parts of ours with those of others' as well. So, I hope that our findings may be of value in this regard.&lt;/p&gt;

&lt;p&gt;Note: As a non-native English writer, this is my first English blog post. Therefore, please forgive my mistakes.¬†:)&lt;/p&gt;

</description>
      <category>devops</category>
      <category>softwareengineering</category>
      <category>organizationalculture</category>
    </item>
    <item>
      <title>Know your systems failure¬†modes</title>
      <author>Fawad Khaliq</author>
      <pubDate>Fri, 14 May 2021 18:29:47 +0000</pubDate>
      <link>https://dev.to/fawadkhaliq/know-your-systems-failure-modes-4cbl</link>
      <guid>https://dev.to/fawadkhaliq/know-your-systems-failure-modes-4cbl</guid>
      <description>&lt;p&gt;Not long ago, in 2009, a behavior in the system (i.e a mode confusion) was part of the events that led to the loss of Air France Flight 447. The pilots reacted to a loss of altitude by pulling on the stick, which would have been an appropriate reaction with the autopilot fully enabled, which would then have put the aircraft in a climbing configuration. However, the airplane's systems had entered a mode of lesser automation ("direct law" in Airbus terms) due to a blocked airspeed sensor, allowing the pilots to put the plane in a nose-high stall configuration, from which they did not recover.&lt;/p&gt;

&lt;p&gt;We have come a long way in systems to build reliable software and techniques, however, systems still fail all the time. What makes some systems more prone to failure than others?&lt;/p&gt;

&lt;p&gt;Often times, we attribute failure to complexity. That's a fair answer but the experience and evolution of software says there's more to it. Running large (&lt;em&gt;in some cases, literally the largest&lt;/em&gt;), complex systems for more than a decade, one pattern I repeatedly see is failure modes or modes in general. And when not done right, modes can make a system intrinsically unstable. Every system has failure modes but the most common and nasty ones are introduced by bimodal behaviors.&lt;/p&gt;

&lt;p&gt;&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--dP0AqQzW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/wa56y8zrtk00t2azxbua.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--dP0AqQzW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/wa56y8zrtk00t2azxbua.png" alt="Alt Text"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In the book "&lt;em&gt;The Better Angels of Our Nature&lt;/em&gt;", Steven Pinker talks about how today we may be living in the most peaceful time in our species' history, despite what the news tells us. (&lt;em&gt;highly recommended if you haven't read&lt;/em&gt;)&lt;/p&gt;

&lt;p&gt;I know, it's a cheesy, weird parallel to draw here (with system failures) but today we (systems operators) may be living in the most peaceful (i.e. less oncall pain) time in our species' (systems) history. That's because years of academic research has gone into this very topic.&lt;/p&gt;

&lt;p&gt;A mode is a distinct setting within a machine interface, in which the same user input will produce perceived results different from those that it would in other circumstances. e.g. for vi, there's one mode for inserting text, and a separate mode for entering commands (&lt;em&gt;sorry, Emacs users but I'm sure you get the point&lt;/em&gt;). These are fairly benign modes that you deal with everyday and are mere nuances for beginners.&lt;/p&gt;

&lt;p&gt;However, there are modes that can cause actual production downtime. You may recognize some:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;If a Kubernetes pod normally calls a cluster local service, but can fallback to an external service under a certain condition, that's a bimodal behavior.&lt;/li&gt;
&lt;li&gt;If you call your database every 5 minutes (happy path) but in case of failure, you retry every 100 milliseconds, that's a bimodal behavior of the system.&lt;/li&gt;
&lt;li&gt;If you have an unpaginated list API call that normally returns 500 results but can sometimes return 20,000 results, that's a bimodal behavior.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Take these failure modes seriously. Bimodal/fallback behaviors are harder to test. They exercise your system in ways where "fallback path" or "secondary mode" will become less tested over time. Your primary mode will become resilient, but the day the fallback behavior kicks in (and it has latent issues), your system availability will be at risk and you will have nasty outages.&lt;/p&gt;

&lt;p&gt;Here are some alternatives to avoid bimodal behaviors in the examples I shared above:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;If a Kubernetes pod calls a cluster local service and the service is not available, instead of falling back to an external service, failover to a replica of your cluster local service or improve the reliability of your cluster local service.&lt;/li&gt;
&lt;li&gt;If you call your database every 5 minutes for the happy path, keep the same frequency when it fails. With 100ms, your database might receive a thundering herd of 3000x calls, potentially triggering another set of cascading failures (&lt;em&gt;that's a topic I will cover another day&lt;/em&gt;)&lt;/li&gt;
&lt;li&gt;Use pagination in your list API call¬†:)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Avoid bimodal behaviors when building systems. Know your failure modes. Fail cleanly and predictably. It's a simple concept that will bring more "peace" in running systems.&lt;/p&gt;

</description>
      <category>kubernetes</category>
      <category>devops</category>
      <category>distributedsystems</category>
    </item>
    <item>
      <title>Introducing Lofi Club - Enjoy Hip hop beats to Relax or Code! üéß</title>
      <author>Savio Martin</author>
      <pubDate>Fri, 14 May 2021 18:20:00 +0000</pubDate>
      <link>https://dev.to/saviomartin/introducing-lofi-club-enjoy-hip-hop-beats-to-relax-or-code-11ij</link>
      <guid>https://dev.to/saviomartin/introducing-lofi-club-enjoy-hip-hop-beats-to-relax-or-code-11ij</guid>
      <description>&lt;h2&gt;
  &lt;a href="#hello-devs"&gt;
  &lt;/a&gt;
  Hello Devs üëã
&lt;/h2&gt;

&lt;p&gt;This is Savio here. I'm young dev with an intention to enhance as a successful web developer. I love building web apps with React. I have proved my superiority in frontend technologies. Today, I'd like to share my latest project &lt;a href="https://loficlub.now.sh/"&gt;Lofi Club&lt;/a&gt;&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#little-flashback"&gt;
  &lt;/a&gt;
  Little flashback
&lt;/h3&gt;

&lt;p&gt;I'm a big fan of lofi music, In fact, many of us are. Lo-fi is a music or production quality in which elements usually regarded as imperfections of a recording or performance are audible, sometimes as a deliberate aesthetic choice. Hearing to lofi music makes us more productive. So, I thought I could make one app with the main goal as &lt;strong&gt;distraction-free lofi music&lt;/strong&gt;.&lt;/p&gt;




&lt;h2&gt;
  &lt;a href="#introducing-lofi-club"&gt;
  &lt;/a&gt;
  Introducing Lofi Club
&lt;/h2&gt;

&lt;p&gt;%[&lt;a href="https://www.youtube.com/watch?v=JD6nQrxT5LA"&gt;https://www.youtube.com/watch?v=JD6nQrxT5LA&lt;/a&gt;]&lt;/p&gt;

&lt;p&gt;Lofi Club is a place for listening to live 24/7 Lofi music. Comes with more than 17 awesome tracks that the app runs 24/7 enabling you to relax all time. Dark minimalist UI, Responsive Design, Live Chat, Distraction-free music player, to-do list, Pomodoro timer, control by keyboard, playlist, fullscreen mode makes the app super productive for daily use! So, sit back and enjoy! üôå&lt;/p&gt;

&lt;p&gt;&lt;a href="https://github.com/saviomartin/loficlub"&gt;Github Repo&lt;/a&gt; /&lt;a href="https://loficlub.now.sh/"&gt; Live Demo&lt;/a&gt;&lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#inspiration"&gt;
  &lt;/a&gt;
  Inspiration
&lt;/h2&gt;

&lt;p&gt;&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--gA_aZVjA--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://ph-files.imgix.net/84c8e5ad-9ae2-4e79-a106-135169504786.png%3Fauto%3Dformat%26auto%3Dcompress%26codec%3Dmozjpeg%26cs%3Dstrip%26w%3D507%26h%3D380%26fit%3Dmax%26dpr%3D1" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--gA_aZVjA--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://ph-files.imgix.net/84c8e5ad-9ae2-4e79-a106-135169504786.png%3Fauto%3Dformat%26auto%3Dcompress%26codec%3Dmozjpeg%26cs%3Dstrip%26w%3D507%26h%3D380%26fit%3Dmax%26dpr%3D1" alt=""&gt;&lt;/a&gt;&lt;br&gt;
I'm a fan of lofi music and always wanted to hear some freshly prepared  lofi music. I was introduced to &lt;a href="https://lofi.cafe/"&gt;lofi.cafe&lt;/a&gt; and loved the working. I just really need to expand it with much more awesome feature. Used it as my first source of inspiration. Shoutouts to &lt;a href="https://twitter.com/linuz90"&gt;@linuz90&lt;/a&gt; and &lt;a href="https://twitter.com/maridivi89"&gt;maridivi89&lt;/a&gt; for the inspiration!&lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#features"&gt;
  &lt;/a&gt;
  üéâ Features
&lt;/h2&gt;

&lt;p&gt;&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--AD38MsAH--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://raw.githubusercontent.com/saviomartin/loficlub/main/public/assets/app-screenshot.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--AD38MsAH--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://raw.githubusercontent.com/saviomartin/loficlub/main/public/assets/app-screenshot.png" alt=""&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Provides a great space for you to relax or just chill. Comes with more than 17 tracks. Dark minimalist UI makes it much more amazing. Live Chat, Pomodoro timer, control by keyboard, playlist, fullscreen mode makes the app super better than its competitors.&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#17-tracks"&gt;
  &lt;/a&gt;
  17+ tracks
&lt;/h3&gt;

&lt;p&gt;Lofi Club comes with 17+ tracks making you adjust to your mood.&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#distractionfree-music-player"&gt;
  &lt;/a&gt;
  Distraction-free music player
&lt;/h3&gt;

&lt;p&gt;Dark, Minimalist, Distraction-free UI to help you concentrate or relax. Also protects your battery life.&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#control-by-keyboard"&gt;
  &lt;/a&gt;
  Control by Keyboard
&lt;/h3&gt;

&lt;p&gt;Lofi Club supports controlling by the keyboard. You can do a bunch of things make your super productive. Here is the &lt;a href="https://loficlub.now.sh/keyboard-shortcuts"&gt;full list&lt;/a&gt;&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#live-chat-amp-realtime-live-count"&gt;
  &lt;/a&gt;
  Live Chat &amp;amp; Realtime live count
&lt;/h3&gt;

&lt;p&gt;Chat with live members, get help. Be cooperative, chill together. Enjoy with the community.&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#pomodoro-timer"&gt;
  &lt;/a&gt;
  Pomodoro Timer
&lt;/h3&gt;

&lt;p&gt;Lofi Club comes with an amazing super-complex Pomodoro timer to meet your need and stay productive.&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#stared-music-playlist"&gt;
  &lt;/a&gt;
  Stared Music Playlist
&lt;/h3&gt;

&lt;p&gt;Lofi Club allows you to create your own playlist by staring your favoirite. Buzz with that!&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#todolist"&gt;
  &lt;/a&gt;
  Todolist
&lt;/h3&gt;

&lt;p&gt;Organize daily tasks for work and life. Keep track of your doings.&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#fullscreen-mode"&gt;
  &lt;/a&gt;
  Full-Screen Mode
&lt;/h3&gt;

&lt;p&gt;Enjoy Lofi Club on full-screen mode. I know you're gonna love this.&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#pwa-installable-app"&gt;
  &lt;/a&gt;
  PWA, Installable app
&lt;/h3&gt;

&lt;p&gt;Lofi Club is a PWA, which means you can install on your local device and loads without internet/.&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#fully-responsive"&gt;
  &lt;/a&gt;
  Fully Responsive
&lt;/h3&gt;

&lt;p&gt;No matter what your device is, Lofi Club is made just for you. Enjoy lofi club in any device! üíª&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Feel free to try out: &lt;a href="https://loficlub.now.sh/"&gt;https://loficlub.now.sh/&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Star the repo ‚≠ê &lt;a href="https://github.com/saviomartin/loficlub"&gt;https://github.com/saviomartin/loficlub&lt;/a&gt;&lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#built-with"&gt;
  &lt;/a&gt;
  üíª Built with
&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="https://reactjs.org/"&gt;React&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://tailwindcss.com/"&gt;Tailwind&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;
&lt;a href="http://material-ui.com/"&gt;Material UI&lt;/a&gt;: for styling and Icons&lt;/li&gt;
&lt;li&gt;
&lt;a href="https://animate.style/"&gt;Animate.css&lt;/a&gt;: for smooth Animations&lt;/li&gt;
&lt;li&gt;
&lt;a href="https://michalsnik.github.io/aos/"&gt;AOS&lt;/a&gt;: for scroll animations&lt;/li&gt;
&lt;li&gt;
&lt;a href="https://reactrouter.com/web/guides/quick-start"&gt;react-router-dom&lt;/a&gt;: for routing&lt;/li&gt;
&lt;li&gt;
&lt;a href="https://aws.amazon.com/amplify/"&gt;Vercel&lt;/a&gt;: for hosting&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;... and much more!&lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#planning-building-and-deploying"&gt;
  &lt;/a&gt;
  Planning, Building, and Deploying
&lt;/h2&gt;

&lt;p&gt;Oh yeah, it was time-consuming, but I enjoyed it. &lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;### Designing
I used Figma for my design, I'm not an expert but I know how to do basic designing and prototyping.&lt;/li&gt;
&lt;li&gt;### Planning
Notion is an awesome tool to be cared for. It is super productive enough for me to plan my daily work. I used Pomodoro timers too, I want to be productive.&lt;/li&gt;
&lt;li&gt;### Time to code
I'm a true React lover. I created Lofi Club with react, I used a lot of amazing libraries. The animations were built with &lt;a href="https://animate.style/"&gt;Animate.css&lt;/a&gt;, used react-router-dom for routing, tailwind for styles and a bunch of amazing libraries to make everything work nice. &lt;/li&gt;
&lt;li&gt;### Deploying
Deploying was done with Vercel. I'm a big fan of Vercel. Vercel is super fast and easy to use and manage. I also setup auto GitHub deploying so I don't have to deploy everytime something changes.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;
  &lt;a href="#challenges"&gt;
  &lt;/a&gt;
  Challenges
&lt;/h2&gt;

&lt;div class="table-wrapper-paragraph"&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Challenge&lt;/th&gt;
&lt;th&gt;Solution&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Change different URLs without loading&lt;/td&gt;
&lt;td&gt;Used &lt;code&gt;react-router-dom&lt;/code&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Generate thumbnails&lt;/td&gt;
&lt;td&gt;used youtube api&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Make the app 100/100 on PWA Check&lt;/td&gt;
&lt;td&gt;Optimised app, solved errors&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Responsiveness of the app&lt;/td&gt;
&lt;td&gt;Used &lt;code&gt;@media&lt;/code&gt; queries&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;adding scroll animations&lt;/td&gt;
&lt;td&gt;Used AOS library&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Notification withing the app&lt;/td&gt;
&lt;td&gt;Used &lt;code&gt;react-toastify&lt;/code&gt; library&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;&lt;/div&gt;

&lt;h2&gt;
  &lt;a href="#%EF%B8%8F-whats-next"&gt;
  &lt;/a&gt;
  ‚ú®Ô∏è What's next
&lt;/h2&gt;

&lt;p&gt;These are some of the features, I currently have in mind.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Live Video Chat&lt;/li&gt;
&lt;li&gt;Complex todo page&lt;/li&gt;
&lt;li&gt;Collaboration&lt;/li&gt;
&lt;li&gt;Upvote a tracks&lt;/li&gt;
&lt;li&gt;Share tracks with public&lt;/li&gt;
&lt;li&gt;One tap login (Almost Completed üöÄ)&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;
  &lt;a href="#licensed-under-raw-mit-endraw-"&gt;
  &lt;/a&gt;
  üõ°Ô∏è Licensed under &lt;code&gt;MIT&lt;/code&gt;
&lt;/h3&gt;




&lt;h2&gt;
  &lt;a href="#lofi-club-needs-your-upvote"&gt;
  &lt;/a&gt;
  Lofi Club needs your Upvote
&lt;/h2&gt;

&lt;p&gt;We're on &lt;a href="https://www.producthunt.com/posts/lofi-club"&gt;producthunt&lt;/a&gt; - &lt;a href="https://www.producthunt.com/posts/loficlub"&gt;producthunt.com/posts/loficlub&lt;/a&gt;. Please help us my giving your upvote! üíñ&lt;br&gt;
&lt;a href="https://www.producthunt.com/posts/lofi-club?utm_source=badge-featured&amp;amp;utm_medium=badge&amp;amp;utm_souce=badge-lofi-club"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--4EPITjah--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://api.producthunt.com/widgets/embed-image/v1/featured.svg%3Fpost_id%3D295845%26theme%3Ddark" alt="Lofi Club - Enjoy hip hop beats to relax or study | Product Hunt"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#wrapping-up"&gt;
  &lt;/a&gt;
  üëÄ Wrapping Up
&lt;/h2&gt;

&lt;p&gt;Yeah, that's a wrap. Hope you enjoyed &lt;a href="https://loficlub.now.sh/"&gt;Lofi Club&lt;/a&gt;. Feel free to use the app. Do not hesitate to share your feedback. Share on Twitter, tag me &lt;a href="https://twitter.com/SavioMartin7"&gt;@saviomartin7&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Star the repo ‚≠ê &lt;a href="https://github.com/saviomartin/loficlub"&gt;github.com/saviomartin/loficlub&lt;/a&gt;&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#lets-connect"&gt;
  &lt;/a&gt;
  üåé Lets connect
&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="http://github.com/saviomartin"&gt;Github&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://twitter.com/saviomartin7"&gt;Twitter&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.linkedin.com/in/saviomartin/"&gt;LinkedIn&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.instagram.com/teen_developer/"&gt;Instagram&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;
  &lt;a href="#feedback"&gt;
  &lt;/a&gt;
  üé∏ Feedback
&lt;/h2&gt;

&lt;p&gt;Hash tree needs your feedback to improve. Help Hash tree by adding your valuable reviews üíñ &lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#support"&gt;
  &lt;/a&gt;
  üôå Support
&lt;/h2&gt;

&lt;p&gt;My projects are fueled by coffees ‚òï, get one for me! &lt;br&gt;
&lt;a href="https://www.buymeacoffee.com/saviomartin"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--8vsiOGpo--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://github.com/appcraftstudio/buymeacoffee/raw/master/Images/snapshot-bmc-button.png" alt=""&gt;&lt;/a&gt;&lt;/p&gt;

</description>
      <category>react</category>
      <category>javascript</category>
      <category>linux</category>
      <category>python</category>
    </item>
    <item>
      <title>Anota√ß√µes Cap√≠tulo 3: Functions</title>
      <author>Jonilson Sousa</author>
      <pubDate>Fri, 14 May 2021 18:09:17 +0000</pubDate>
      <link>https://dev.to/jonilsonds9/anotacoes-capitulo-3-functions-12gm</link>
      <guid>https://dev.to/jonilsonds9/anotacoes-capitulo-3-functions-12gm</guid>
      <description>&lt;ul&gt;
&lt;li&gt;&lt;p&gt;As fun√ß√µes permaneceram durante a evolu√ß√£o da programa√ß√£o;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;O que torna uma fun√ß√£o f√°cil de ler e entender?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;
  &lt;a href="#pequenas"&gt;
  &lt;/a&gt;
  Pequenas!
&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;‚ÄúA primeira regra para fun√ß√µes √© que elas devem ser pequenas. A segunda √© que precisam ser mais espertas do que isso‚Äù.&lt;/li&gt;
&lt;li&gt;Fun√ß√µes devem ter no m√°ximo 20 linhas;&lt;/li&gt;
&lt;li&gt;Kent Beck escreveu um programa (Java/Swing) que ele chamava de ‚ÄúSparkle‚Äù e cada fun√ß√£o desse programa tinha duas, ou tr√™s, ou quatro linhas e essa deve ser o tamanho das nossas fun√ß√µes.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;
  &lt;a href="#blocos-e-indenta%C3%A7%C3%A3o"&gt;
  &lt;/a&gt;
  Blocos e Indenta√ß√£o
&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Os blocos dentro de &lt;code&gt;if, else, while&lt;/code&gt; e outros devem ter apenas uma linha. Possivelmente uma chamada de fun√ß√£o.&lt;/li&gt;
&lt;li&gt;O n√≠vel de indenta√ß√£o de uma fun√ß√£o deve ser de, no m√°ximo, um ou dois n√≠veis.&lt;/li&gt;
&lt;li&gt;Facilita a leitura de compreens√£o das fun√ß√µes.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;
  &lt;a href="#fa%C3%A7a-uma-coisa"&gt;
  &lt;/a&gt;
  Fa√ßa uma Coisa
&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;
&lt;strong&gt;‚ÄúAS FUN√á√ïES DEVEM FAZER UMA COISA. DEVEM FAZ√ä-LA BEM. DEVEM FAZER APENAS ELA‚Äù&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Uma forma de saber se uma fun√ß√£o faz mais de ‚Äúuma coisa‚Äù √© se voc√™ pode extrair outra fun√ß√£o dela a partir de seu nome que n√£o seja apenas uma reformula√ß√£o de sua implementa√ß√£o.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;
  &lt;a href="#se%C3%A7%C3%B5es-dentro-de-fun%C3%A7%C3%B5es"&gt;
  &lt;/a&gt;
  Se√ß√µes Dentro de Fun√ß√µes
&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Se temos se√ß√µes, como declara√ß√µes, inicializa√ß√µes, √© um sinal de est√° fazendo mais de uma coisa;&lt;/li&gt;
&lt;li&gt;N√£o d√° para dividir em se√ß√µes as fun√ß√µes que fazem apenas uma coisa.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;
  &lt;a href="#um-n%C3%ADvel-de-abstra%C3%A7%C3%A3o-por-fun%C3%A7%C3%A3o"&gt;
  &lt;/a&gt;
  Um N√≠vel de Abstra√ß√£o por Fun√ß√£o
&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;V√°rios n√≠veis dentro de uma fun√ß√£o sempre geram confus√£o.&lt;/li&gt;
&lt;li&gt;Leitores podem n√£o conseguir dizer se uma express√£o determinada √© um conceito essencial ou um mero detalhe.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;
  &lt;a href="#ler-o-c%C3%B3digo-de-cima-para-baixo-regra-decrescente"&gt;
  &lt;/a&gt;
  Ler o C√≥digo de Cima para Baixo: Regra Decrescente
&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Queremos que o c√≥digo seja lido de cima para baixo, como uma narrativa.&lt;/li&gt;
&lt;li&gt;
&lt;strong&gt;Regra Decrescente&lt;/strong&gt;: Cada fun√ß√£o seja seguida pelas outras no pr√≥ximo n√≠vel de modo que possamos ler o programa descendo um n√≠vel de cada vez conforme percorremos a lista de fun√ß√µes.&lt;/li&gt;
&lt;li&gt;Acaba sendo muito dif√≠cil para programadores aprenderem a seguir essa regra e criar fun√ß√µes que fiquem em apenas um n√≠vel.&lt;/li&gt;
&lt;li&gt;√â muito importante aprender esse truque, pois ele √© o segredo para manter fun√ß√µes curtas e garantir que fa√ßam apenas ‚Äúuma coisa‚Äù.&lt;/li&gt;
&lt;li&gt;Fazer com que a leitura do c√≥digo possa ser feita de cima para baixo como uma s√©rie de par√°grafos ‚ÄùTO‚Äù √© uma t√©cnica eficiente para manter o n√≠vel consistente.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;
  &lt;a href="#estrutura-switch"&gt;
  &lt;/a&gt;
  Estrutura Switch
&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;√â dif√≠cil criar uma estrutura &lt;code&gt;switch&lt;/code&gt; pequena;&lt;/li&gt;
&lt;li&gt;Tamb√©m √© dif√≠cil criar uma que fa√ßa apenas uma coisa.&lt;/li&gt;
&lt;li&gt;Por padr√£o, os &lt;code&gt;switch&lt;/code&gt; sempre fazem muitas coisas.&lt;/li&gt;
&lt;li&gt;Mas podemos nos certificar se cada um est√° em uma classe de baixo n√≠vel e nunca √© repetido, usando o polimorfismo.&lt;/li&gt;
&lt;li&gt;A seguinte fun√ß√£o mostra apenas uma das opera√ß√µes que podem depender do tipo de funcion√°rio:
&lt;/li&gt;
&lt;/ul&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;public Money calculatePay(Employee e) throws InvalidEmployeeType {
    switch (e.type) {
        case COMMISSIONED:
            return calculateCommissionedPay(e);
        case HOURLY:
            return calculateHourlyPay(e);
        case SALARIED:
            return calculateSalariedPay(e);
        default:
            throw new InvalidEmployeeType(e.type);
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;ul&gt;
&lt;li&gt;Essa fun√ß√£o acima tem v√°rios problemas:

&lt;ul&gt;
&lt;li&gt;Primeiro: Ela √© grande, e quando adicionarmos novos tipos de funcion√°rios ela crescer√° mais ainda;&lt;/li&gt;
&lt;li&gt;Segundo: Ela faz mais de uma coisa;&lt;/li&gt;
&lt;li&gt;Terceiro: Ela viola o Princ√≠pio da Responsabilidade √önica (SRP - SOLID) por haver mais de um motivo para alter√°-la;&lt;/li&gt;
&lt;li&gt;Quarto: Ela viola o Princ√≠pio de Aberto-Fechado (OCP - SOLID), porque ela precisa ser modificada sempre que novos tipos forem adicionados;&lt;/li&gt;
&lt;li&gt;E possivelmente o pior problema √© a quantidade ilimitada de outras fun√ß√µes que ter√£o a mesma estrutura, por exemplo:
&lt;/li&gt;
&lt;/ul&gt;


&lt;/li&gt;
&lt;/ul&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;isPayday(Employee e, Date date),
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;Ou&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;deliverPay(Employee e, Money pay),
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;ul&gt;
&lt;li&gt;A solu√ß√£o nesse caso √© inserir uma estrutura switch no fundo de uma ABSTRACT FACTORY:

&lt;ul&gt;
&lt;li&gt;Assim, a factory usar√° o &lt;code&gt;switch&lt;/code&gt; para criar inst√¢ncias apropriadas derivadas de Employee;&lt;/li&gt;
&lt;li&gt;As fun√ß√µes: &lt;code&gt;calculatePay&lt;/code&gt;, &lt;code&gt;isPayday&lt;/code&gt; e &lt;code&gt;deliverPay&lt;/code&gt;, ser√£o enviadas de forma polif√≥rmica atrav√©s da interface &lt;code&gt;Employee&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;


&lt;/li&gt;
&lt;li&gt;A regra geral para estruturas &lt;code&gt;switch&lt;/code&gt; √© que s√£o aceit√°veis se aparecerem apenas uma vez para a cria√ß√£o de objetos polim√≥rficos, e se estiverem escondidas atr√°s de uma rela√ß√£o de heran√ßa de modo que o resto do sistema n√£o possa enxerg√°-la. Mas cada caso √© um caso e podem haver casos de n√£o respeitar todas essas regras.&lt;/li&gt;
&lt;li&gt;Assim temos como solu√ß√£o o seguinte c√≥digo:
&lt;/li&gt;
&lt;/ul&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;public abstract class Employee {
    public abstract boolean isPayday();
    public abstract Money calculatePay();
    public abstract void deliverPay(Money pay);
}
-----------------
public interface EmployeeFactory {
    public Employee makeEmployee(EmployeeRecord r) throws InvalidEmployeeType;
}
-----------------
public class EmployeeFactoryImpl implements EmployeeFactory {
    public Employee makeEmployee(EmployeeRecord r) throws InvalidEmployeeType {
        switch (r.type) {
            case COMMISSIONED:
                return new CommissionedEmployee(r) ;
            case HOURLY:
                return new HourlyEmployee(r);
            case SALARIED:
                return new SalariedEmploye(r);
            default:
                throw new InvalidEmployeeType(r.type);
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;h2&gt;
  &lt;a href="#use-nomes-descritivos"&gt;
  &lt;/a&gt;
  Use Nomes Descritivos
&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;√â muito importante ter bons nomes;&lt;/li&gt;
&lt;li&gt;Lembre-se do princ√≠pio de Ward: ‚ÄúVoc√™ sabe que est√° criando um c√≥digo limpo quando cada rotina que voc√™ l√™ √© como voc√™ esperava‚Äù;

&lt;ul&gt;
&lt;li&gt;Metade do esfor√ßo para satisfazer esse princ√≠pio √© escolher bons nomes para fun√ß√µes pequenas que fazem apenas uma coisa.&lt;/li&gt;
&lt;li&gt;Quanto menor e mais centralizada √© a fun√ß√£o, mais f√°cil √© pensar em um nome descritivo.&lt;/li&gt;
&lt;/ul&gt;


&lt;/li&gt;
&lt;li&gt;N√£o tenha medo de criar nomes extensos, pois eles s√£o melhores do que um pequeno e enigm√°tico. Um nome longo e descritivo √© melhor do que um coment√°rio extenso e descritivo.&lt;/li&gt;
&lt;li&gt;Experimente diversos nomes at√© encontrar um que seja bem descritivo.&lt;/li&gt;
&lt;li&gt;Seja consistente nos nomes. Use as mesmas frases, substantivos e verbos nos nomes de fun√ß√µes de seu m√≥dulo.&lt;/li&gt;
&lt;li&gt;Exemplos:

&lt;ul&gt;
&lt;li&gt;
&lt;code&gt;includeSetup-AndTeardownPages&lt;/code&gt;, &lt;code&gt;includeSetupPages&lt;/code&gt;, &lt;code&gt;includeSuiteSetupPage&lt;/code&gt; , e &lt;code&gt;includeSetupPage&lt;/code&gt;. &lt;/li&gt;
&lt;/ul&gt;


&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;
  &lt;a href="#par%C3%A2metros-de-fun%C3%A7%C3%B5es"&gt;
  &lt;/a&gt;
  Par√¢metros de Fun√ß√µes
&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;A quantidade ideal de par√¢metros para uma fun√ß√£o √© zero. Depois vem um, seguido de dois. Sempre que poss√≠vel devem-se evitar tr√™s par√¢metros. Para mais de tr√™s deve-se ter um motivo muito especial, mesmo assim n√£o devem ser usados.&lt;/li&gt;
&lt;li&gt;
&lt;strong&gt;Par√¢metros s√£o complicados&lt;/strong&gt;. Eles requerem bastante conceito.&lt;/li&gt;
&lt;li&gt;Os par√¢metros s√£o mais dif√≠ceis ainda a partir de um ponto de vista de testes:

&lt;ul&gt;
&lt;li&gt;Imagina a dificuldade de escrever todos os casos de testes para se certificar de que todas as v√°rias combina√ß√µes de par√¢metros funcionem adequadamente.;&lt;/li&gt;
&lt;li&gt;Se n√£o houver par√¢metros, essa tarefa √© simples;&lt;/li&gt;
&lt;li&gt;Se houver um, n√£o √© t√£o dif√≠cil assim;&lt;/li&gt;
&lt;li&gt;Com dois, a situa√ß√£o fica um pouco desafiadora. Com mais de dois, pode ser desencorajador testar cada combina√ß√£o de valores apropriados.&lt;/li&gt;
&lt;li&gt;Os par√¢metros de sa√≠da s√£o mais dif√≠ceis de entender do que os de entrada.&lt;/li&gt;
&lt;/ul&gt;


&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Por fim, um par√¢metro de entrada √© a melhor coisa depois de zero par√¢metro!&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;
  &lt;a href="#formas-mon%C3%A1dicas-um-par%C3%A2metro-comuns"&gt;
  &lt;/a&gt;
  Formas Mon√°dicas (Um par√¢metro) Comuns
&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Duas raz√µes para se passar um √∫nico par√¢metro a uma fun√ß√£o:

&lt;ul&gt;
&lt;li&gt;Voc√™ pode estar fazendo uma pergunta sobre aquele par√¢metro, exemplo: &lt;code&gt;boolean fileExists(‚ÄúMyFile‚Äù‚Äô)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Ou voc√™ pode trabalhar par√¢metro, transformando-o em outra coisa e retornando-o, exemplo: &lt;code&gt;InputStream fileOpen(‚ÄúMyFile‚Äù)&lt;/code&gt; transforma a &lt;code&gt;String&lt;/code&gt; do nome de um arquivo em um valor retornado por InputStream.&lt;/li&gt;
&lt;li&gt;Outro uso menos comum √© para uma fun√ß√£o de evento, neste caso h√° um par√¢metro de entrada, mas nenhum de sa√≠da. Cuidado ao usar essa abordagem!&lt;/li&gt;
&lt;/ul&gt;


&lt;/li&gt;
&lt;li&gt;Se uma fun√ß√£o vai transformar seu par√¢metro de entrada, a altera√ß√£o deve aparecer como o valor retornado. Por exemplo:
&lt;/li&gt;
&lt;/ul&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;StringBuffer transform(StringBuffer in)
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;√â melhor do que:&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;void transform(StringBuffer out)
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;h2&gt;
  &lt;a href="#par%C3%A2metros-l%C3%B3gicos"&gt;
  &lt;/a&gt;
  Par√¢metros L√≥gicos
&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Esses par√¢metros s√£o feios.&lt;/li&gt;
&lt;li&gt;Passar um booleano para uma fun√ß√£o certamente √© uma pr√°tica horr√≠vel, pois ele complica imediatamente a assinatura do m√©todo, mostrando explicitamente que a fun√ß√£o faz mais de uma coisa.&lt;/li&gt;
&lt;li&gt;Ela faz uma coisa se o valor for verdadeiro, e outra se for falso!&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;
  &lt;a href="#fun%C3%A7%C3%B5es-d%C3%ADades-dois-par%C3%A2metros"&gt;
  &lt;/a&gt;
  Fun√ß√µes D√≠ades (Dois par√¢metros)
&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;‚ÄúUma fun√ß√£o com um par√¢metro √© mais dif√≠cil de entender do que com um‚Äù.&lt;/li&gt;
&lt;li&gt;Com dois par√¢metros, √© preciso aprender a ignorar um dos par√¢metros, por√©m o local que ignoramos √© justamente onde os bugs se esconder√£o.&lt;/li&gt;
&lt;li&gt;Casos em dois par√¢metros s√£o necess√°rios:

&lt;ul&gt;
&lt;li&gt;Por exemplo, uma classe com eixos cartesianos, como por exemplo, &lt;code&gt;Point p = new Point(0, 0)&lt;/code&gt;, √© preciso ter os dois par√¢metros;&lt;/li&gt;
&lt;li&gt;Nesse caso os dois par√¢metros &lt;strong&gt;s√£o componentes de um √∫nico valor&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;


&lt;/li&gt;
&lt;li&gt;Mesmo fun√ß√µes √≥bvias como &lt;code&gt;assertEquals(expected, actual)&lt;/code&gt;, s√£o problem√°ticas!&lt;/li&gt;
&lt;li&gt;Quantas vezes j√° colocou &lt;code&gt;actual&lt;/code&gt; on deveria ser &lt;code&gt;expected&lt;/code&gt;?&lt;/li&gt;
&lt;li&gt;Os dois par√¢metros n√£o possuem uma ordem pr√©-determinada natural;&lt;/li&gt;
&lt;li&gt;A ordem &lt;code&gt;expected&lt;/code&gt;, &lt;code&gt;actual&lt;/code&gt; √© uma conven√ß√£o que requer pr√°tica para assimil√°-la.&lt;/li&gt;
&lt;li&gt;Fun√ß√µes com dois par√¢metros &lt;strong&gt;n√£o s√£o ruins&lt;/strong&gt; e vamos us√°-las!&lt;/li&gt;
&lt;li&gt;Mas devemos tentar converter essas fun√ß√µes em fun√ß√µes de um par√¢metro, usando outro m√©todo ou vari√°veis de classe ou ainda outra classe que recebe o par√¢metro no construtor.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;
  &lt;a href="#tr%C3%ADades-tr%C3%AAs-par%C3%A2metros"&gt;
  &lt;/a&gt;
  Tr√≠ades (Tr√™s par√¢metros)
&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;S√£o consideravelmente mais dif√≠ceis de entender do que as com dois par√¢metros;&lt;/li&gt;
&lt;li&gt;Pense bastante antes de criar uma tr√≠ade!&lt;/li&gt;
&lt;li&gt;O processo de ordena√ß√£o, pausa e ignora√ß√£o apresenta mais do que o dobro de dificuldade.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;
  &lt;a href="#objetos-como-par%C3%A2metro"&gt;
  &lt;/a&gt;
  Objetos como par√¢metro
&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;‚ÄúQuando uma fun√ß√£o parece precisar de mais de dois par√¢metros, √© prov√°vel que alguns desses par√¢metros devam ser agrupados em uma classe pr√≥pria‚Äù. Por exemplo:
&lt;/li&gt;
&lt;/ul&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;Circle makeCircle(double x, double y, double radius);
Circle makeCircle(Point center, double radius);
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;ul&gt;
&lt;li&gt;Criar objetos para reduzir o n√∫mero de par√¢metros pode parecer trapa√ßa, mas n√£o √©.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;
  &lt;a href="#listas-como-par%C3%A2metro"&gt;
  &lt;/a&gt;
  Listas como par√¢metro
&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Quando queremos passar um n√∫mero vari√°vel de par√¢metros para uma fun√ß√£o, como por exemplo:
&lt;/li&gt;
&lt;/ul&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;String.format("%s worked %.2f hours.", name, hours);
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;ul&gt;
&lt;li&gt;Se os par√¢metros forem todos tratados da mesma forma, eles ser√£o equivalentes a um √∫nico par√¢metro do tipo &lt;code&gt;List&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Por isso, o &lt;code&gt;String.format&lt;/code&gt; √© uma fun√ß√£o com dois par√¢metros:
&lt;/li&gt;
&lt;/ul&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;public String format(String format, Object... args)
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;h2&gt;
  &lt;a href="#verbos-e-palavraschave"&gt;
  &lt;/a&gt;
  Verbos e palavras-chave
&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Escolher bons nomes para uma fun√ß√£o pode ajudar muito a explicar a inten√ß√£o da fun√ß√£o e a ordem e a inten√ß√£o dos par√¢metros.&lt;/li&gt;
&lt;li&gt;No caso de fun√ß√£o com um par√¢metro, a fun√ß√£o e o par√¢metro devem formar um par verbo/substantivo muito bom. Por exemplo, &lt;code&gt;write(name)&lt;/code&gt;, qualquer que seja essa coisa ‚Äúname‚Äù est√° sendo ‚Äúwrite‚Äù (escrito). Um nome ainda melhor poderia ser &lt;code&gt;writeField(name)&lt;/code&gt;, que indica que o ‚Äúname‚Äù √© um campo.&lt;/li&gt;
&lt;li&gt;Por exemplo: &lt;code&gt;assertEquals&lt;/code&gt; pode ser melhor escrito como &lt;code&gt;assertExpectedEqualsActual(expected, actual)&lt;/code&gt;, assim diminui o problema de ter que lembrar a ordem dos par√¢metros.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;
  &lt;a href="#evite-efeitos-colaterais"&gt;
  &lt;/a&gt;
  Evite Efeitos Colaterais
&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;‚ÄúEfeitos colaterais s√£o mentiras‚Äù.&lt;/li&gt;
&lt;li&gt;Se a fun√ß√£o promete fazer apenas uma coisa, mas tamb√©m faz outras coisas escondidas. Vamos ter efeitos indesej√°veis. Por exemplo:
&lt;/li&gt;
&lt;/ul&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;public class UserValidator {
    private Cryptographer cryptographer;

    public boolean checkPassword(String userName, String password) {
        User user = UserGateway.findByName(userName);
        if (user != User.NULL) {
            String codedPhrase = user.getPhraseEncodedByPassword();
            String phrase = cryptographer.decrypt(codedPhrase, password);
            if ("Valid Password".equals(phrase)) {
                Session.initialize();
                return true;
            }
        }
        return false;
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;Essa fun√ß√£o de verificar a senha, tem um efeito colateral, que √© a chamada do &lt;code&gt;Session.initialize()&lt;/code&gt;, o nome &lt;code&gt;checkPassword&lt;/code&gt; indica que verifica a senha, mas n√£o indica que tamb√©m inicializa a sess√£o. Assim, podemos correr o risco de apagar os dados da sess√£o existente quando ele decidir autenticar o usu√°rio.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Assim, temos um efeito colateral de acoplamento. No caso o &lt;code&gt;checkPassword&lt;/code&gt; s√≥ pode ser chamada quando realmente formos inicializar a sess√£o, do contr√°rio dados ser√£o perdidos.&lt;/li&gt;
&lt;li&gt;Se realmente queremos manter o acoplamento dessa forma, dever√≠amos deixar expl√≠cito no nome da fun√ß√£o, como por exemplo, &lt;code&gt;checkPasswordAndInitializeSession&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;
  &lt;a href="#par%C3%A2metros-de-sa%C3%ADda"&gt;
  &lt;/a&gt;
  Par√¢metros de Sa√≠da
&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Quando precisamos reler a assinatura da fun√ß√£o para entender o que acontece com o par√¢metro de entrada, temos um problema, e isso deve ser evitado!&lt;/li&gt;
&lt;li&gt;De modo geral, devemos evitar par√¢metros de sa√≠da. Caso a fun√ß√£o precise alterar o estado de algo, mude o estado do objeto que a pertence.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;
  &lt;a href="#separa%C3%A7%C3%A3o-comandoconsulta"&gt;
  &lt;/a&gt;
  Separa√ß√£o comando-consulta
&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;As fun√ß√µes &lt;strong&gt;devem fazer ou responder algo, mas n√£o ambos&lt;/strong&gt;. Ou alterar o estado de um objeto ou retorna informa√ß√µes sobre ele.&lt;/li&gt;
&lt;li&gt;Fazer as duas tarefas costuma gerar confus√£o. Por exemplo:
&lt;/li&gt;
&lt;/ul&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;public boolean set(String attribute, String value);
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;Pode levar a instru√ß√µes estranhas como:&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;if (set("username", "unclebob"))...
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;E fica um &lt;strong&gt;caos a interpreta√ß√£o&lt;/strong&gt;, o que significa esse trecho de c√≥digo, estamos perguntando se o atributo ‚Äúusername‚Äù recebeu o valor ‚Äúunclebob‚Äù? Ou se ‚Äúusername‚Äù obteve √™xito ao receber o valor ‚Äúunclebob‚Äù?&lt;br&gt;
A inten√ß√£o neste c√≥digo acima √© ter o &lt;code&gt;set&lt;/code&gt; como um adjetivo, assim dever√≠amos ler ‚Äúse o atributo &lt;code&gt;username&lt;/code&gt; anteriormente recebeu o valor &lt;code&gt;unclebob&lt;/code&gt;, por√©m n√£o fica bem claro, para isso devemos usar o nome melhor como &lt;code&gt;setAndCheckIfExists&lt;/code&gt;, mesmo assim ainda tinhamos um c√≥digo estranho:&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;if (attributeExists("username")) {
setAttribute("username", "unclebob");
...
}
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;h2&gt;
  &lt;a href="#prefira-exce%C3%A7%C3%B5es-a-retorno-de-c%C3%B3digos-de-erro"&gt;
  &lt;/a&gt;
  Prefira exce√ß√µes a retorno de c√≥digos de erro
&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Fazer fun√ß√µes retornarem c√≥digos de erros √© uma leve viola√ß√£o da separa√ß√£o comando-consulta, pois os comandos s√£o usados como express√µes de compara√ß√£o em estruturas &lt;code&gt;if&lt;/code&gt;:
&lt;/li&gt;
&lt;/ul&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;if (deletePage(page) == E_OK)
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;ul&gt;
&lt;li&gt;Retornar c√≥digo de erro se torna um problema para quem chama a fun√ß√£o, j√° que ele vai ter que lidar com o erro e possivelmente criar estruturas aninhadas, deixando o c√≥digo muito ruim.&lt;/li&gt;
&lt;li&gt;Mas se usarmos exce√ß√µes, o c√≥digo de tratamento de erro pode ficar separado do c√≥digo e ser simplificado, por exemplo:
&lt;/li&gt;
&lt;/ul&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;try {
    deletePage(page);
    registry.deleteReference(page.name);
    configKeys.deleteKey(page.name.makeKey());
}
catch (Exception e) {
    logger.log(e.getMessage());
}
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;ul&gt;
&lt;li&gt;Extraia os blocos try/catch

&lt;ul&gt;
&lt;li&gt;Esses blocos n√£o tem o direito de serem feios;&lt;/li&gt;
&lt;li&gt;Eles confundem a estrutura do c√≥digo e misturam o tratamento de erro com o processamento normal do c√≥digo;&lt;/li&gt;
&lt;li&gt;√â melhor colocar esses blocos em suas pr√≥prias fun√ß√µes:
&lt;/li&gt;
&lt;/ul&gt;


&lt;/li&gt;
&lt;/ul&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;public void delete(Page page) {
    try {
        deletePageAndAllReferences(page);
    }
    catch (Exception e) {
        logError(e);
    }
}

private void deletePageAndAllReferences(Page page) throws Exception {
    deletePage(page);
    registry.deleteReference(page.name);
    configKeys.deleteKey(page.name.makeKey());
}

private void logError(Exception e) {
    logger.log(e.getMessage());
}
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;Assim, a fun√ß√£o &lt;code&gt;delete&lt;/code&gt; s√≥ faz o tratamento de erro, a fun√ß√£o &lt;code&gt;deletePageAndAllReferences&lt;/code&gt; s√≥ trata de processos que excluem toda p√°gina, e o log apenas adicionar a mensagem do erro no console.&lt;/p&gt;

&lt;h2&gt;
  &lt;a href="#tratamento-de-erro-%C3%A9-uma-coisa-s%C3%B3"&gt;
  &lt;/a&gt;
  Tratamento de erro √© uma coisa s√≥
&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Tratamento de erro √© uma coisa s√≥, portanto uma fun√ß√£o que trata erros n√£o deve fazer mais nada!&lt;/li&gt;
&lt;li&gt;Assim, a instru√ß√£o &lt;code&gt;try&lt;/code&gt; deve ser a primeira instru√ß√£o da fun√ß√£o e nada mais antes dela.&lt;/li&gt;
&lt;li&gt;Assim, podemos evitar o uso de classe de erros como por exemplo &lt;code&gt;Error.java&lt;/code&gt;, sendo um Enum como v√°rios erros e que tudo dependeria dessa classe.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;
  &lt;a href="#evite-repeti%C3%A7%C3%A3o"&gt;
  &lt;/a&gt;
  Evite repeti√ß√£o
&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Repeti√ß√£o √© um problema.&lt;/li&gt;
&lt;li&gt;Sempre ser√° necess√°rio modificar mais de um lugar quando o algoritmo mudar.&lt;/li&gt;
&lt;li&gt;E nisso podemos omitir erros gerando bugs.&lt;/li&gt;
&lt;li&gt;A duplica√ß√£o pode ser a raiz de todo o mal no software.&lt;/li&gt;
&lt;li&gt;Muitos princ√≠pios e pr√°ticas t√™m sido criadas com a finalidade de controlar ou eliminar a repeti√ß√£o de c√≥digo.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;
  &lt;a href="#programa%C3%A7%C3%A3o-estruturada"&gt;
  &lt;/a&gt;
  Programa√ß√£o estruturada
&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Programa√ß√£o estruturada de Edsger Dijkstra: ‚ÄúCada fun√ß√£o e bloco dentro de uma fun√ß√£o deve ter uma entrada e uma sa√≠da‚Äù.&lt;/li&gt;
&lt;li&gt;Apenas em fun√ß√µes maiores tais regras proporcionam benef√≠cios significativos.&lt;/li&gt;
&lt;li&gt;Se mantivermos fun√ß√µes pequenas, as v√°rias instru√ß√µes &lt;code&gt;return, break, continue&lt;/code&gt; n√£o trar√£o problemas.
Mas instru√ß√µes como &lt;code&gt;goto&lt;/code&gt; s√≥ devem existir em grandes fun√ß√µes e devemos evit√°-las.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;
  &lt;a href="#como-escrever-fun%C3%A7%C3%B5es-como-essa"&gt;
  &lt;/a&gt;
  Como escrever fun√ß√µes como essa?
&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Talvez n√£o seja poss√≠vel aplicar todas as regras vistas at√© aqui de in√≠cio.&lt;/li&gt;
&lt;li&gt;Nas fun√ß√µes, elas come√ßam longas e complexas, com muitos n√≠veis de indenta√ß√µes e loops aninhados, muitos par√¢metros, nomes ruins e aleat√≥rios, duplica√ß√£o de c√≥digo. &lt;/li&gt;
&lt;li&gt;Por√©m depois organizamos, refinamos o c√≥digo, dividindo em fun√ß√µes, trocamos os os nomes, removemos a duplica√ß√£o, e no fim devemos ter uma fun√ß√£o que respeite as regras vistas aqui.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;
  &lt;a href="#conclus%C3%A3o"&gt;
  &lt;/a&gt;
  Conclus√£o
&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;As fun√ß√µes s√£o os verbos e as classes os substantivos.&lt;/li&gt;
&lt;li&gt;‚ÄúEssa √© uma verdade muito antiga‚Äù.&lt;/li&gt;
&lt;li&gt;‚ÄúA arte de programar √©, e sempre foi, a arte do projeto de linguagem‚Äù (linguagem literal, narrativa).&lt;/li&gt;
&lt;li&gt;Seguindo as regras deste cap√≠tulo, suas fun√ß√µes ser√£o curtas, bem nomeadas e bem organizadas.&lt;/li&gt;
&lt;li&gt;‚ÄúMas jamais se esque√ßa de que seu objetivo verdadeiro √© contar a hist√≥ria do sistema‚Äù.&lt;/li&gt;
&lt;/ul&gt;

</description>
      <category>books</category>
      <category>codequality</category>
    </item>
    <item>
      <title>Authorization mechanisms in Rust web applications</title>
      <author>Artem Medvedev</author>
      <pubDate>Fri, 14 May 2021 18:03:49 +0000</pubDate>
      <link>https://dev.to/ddtkey/authorization-mechanisms-in-rust-web-applications-27ag</link>
      <guid>https://dev.to/ddtkey/authorization-mechanisms-in-rust-web-applications-27ag</guid>
      <description>&lt;p&gt;To ensure application security, we use mechanisms such as authentication and authorization. I think many of you are familiar with these concepts and in this article we will focus on the concept of authorization and related access control models.&lt;/p&gt;

&lt;p&gt;&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--ZgjXNBYT--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/zq2a9mm3e4gfh3guv73a.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--ZgjXNBYT--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/zq2a9mm3e4gfh3guv73a.png" alt="security"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;
  &lt;em&gt;&lt;strong&gt;Definitions of terms used in the article&lt;/strong&gt;&lt;/em&gt;
  &lt;p&gt;It's important to understand the difference between authorization and authentication:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Authentication&lt;/em&gt;&lt;/strong&gt; ‚Äì a process of verifying your identity and proving that you are a user of the system (by means of a password, token or any other form of credentials).&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;Authorization&lt;/em&gt;&lt;/strong&gt; - a mechanism whose task is to allow or deny a request for a specific system resource.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;Access subject&lt;/em&gt;&lt;/strong&gt; ‚Äì a user or process that is requesting access to the resource.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;Access object&lt;/em&gt;&lt;/strong&gt; ‚Äì on the contrary, it's a resource to which access is requested by the subject.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;Crate&lt;/em&gt;&lt;/strong&gt; ‚Äì a library or executable (binary) program in Rust.&lt;/p&gt;
&lt;/blockquote&gt;



&lt;br&gt;
&lt;br&gt;&lt;/p&gt;

&lt;p&gt;The authorization process includes the concept of &lt;strong&gt;&lt;em&gt;access control policy&lt;/em&gt;&lt;/strong&gt;, in accordance with which the set of permissible actions of a particular user (access subject) over the system resources (access objects) is determined.&lt;/p&gt;

&lt;p&gt;And also the &lt;strong&gt;&lt;em&gt;access control model&lt;/em&gt;&lt;/strong&gt; is a general scheme for delimiting access through a user policy, which we choose depending on various factors and system requirements.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Let's take a look at the basic access control models:&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;  &lt;strong&gt;DAC&lt;/strong&gt; - &lt;em&gt;Discretionary access-control&lt;/em&gt;
&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--qKDE9INZ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/3rx2bzzegyfnq8o3uwjo.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--qKDE9INZ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/3rx2bzzegyfnq8o3uwjo.png" alt="Discretionary access-control"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This paradigm allows users to independently grant the right to any action on their data to other system participants, for which &lt;em&gt;access control lists&lt;/em&gt; (&lt;strong&gt;ACL&lt;/strong&gt;) are used.&lt;/p&gt;

&lt;p&gt;Most often used in cases where users directly own certain resources and can independently decide who to allow interaction with them.&lt;/p&gt;

&lt;p&gt;An example would be operating systems or social networks, where people independently change the visibility of their content.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;  &lt;strong&gt;MAC&lt;/strong&gt; - &lt;em&gt;Mandatory access-control&lt;/em&gt;
&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--kcUzDP_C--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/atq5t9tpuy5z116vrp1u.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--kcUzDP_C--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/atq5t9tpuy5z116vrp1u.png" alt="Mandatory access-control"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It was developed for government purposes with a focus on application in extremely secure systems (for example, military), where it was most widespread.&lt;/p&gt;

&lt;p&gt;Data protection is based on confidentiality labels (level of secrecy or importance), through which the level of access of subjects is checked. As a rule, the rights are issued centrally by the management body.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;MAC&lt;/em&gt; is perhaps one of the most rigorous and secure models, but it comes with the complexity and high cost of implementing and maintaining the infrastructure around it (there are many ways that require careful planning).&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;  &lt;strong&gt;RBAC&lt;/strong&gt; - &lt;em&gt;Role-Based access-control&lt;/em&gt;
&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The most common and well-known model that fits well with business domains and correlates with job functions. It is a kind of development of &lt;em&gt;DAC&lt;/em&gt;, where privileges are grouped into their respective roles.&lt;/p&gt;

&lt;p&gt;Each subject can have a list of roles, where the role, in turn, can provide access to a certain list of objects.&lt;/p&gt;

&lt;p&gt;It should be noted that in RBAC the &lt;strong&gt;PBAC&lt;/strong&gt; (&lt;em&gt;Permission-Based access-control&lt;/em&gt;) model is sometimes allocated when a set of actions is allocated for each resource in the system (for example: &lt;code&gt;READ_DOCUMENT&lt;/code&gt;,&lt;code&gt;WRITE_DOCUMENT&lt;/code&gt;,&lt;code&gt;DELETE_DOCUMENT&lt;/code&gt;) and bind it with the subject through the relationship with roles, directly with the user, or a hybrid approach, when the subject can have a role and separate privileges.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;  &lt;strong&gt;ABAC&lt;/strong&gt; - &lt;em&gt;Attribute-Based access-control&lt;/em&gt;
&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--1DCVgHjL--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/1jr9g106oo7t46476hdx.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--1DCVgHjL--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/1jr9g106oo7t46476hdx.png" alt="Attribute-Based access-control"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In this approach, it's necessary to maintain special policies that combine the attributes of subjects and objects, and the access decision is provided based on the analysis and comparison of these attributes.&lt;/p&gt;

&lt;p&gt;This is the most flexible of the described models with a huge number of possible combinations, which allows making decisions based on such parameters as request time, location, employee position, etc., but requires more detailed planning of policies to prevent unauthorized access.&lt;/p&gt;

&lt;p&gt;ABAC requires some mechanism for interpreting policies and some syntactic subset, which can entail execution time (in the case of a dynamic implementation) or compilation (in the case of code generation).&lt;/p&gt;

&lt;p&gt;You can read more about some of the models in &lt;a href="https://cheatsheetseries.owasp.org/cheatsheets/Access_Control_Cheat_Sheet.html#permission-based-access-control"&gt;OWASP materials&lt;/a&gt; (Open Web Application Security Project) and in &lt;a href="https://www.ibm.com/docs/en/sig-and-i/10.0.0?topic=planning-access-control-models"&gt;IBM documentation&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Access control is a very important part of web applications, since it is necessary to strictly observe the delimitation of access to resources and data (especially personal ones - the protection of which is provided for by legislative aspects), depending on the privileges of users.&lt;/p&gt;


&lt;h2&gt;
  &lt;a href="#what-do-we-have-in-rust-web-frameworks"&gt;
  &lt;/a&gt;
  What do we have in Rust web frameworks?
&lt;/h2&gt;

&lt;p&gt;Typically, to implement anti-tampering mechanisms in popular web frameworks (such as actix-web, Rocket, or tide), &lt;code&gt;Middleware&lt;/code&gt;, &lt;code&gt;FromRequest&lt;/code&gt;, or &lt;code&gt;Guard&lt;/code&gt; (&lt;code&gt;Filter&lt;/code&gt; in the case of warp) implementations are used.&lt;/p&gt;

&lt;p&gt;That is, in some kind of middleware, where data about the subject and object of access can be extracted from requests. This approach is quite convenient, since it will allow you to delimit areas of responsibility.&lt;/p&gt;

&lt;p&gt;It can be both library (in the form of crates), and custom implementations. But at the moment, the preference is often given to own implementations, which is probably due to the small number of production-ready solutions and the specifics of the applied policies in various projects.&lt;/p&gt;
&lt;h3&gt;
  &lt;a href="#casbinrs"&gt;
  &lt;/a&gt;
  &lt;a href="https://github.com/casbin/casbin-rs"&gt;casbin-rs&lt;/a&gt;
&lt;/h3&gt;

&lt;p&gt;
    &lt;a href="https://github.com/casbin/casbin-rs"&gt;
        &lt;img alt="casbin-rs" src="https://res.cloudinary.com/practicaldev/image/fetch/s--6sqdmGk_--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/aajqjgvqnqy76sfxx2w2.png"&gt;
    &lt;/a&gt;
&lt;/p&gt;

&lt;p&gt;&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--yq1gbKY9--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/bgii3fx7bmatdzsrtc1l.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--yq1gbKY9--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/bgii3fx7bmatdzsrtc1l.png" alt="casbin badges"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The most complete production-ready open source solution that I have been able to find is the adaptation of Casbin (&lt;code&gt;casbin-rs&lt;/code&gt;), with an impressive number of supported access models (&lt;em&gt;ACL, RBAC, ABAC&lt;/em&gt; declared) and the ability to flexibly change policy by changing only the configuration file ...&lt;/p&gt;

&lt;p&gt;Casbin uses its own meta-model &lt;em&gt;PERM (Policy, Effect, Request, Matchers)&lt;/em&gt; to build an access model, which gives more flexibility, but introduces the cost of its interpretation and validation.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight ini"&gt;&lt;code&gt;&lt;span class="c"&gt;# Request definition
&lt;/span&gt;&lt;span class="nn"&gt;[request_definition]&lt;/span&gt;
&lt;span class="py"&gt;r&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s"&gt;sub, obj, act&lt;/span&gt;

&lt;span class="c"&gt;# Policy definition
&lt;/span&gt;&lt;span class="nn"&gt;[policy_definition]&lt;/span&gt;
&lt;span class="py"&gt;p&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s"&gt;sub, obj, act&lt;/span&gt;

&lt;span class="c"&gt;# Policy effect
&lt;/span&gt;&lt;span class="nn"&gt;[policy_effect]&lt;/span&gt;
&lt;span class="py"&gt;e&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s"&gt;some(where (p.eft == allow))&lt;/span&gt;

&lt;span class="c"&gt;# Matchers
&lt;/span&gt;&lt;span class="nn"&gt;[matchers]&lt;/span&gt;
&lt;span class="py"&gt;m&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s"&gt;r.sub == p.sub &amp;amp;&amp;amp; r.obj == p.obj &amp;amp;&amp;amp; r.act == p.act&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;When describing it, you can easily make a mistake, and therefore the &lt;a href="https://casbin.org/editor/"&gt;web editor of models&lt;/a&gt; was developed for convenient and correct modification.&lt;/p&gt;

&lt;p&gt;The administration of privileges for your system occurs through the description of the policy (in a file or database) corresponding to the PERM model format.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;p, alice, data1, read
p, bob, data2, write
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;Unfortunately, this causes a certain duplication of object and subject identifiers and is not obvious at the level of the calling code.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight rust"&gt;&lt;code&gt;&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nn"&gt;casbin&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="nn"&gt;prelude&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="nd"&gt;#[tokio::main]&lt;/span&gt;
&lt;span class="k"&gt;async&lt;/span&gt; &lt;span class="k"&gt;fn&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="k"&gt;mut&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nn"&gt;Enforcer&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;new&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"examples/acl_model.conf"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"examples/acl_policy.csv"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="k"&gt;.await&lt;/span&gt;&lt;span class="o"&gt;?&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="nf"&gt;.enable_log&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;true&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="n"&gt;sub&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"alice"&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c"&gt;// the user that wants to access a resource.&lt;/span&gt;
    &lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="n"&gt;obj&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"data1"&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c"&gt;// the resource that is going to be accessed.&lt;/span&gt;
    &lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="n"&gt;act&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"read"&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c"&gt;// the operation that the user performs on the resource.&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="nf"&gt;Ok&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;authorized&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="nf"&gt;.enforce&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;sub&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;act&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;authorized&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="c"&gt;// permit alice to read data1&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="c"&gt;// deny the request&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="c"&gt;// error occurs&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;Such a tool definitely deserves respect. Many thanks to the community for contributing to its development üëè&lt;/p&gt;

&lt;p&gt;But, as we can see, developers take into account certain nuances and sometimes want to write their own solutions from project to project, since the requirements can be defined initially, and all the flexibility provided by the library may not be needed, and therefore, we can choose a narrower and lighter solution. that meets our requirements.&lt;/p&gt;

&lt;p&gt;As it was with me when I started writing a backend in Rust. The PBAC model was enough for me, and based on my experience in developing web applications, in most typical projects, the &lt;em&gt;ACL&lt;/em&gt;/&lt;em&gt;RBAC&lt;/em&gt; models are enough.&lt;/p&gt;

&lt;p&gt;I came up with the idea of implementing my own solution as a separate open source crate: &lt;em&gt;actix-web-grants&lt;/em&gt;.&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#actixwebgrants"&gt;
  &lt;/a&gt;
  &lt;a href="https://github.com/DDtKey/actix-web-grants"&gt;actix-web-grants&lt;/a&gt;
&lt;/h3&gt;

&lt;p&gt;
    &lt;a href="https://github.com/DDtKey/actix-web-grants"&gt;
        &lt;img alt="actix-web-grants" src="https://res.cloudinary.com/practicaldev/image/fetch/s--MBkCAv_x--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/94wfabr7z24i6jl2qo4z.png"&gt;
    &lt;/a&gt;
&lt;/p&gt;

&lt;p&gt;&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--BzvpkwLw--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/8t9uf5azdyae1zcek2z9.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--BzvpkwLw--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/8t9uf5azdyae1zcek2z9.png" alt="actix-web-grants badges"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The main idea of the project is to use built-in middleware to get user privileges from a request and specify the necessary permissions directly on your endpoints.&lt;/p&gt;

&lt;p&gt;This is a fairly lightweight crate with simple integration, using which you can at least apply the following models: access lists (ACL), role-based or permission-based access control (&lt;em&gt;RBAC&lt;/em&gt;/&lt;em&gt;PBAC&lt;/em&gt;).&lt;/p&gt;

&lt;p&gt;Thus, we just need to implement the function of obtaining privileges:&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight rust"&gt;&lt;code&gt;&lt;span class="c"&gt;// Sample application with grant protection based on extracting by your custom function&lt;/span&gt;
&lt;span class="nd"&gt;#[actix_web::main]&lt;/span&gt;
&lt;span class="k"&gt;async&lt;/span&gt; &lt;span class="k"&gt;fn&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nn"&gt;std&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="nn"&gt;io&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="n"&gt;Result&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nn"&gt;HttpServer&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;new&lt;/span&gt;&lt;span class="p"&gt;(||&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="n"&gt;auth&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nn"&gt;GrantsMiddleware&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;with_extractor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;extract&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="nn"&gt;App&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;new&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
            &lt;span class="nf"&gt;.wrap&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;auth&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="nf"&gt;.service&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;})&lt;/span&gt;
    &lt;span class="nf"&gt;.bind&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"localhost:8081"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;?&lt;/span&gt;
    &lt;span class="nf"&gt;.run&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="k"&gt;.await&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;async&lt;/span&gt; &lt;span class="k"&gt;fn&lt;/span&gt; &lt;span class="nf"&gt;extract&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;_&lt;/span&gt;&lt;span class="n"&gt;req&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;ServiceRequest&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;Result&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nb"&gt;Vec&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nb"&gt;String&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Error&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c"&gt;// Here is a place for your code to get user permissions/grants/permissions from a request&lt;/span&gt;
    &lt;span class="c"&gt;// For example from a token or database&lt;/span&gt;

    &lt;span class="c"&gt;// Stub example&lt;/span&gt;
    &lt;span class="nf"&gt;Ok&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nd"&gt;vec!&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;ROLE_ADMIN&lt;/span&gt;&lt;span class="nf"&gt;.to_string&lt;/span&gt;&lt;span class="p"&gt;()])&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;This approach adds flexibility and allows us to implement authorization regardless of the methods of authentication and storage of user privileges: it can be a &lt;em&gt;JWT token&lt;/em&gt;, a &lt;em&gt;database&lt;/em&gt;, an &lt;em&gt;intermediate cache&lt;/em&gt;, or &lt;em&gt;any other solution&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Then we can place restrictions directly on our resources (via macro):&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight rust"&gt;&lt;code&gt;&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nn"&gt;actix_web_grants&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="nn"&gt;proc_macro&lt;/span&gt;&lt;span class="p"&gt;::{&lt;/span&gt;&lt;span class="n"&gt;has_roles&lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;

&lt;span class="nd"&gt;#[get(&lt;/span&gt;&lt;span class="s"&gt;"/secure"&lt;/span&gt;&lt;span class="nd"&gt;)]&lt;/span&gt;
&lt;span class="nd"&gt;#[has_roles(&lt;/span&gt;&lt;span class="s"&gt;"ROLE_ADMIN"&lt;/span&gt;&lt;span class="nd"&gt;)]&lt;/span&gt;
&lt;span class="k"&gt;async&lt;/span&gt; &lt;span class="k"&gt;fn&lt;/span&gt; &lt;span class="nf"&gt;macro_secured&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;HttpResponse&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nn"&gt;HttpResponse&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="nf"&gt;Ok&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="nf"&gt;.body&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"ADMIN_RESPONSE"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;The ability to change to access policy directly in the code is a distinctive part of &lt;em&gt;actix-web-grants&lt;/em&gt;, reducing duplication of access objects and providing us with visual information about the required privileges.&lt;/p&gt;

&lt;p&gt;For the sake of completeness, minimal examples of applications with an identical usage profile were written and the performance of the authorization process was measured (based on &lt;a href="https://github.com/wg/wrk"&gt;wrk&lt;/a&gt;) to satisfy our own interest.&lt;/p&gt;

&lt;p&gt;The examples are written with a simplified implementation of the RBAC model for two test cases of authorization: a request to a resource is allowed and denied, in accordance with the presence of the necessary roles. Stubs were used for authentication. All code is available on GitHub: &lt;em&gt;&lt;a href="https://github.com/DDtKey/actix-web-authz-benchmark"&gt;actix-web-authz-benchmark&lt;/a&gt;&lt;/em&gt; (more examples can always be found on the pages of these projects).&lt;/p&gt;

&lt;p&gt;The benchmark results can be seen in the table:&lt;/p&gt;

&lt;div class="table-wrapper-paragraph"&gt;&lt;table&gt;
   &lt;tr&gt;
       &lt;td rowspan="2"&gt;Benchmark&lt;/td&gt;
       &lt;td colspan="2"&gt;&lt;strong&gt;casbin-rs&lt;/strong&gt;&lt;/td&gt;
       &lt;td colspan="2"&gt;&lt;strong&gt;actix-web-grants&lt;/strong&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td&gt;Latency&lt;/td&gt;
   &lt;td&gt;Req/Sec&lt;/td&gt;
   &lt;td&gt;Latency&lt;/td&gt;
   &lt;td&gt;Req/Sec&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td&gt;Allowed Endpoint&lt;/td&gt;
   &lt;td&gt;6.18 ms&lt;/td&gt;
   &lt;td&gt;16.27k&lt;/td&gt;
   &lt;td&gt;4.41 ms&lt;/td&gt;
   &lt;td&gt;22.69k&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td&gt;Denied Endpoint&lt;/td&gt;
   &lt;td&gt;6.70 ms&lt;/td&gt;
   &lt;td&gt;14.98k&lt;/td&gt;
   &lt;td&gt;4.94 ms&lt;/td&gt;
   &lt;td&gt;20.23k&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;&lt;/div&gt;



&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;rustc: v1.52.0 (stable); CPU: 2,6 GHz 6-Core Intel Core i7; RAM: 16 GB&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Thus, we see that &lt;a href="https://github.com/DDtKey/actix-web-grants"&gt;actix-web-grants&lt;/a&gt; makes it easier to integrate and administer access policies over endpoints (endpoints), while not inferior in performance compared to &lt;a href="https://github.com/casbin/casbin-rs"&gt;casbin-rs&lt;/a&gt;.&lt;/p&gt;

&lt;h4&gt;
  &lt;a href="#post-scriptum"&gt;
  &lt;/a&gt;
  Post Scriptum
&lt;/h4&gt;

&lt;p&gt;This library does not yet have integrations with many web frameworks in its arsenal, but I have plans to introduce some abstractions and write modules for other frameworks, make some improvements (for example, the ability to inherit roles and support custom types). Any suggestions and contributions will be welcome!&lt;/p&gt;

</description>
      <category>rust</category>
      <category>security</category>
      <category>webdev</category>
      <category>programming</category>
    </item>
    <item>
      <title>How to build your own Utility classes using plain Scss alone</title>
      <author>Ahmed Sarhan</author>
      <pubDate>Fri, 14 May 2021 17:50:08 +0000</pubDate>
      <link>https://dev.to/ahmedsarhan/how-to-build-your-own-utility-framework-using-scss-25dh</link>
      <guid>https://dev.to/ahmedsarhan/how-to-build-your-own-utility-framework-using-scss-25dh</guid>
      <description>&lt;p&gt;In this article, we will talk and code about using couple of the amazing Sass features to give us some utility classes for spacing, justify and align content and items in the slickest way I was able to think of using a fairly small amount of code &lt;/p&gt;

&lt;p&gt;Now, the question might be why don't I just use TailwindCss or any other framework where I can just use pre-made utility classes, tbh personally I love Tailwind and might have a future article about it, but to answer the question, maybe you land a job and the company like to do everything pure sass no frameworks and believe me they do exist more than you imagine, receive a recruitment task with the same requirement "pure css or sass" or you just feel interested in trying new stuff&lt;/p&gt;

&lt;p&gt;we will be using Scss and I will be leaving a link to a GitHub repo of the code at the end of the article&lt;/p&gt;

&lt;p&gt;this article assumes you know how to set Scss to work on your project, it has different ways to it with React.js, vue.js or just static HTML so look into this according to your project&lt;/p&gt;

&lt;p&gt;So enough talk let's jump into the code part of it&lt;/p&gt;

&lt;p&gt;So there's how your folder structure should look like in regular static project:&lt;/p&gt;

&lt;p&gt;Root&lt;br&gt;
 --&amp;gt; Index.html&lt;br&gt;
 --&amp;gt; CSS "left empty" &lt;br&gt;
 --&amp;gt; Scss&lt;br&gt;
  --&amp;gt; styles.scss&lt;/p&gt;

&lt;p&gt;the CSS file should be left untouched as browsers don't understand sass, we transform scss to css through packages like node-sass &lt;br&gt;
personally I installed sass globally and ran this command in the terminal in my project root folder&lt;br&gt;
&lt;code&gt;sass --watch scss/styles.scss css/styles.css&lt;/code&gt;&lt;br&gt;
so to sum it up; our main work will be with &lt;strong&gt;syles.scss&lt;/strong&gt; and index.html&lt;/p&gt;

&lt;p&gt;this is how your index.html should look like at the start&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;html lang="en"&amp;gt;

  &amp;lt;head&amp;gt;
    &amp;lt;meta charset="UTF-8"&amp;gt;
    &amp;lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&amp;gt;
    &amp;lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&amp;gt;
    &amp;lt;link rel="stylesheet" href="css/styles.css"
    &amp;lt;title&amp;gt;Scss Tutorial&amp;lt;/title&amp;gt;
  &amp;lt;/head&amp;gt;

  &amp;lt;body&amp;gt;
    &amp;lt;div&amp;gt;

    &amp;lt;/div&amp;gt;
  &amp;lt;/body&amp;gt;

&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;As you can see pretty basic html file, and it's connected to the css file and not scss file and this because as we mentioned earlier browsers don't  understand scss so we need to convert it to plain css&lt;/p&gt;

&lt;p&gt;Now what we aim to accomplish is to make spacing utility classes for margin and padding e.g : &lt;code&gt;&amp;lt;div class="my-3 ml-2 mx-2 my-auto&lt;/code&gt;&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#spacing-utility-classes"&gt;
  &lt;/a&gt;
  Spacing Utility Classes
&lt;/h3&gt;

&lt;p&gt;now the idea of using scss in not to create each class on its own but rather create all the classes dynamically with one piece of code &lt;/p&gt;

&lt;p&gt;Granted, it won't be a small piece of code but it will much smaller and faster than creating it using plain css&lt;/p&gt;

&lt;p&gt;so this is how you will create it&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;$spaceAmounts: (1, 2, 3, 4, 5, 6, 7, 8, auto);

@each $space in $spaceAmounts {
  @if $space==auto {
    .m-#{$space} {
      margin: #{$space};
    }

    .mx-#{$space} {
      margin-left: #{$space};
      margin-right: #{$space};
    }

    .my-#{$space} {
      margin-top: #{$space};
      margin-bottom: #{$space};

    }

    .ml-#{$space} {
      margin-left: #{$space};
    }

    .mr-#{$space} {
      margin-right: #{$space};
    }

    .mb-#{$space} {
      margin-bottom: #{$space};
    }

    .mt-#{$space} {
      margin-top: #{$space};
    }
  }

  @else {
    .m-#{$space} {
      margin: #{$space}rem;
    }

    .mx-#{$space} {
      margin-left: #{$space}rem;
      margin-right: #{$space}rem;
    }

    .my-#{$space} {
      margin-top: #{$space}rem;
      margin-bottom: #{$space}rem;

    }

    .ml-#{$space} {
      margin-left: #{$space}rem;
    }

    .mr-#{$space} {
      margin-right: #{$space}rem;
    }

    .mb-#{$space} {
      margin-bottom: #{$space}rem;
    }

    .mt-#{$space} {
      margin-top: #{$space}rem;
    }

    .p-#{$space} {
      padding: #{$space}rem;
    }

    .px-#{$space} {
      padding-left: #{$space}rem;
      padding-right: #{$space}rem;
    }

    .py-#{$space} {
      padding-top: #{$space}rem;
      padding-bottom: #{$space}rem;

    }

    .pl-#{$space} {
      padding-left: #{$space}rem;
    }

    .pr-#{$space} {
      padding-right: #{$space}rem;
    }

    .pb-#{$space} {
      padding-bottom: #{$space}rem;
    }

    .pt-#{$space} {
      padding-top: #{$space}rem;
    }
  }
}

&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;The idea is simple, you are going to make a variable list of the amounts of space you want to make classes of, then  loop through these amounts and create your own classes, the tricky part is with &lt;code&gt;margin-auto&lt;/code&gt; utility classes and for that we shall use the if statement of scss ... pretty slick I know&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#align-amp-justify-utility-classes"&gt;
  &lt;/a&gt;
  Align &amp;amp; Justify Utility Classes
&lt;/h3&gt;

&lt;p&gt;now one more trick using the same concept&lt;/p&gt;

&lt;p&gt;while working with css3 flex box and grid system, we use css properties like;&lt;br&gt;
&lt;code&gt;justify-content, align-items, justify-items&lt;/code&gt; a lot and using the same trick we are going to create our own utility classes for them using yet another piece of code&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;$alignments: ("center", "space-between", "space-around", "space-evenly", "flex-start", "flex-end");

@each $align in $alignments {
  .justify-#{$align} {
    justify-content: #{$align};
  }

  .items-#{$align} {
    align-items: #{$align};
  }

  .justify-items-#{$align} {
    justify-items: #{$align};
  }

  .content-#{$align} {
    align-content: #{$align};
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;now the idea is the same as for spacing but the class names are going to be a bit different, e.g &lt;code&gt;items-center&lt;/code&gt; class is equal to &lt;code&gt;align-items: center&lt;/code&gt; css property&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#display-and-textalign-utility-classes"&gt;
  &lt;/a&gt;
  Display and Text-Align Utility Classes
&lt;/h3&gt;

&lt;p&gt;similarly enough we are going to make our display and text-align utility classes &lt;/p&gt;

&lt;p&gt;here's our code for them&lt;/p&gt;

&lt;h4&gt;
  &lt;a href="#display-classes"&gt;
  &lt;/a&gt;
  Display classes
&lt;/h4&gt;



&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;$displayProps: ("block", "inline-block", "inline", "flex", "grid", "inline-flex", "inline-grid", "table", "inline-table", "list-item", "none", "contents");

@each $disp in $displayProps {
  .d-#{$disp} {
    display: #{$disp};
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;h4&gt;
  &lt;a href="#text-align-classes"&gt;
  &lt;/a&gt;
  Text Align classes
&lt;/h4&gt;



&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;$textAlignments: ("left", "right", "center", "revert");

@each $textAlign in $textAlignments {
  .text-#{$textAlign} {
    text-align: #{$textAlign};
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;now hit save, make sure new classes are added in your css/styles.css and take a look at all the new utility classes we just created in few minutes using that few lines of code&lt;/p&gt;

&lt;p&gt;No it is time to try our classes in the Html file&lt;br&gt;
here's how the body of the html file should look like&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt; &amp;lt;body&amp;gt;
    &amp;lt;div class="d-flex justify-center items-center my-3 mx-auto"&amp;gt;
      &amp;lt;div class="pt-2 pb-4 px-3"&amp;gt;
        &amp;lt;h3 class="text-center"&amp;gt;This plain Scss&amp;lt;/h3&amp;gt;
      &amp;lt;/div&amp;gt;
      &amp;lt;div class="pt-2 pb-4 px-3"&amp;gt;
        &amp;lt;h3 class="text-right"&amp;gt;It's amazing&amp;lt;/h3&amp;gt;
      &amp;lt;/div&amp;gt;
    &amp;lt;/div&amp;gt;
    &amp;lt;div class="d-grid scss-grid"&amp;gt;
      &amp;lt;div class="px-3 py-2"&amp;gt;
        &amp;lt;ul&amp;gt;
          &amp;lt;li&amp;gt;List item&amp;lt;/li&amp;gt;
          &amp;lt;li&amp;gt;another list item&amp;lt;/li&amp;gt;
          &amp;lt;li&amp;gt;one more of those&amp;lt;/li&amp;gt;
        &amp;lt;/ul&amp;gt;
      &amp;lt;/div&amp;gt;
      &amp;lt;div class="pt-2 pb-3 px-2"&amp;gt;
        &amp;lt;h3 class="text-center"&amp;gt;Pretty Dope stuff&amp;lt;/h3&amp;gt;
        &amp;lt;p class="text-left"&amp;gt;Lorem ipsum dolor sit amet consectetur adipisicing elit. Nisi libero maxime adipisci quos,
          asperiores omnis?
        &amp;lt;/p&amp;gt;
      &amp;lt;/div&amp;gt;
    &amp;lt;/div&amp;gt;
  &amp;lt;/body&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;as you can see I have used all the classes we have created to create the following image &lt;br&gt;
&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--7t7mO77V--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/masas9esa0o6bhaij1n2.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--7t7mO77V--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/masas9esa0o6bhaij1n2.png" alt="Final Shape"&gt;&lt;/a&gt;&lt;br&gt;
pretty basic I'm very aware, but I'm sure you too are aware of the possibilities of all you can build with this&lt;br&gt;
you can also realize I have a custom class called &lt;strong&gt;scss-grid&lt;/strong&gt; in my second main div, this is a class I applied to this one css property in my main scss file&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;.scss-grid {
  grid-template-columns: repeat(2, minmax(0, 1fr));
}
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;I will also encourage you to try on your own to solve the scss-grid issue with the same way we did with all those utility classes, maybe create some classes for box-shadow, font-size, font-weight, text and background colors and many more and share with me your thoughts&lt;/p&gt;

&lt;p&gt;Thank you for joining me today &lt;/p&gt;

&lt;p&gt;you can also reach me on twitter  @SuperSarhan15&lt;/p&gt;

&lt;p&gt;you can check the code from here: &lt;a href="https://github.com/AhmedSarhan/scss-utilites-"&gt;GitHubRepo&lt;/a&gt;&lt;br&gt;
I also included the plain css files so you can read through them&lt;/p&gt;

</description>
      <category>saas</category>
      <category>frontend</category>
      <category>css</category>
    </item>
    <item>
      <title>üîÑ C# 9.0 Features and Expectations of C# 10</title>
      <author>Dotnetsafer</author>
      <pubDate>Fri, 14 May 2021 17:22:35 +0000</pubDate>
      <link>https://dev.to/dotnetsafer/c-9-0-features-and-expectations-of-c-10-n7c</link>
      <guid>https://dev.to/dotnetsafer/c-9-0-features-and-expectations-of-c-10-n7c</guid>
      <description>&lt;p&gt;&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--ze8VBWtC--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/c54ps3axcpfrtuyxcyqy.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--ze8VBWtC--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/c54ps3axcpfrtuyxcyqy.png" alt="csharp"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The latest version of &lt;em&gt;C#, 9.0,&lt;/em&gt; was officially released with¬†&lt;em&gt;.NET 5&lt;/em&gt; in November 2020. These days there are already rumors of the features of the future version, &lt;strong&gt;C# 10&lt;/strong&gt;. ‚úÖ&lt;/p&gt;

&lt;p&gt;One of the biggest advantages of open source software is being able to &lt;strong&gt;see how the project evolves over time&lt;/strong&gt; as the days go by. With this we want to refer to the same &lt;em&gt;C#&lt;/em&gt;, since we can follow its progress on GitHub and see its main news.&lt;/p&gt;

&lt;p&gt;Let's start with &lt;strong&gt;the most important features&lt;/strong&gt; of &lt;em&gt;C# 9.0&lt;/em&gt; ü§ó&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#module-initializers"&gt;
  &lt;/a&gt;
  üîº Module Initializers
&lt;/h3&gt;

&lt;p&gt;In this latest version of &lt;em&gt;C # 9.0&lt;/em&gt;, the &lt;em&gt;[ModuleInitializer]&lt;/em&gt; attribute is used to specify a method that we can invoke before any code in the module, the destination method must be static, without any type of parameter and returned empty.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight csharp"&gt;&lt;code&gt;
&lt;span class="k"&gt;using&lt;/span&gt; &lt;span class="nn"&gt;system&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;using&lt;/span&gt; &lt;span class="nn"&gt;System.Runtime.CompilerServices&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Program&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="k"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;Main&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;Console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;WriteLine&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;$"Data=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;Data&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="s"&gt;"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;Data&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;ModuleInitializer&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="k"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;Init&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;Data&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"This static method is invoked before any other method in the module"&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;h3&gt;
  &lt;a href="#extension-getenumerator"&gt;
  &lt;/a&gt;
  üîº Extension GetEnumerator
&lt;/h3&gt;

&lt;p&gt;The foreach statement normally operates on a variable of type &lt;em&gt;IEnumerator &lt;/em&gt; when it contains a definition of any public extension for &lt;em&gt;GetEnumerator&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;This is how we can see it in this example üëá&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight csharp"&gt;&lt;code&gt;&lt;span class="k"&gt;using&lt;/span&gt; &lt;span class="nn"&gt;system&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;using&lt;/span&gt; &lt;span class="nn"&gt;System.Collections.Generic&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="n"&gt;IEnumerator&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;colors&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;List&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;"blue"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"red"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"green"&lt;/span&gt;&lt;span class="p"&gt;}.&lt;/span&gt;&lt;span class="nf"&gt;GetEnumerator&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="k"&gt;foreach&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;colors&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="n"&gt;colors&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;Console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;WriteLine&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;$"&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="s"&gt; is my favorite color"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Extensions&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="n"&gt;IEnumerator&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;GetEnumerator&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt; &lt;span class="n"&gt;IEnumerator&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;enumerator&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;enumerator&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;h3&gt;
  &lt;a href="#covariant-return%C2%A0types"&gt;
  &lt;/a&gt;
  üîº Covariant Return¬†Types
&lt;/h3&gt;

&lt;p&gt;In &lt;em&gt;C# 9.0&lt;/em&gt;, the return types of override methods are usually much more specific than the declarations in the base type üëá&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight csharp"&gt;&lt;code&gt;
&lt;span class="k"&gt;abstract&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Weather&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;abstract&lt;/span&gt; &lt;span class="n"&gt;Temperature&lt;/span&gt; &lt;span class="nf"&gt;GetTemperature&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Spain&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Weather&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;override&lt;/span&gt; &lt;span class="n"&gt;Celsius&lt;/span&gt; &lt;span class="nf"&gt;GetTemperature&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nf"&gt;Celsius&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;USA&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Weather&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;override&lt;/span&gt; &lt;span class="n"&gt;Farenheit&lt;/span&gt; &lt;span class="nf"&gt;GetTemperature&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;ne&lt;/span&gt; &lt;span class="nf"&gt;Farenheit&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Temperature&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Celsius&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Farenheit&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;The &lt;em&gt;GetTemperature ()&lt;/em&gt; method has the return type &lt;em&gt;Temperature&lt;/em&gt;, the derived class Spain overrides this method and returns a specific type &lt;em&gt;Celsius&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;It is a feature that makes our code &lt;strong&gt;more flexible&lt;/strong&gt;. ‚úÖ&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#init%C2%A0accessor"&gt;
  &lt;/a&gt;
  üîº Init¬†Accessor
&lt;/h3&gt;

&lt;p&gt;The init accessor makes immutable objects easier to create and use üëá&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight csharp"&gt;&lt;code&gt;
&lt;span class="n"&gt;Point&lt;/span&gt; &lt;span class="n"&gt;point1&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Y&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;span class="n"&gt;Console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;WriteLine&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;point1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;ToString&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;

&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="n"&gt;record&lt;/span&gt; &lt;span class="n"&gt;Point&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;init&lt;/span&gt;&lt;span class="p"&gt;;}&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;Y&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;init&lt;/span&gt;&lt;span class="p"&gt;;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;The init accessor can be used with Structures, &lt;em&gt;Registers&lt;/em&gt; and &lt;em&gt;Classes&lt;/em&gt;. The init accessor can be used with &lt;em&gt;Classes, Structures, and Registers&lt;/em&gt; üëá&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight csharp"&gt;&lt;code&gt;
&lt;span class="n"&gt;Point&lt;/span&gt; &lt;span class="n"&gt;point1&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Y&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;span class="n"&gt;Point&lt;/span&gt; &lt;span class="n"&gt;point2&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;point1&lt;/span&gt; &lt;span class="n"&gt;with&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;Y&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="m"&gt;4&lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;span class="n"&gt;Console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;WriteLine&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;point1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;ToString&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;

&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="n"&gt;record&lt;/span&gt; &lt;span class="n"&gt;Point&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;init&lt;/span&gt;&lt;span class="p"&gt;;}&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;Y&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;init&lt;/span&gt;&lt;span class="p"&gt;;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;h3&gt;
  &lt;a href="#records"&gt;
  &lt;/a&gt;
  üîº Records
&lt;/h3&gt;

&lt;p&gt;Now we have a new type of reference called record that gives us equal value. To better understand it, we have this example üëá&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight csharp"&gt;&lt;code&gt;
&lt;span class="n"&gt;Point&lt;/span&gt; &lt;span class="n"&gt;point1&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="n"&gt;Console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;WriteLine&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;point1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;ToString&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
&lt;span class="n"&gt;Point&lt;/span&gt; &lt;span class="n"&gt;point2&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)};&lt;/span&gt;
&lt;span class="n"&gt;Console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;WriteLine&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;point1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;Equals&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;point2&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;

&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="n"&gt;record&lt;/span&gt; &lt;span class="n"&gt;Point&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;}&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;Y&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;}&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="nf"&gt;Point&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;As we can see, the point record is immutable, you can greatly simplify the syntax using init accesor, since its properties are read-only.&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#lambda-discard-parameters"&gt;
  &lt;/a&gt;
  üîº Lambda Discard Parameters
&lt;/h3&gt;

&lt;p&gt;The next &lt;em&gt;C# 9.0&lt;/em&gt; improvement is being able to use discard (_) as an input parameter of a lambda expression in case that parameter is not used.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight csharp"&gt;&lt;code&gt;
&lt;span class="c1"&gt;//C#8&lt;/span&gt;
&lt;span class="n"&gt;button&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Click&lt;/span&gt; &lt;span class="p"&gt;+=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;Message&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Box&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;Show&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Button clicked"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt; &lt;span class="p"&gt;};&lt;/span&gt;

&lt;span class="c1"&gt;//C#9&lt;/span&gt;
&lt;span class="n"&gt;button&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Click&lt;/span&gt; &lt;span class="p"&gt;+=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;_&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;_&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;Message&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Box&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;Show&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Button clicked"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt; &lt;span class="p"&gt;};&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;It is a feature that also allows us to read the code in a &lt;strong&gt;cleaner&lt;/strong&gt; and more beautiful way.&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#targettyped-new"&gt;
  &lt;/a&gt;
  üîº Target-Typed new
&lt;/h3&gt;

&lt;p&gt;Another very important feature in this latest version of &lt;em&gt;C#&lt;/em&gt; is the ability to omit the type of a new expression when the object type is explicitly known.&lt;/p&gt;

&lt;p&gt;Let's see a quick and simple example üëá&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight csharp"&gt;&lt;code&gt;
&lt;span class="n"&gt;Point&lt;/span&gt; &lt;span class="n"&gt;point&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Y&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;span class="n"&gt;Console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;WriteLine&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;$"point:(&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;point1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="s"&gt;, &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;point&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Y&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="s"&gt;)"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Point&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;set&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;Y&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;set&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;It is a very useful feature since it allows you to read the code in a clean way without having to duplicate the type.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight csharp"&gt;&lt;code&gt;
&lt;span class="n"&gt;Point&lt;/span&gt; &lt;span class="n"&gt;point&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="n"&gt;Console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;WriteLine&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;$"point:(&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;point1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="s"&gt;, &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;point&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Y&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="s"&gt;)"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Point&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;

    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;Y&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="nf"&gt;Point&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;h3&gt;
  &lt;a href="#toplevel-statements"&gt;
  &lt;/a&gt;
  üîº Top-Level Statements
&lt;/h3&gt;

&lt;p&gt;In C# 9.0, it is possible to write a top-level program after using declarations.&lt;/p&gt;

&lt;p&gt;Here we can see the example üëá&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight csharp"&gt;&lt;code&gt;
&lt;span class="k"&gt;using&lt;/span&gt; &lt;span class="nn"&gt;System&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="n"&gt;Console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;WriteLine&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Hello World!"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;With top-level declarations, you wouldn't need to declare any space between names, main method, or class program. This new feature can be very useful for programmers just starting out, as the compiler does all of these things for you.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight csharp"&gt;&lt;code&gt;
&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;CompilerGenerated&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="k"&gt;internal&lt;/span&gt; &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="nc"&gt;program&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;private&lt;/span&gt; &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="k"&gt;void&lt;/span&gt; &lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;Console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;WriteLine&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Hello World!"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;Seeing the new features in &lt;em&gt;C# 9.0&lt;/em&gt;, which help make programming &lt;strong&gt;much simpler&lt;/strong&gt; and &lt;strong&gt;more intuitive&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;What can we expect in the future version?&lt;/p&gt;

&lt;p&gt;Okay, let's talk about the future version üëá&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;
&lt;em&gt;What could bring new?&lt;/em&gt; ü§î&lt;/li&gt;
&lt;li&gt;
&lt;em&gt;What would you like me to have?&lt;/em&gt; ü§î&lt;/li&gt;
&lt;li&gt;
&lt;em&gt;What is the possibility of it being added?&lt;/em&gt;ü§î&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Note that the upcoming features are still &lt;strong&gt;debatable&lt;/strong&gt; and are not certain to appear in &lt;em&gt;C# 10&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Keep in mind that they are not simply ideas or contributions from the community. These features that I am going to mention are being shuffled by its developers. And although they are not implemented in the next version, today they are being refined so that they come out in future versions of C#.&lt;/p&gt;

&lt;p&gt;Let's start üëç&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#filelevel-namespaces"&gt;
  &lt;/a&gt;
  üîº File-level namespaces
&lt;/h3&gt;

&lt;p&gt;All of us when we started programming in &lt;em&gt;C#&lt;/em&gt; we have created a &lt;em&gt;"Hello World"&lt;/em&gt; application. Knowing this we also know that &lt;em&gt;C#&lt;/em&gt; uses a block structure for namespaces.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight csharp"&gt;&lt;code&gt;
&lt;span class="k"&gt;namespace&lt;/span&gt; &lt;span class="nn"&gt;HelloWorld&lt;/span&gt;
 &lt;span class="p"&gt;{&lt;/span&gt;
 &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Hello&lt;/span&gt;
 &lt;span class="p"&gt;{&lt;/span&gt; 
     &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="k"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;Main&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
     &lt;span class="p"&gt;{&lt;/span&gt;
         &lt;span class="n"&gt;System&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;WriteLine&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Hello World!"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
     &lt;span class="p"&gt;}&lt;/span&gt;
 &lt;span class="p"&gt;}&lt;/span&gt;
 &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;The best thing about this is that namespaces can be overlaid very easily, simply by nesting blocks. In the same way that a single file can contain types in any combination of namespaces and multiple files can share the same namespace between them.&lt;/p&gt;

&lt;p&gt;If we want to scratch the negative part a bit, this system adds a bit of indentation if we compare it with bracket languages such as &lt;em&gt;JavaScript&lt;/em&gt; or &lt;em&gt;Java&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;The question we ask ourselves at this point is:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Is it possible to keep that functionality, but at the same time reduce excess indentation?&lt;/strong&gt; ü§î&lt;/p&gt;

&lt;p&gt;Yes ‚úÖ&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;How is it possible?&lt;/strong&gt; ü§î&lt;/p&gt;

&lt;p&gt;It simply opened that entering namespaces with file scope, this would allow to establish a default namespace that would be applied automatically to the entire file eliminating the indentation.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight csharp"&gt;&lt;code&gt;
&lt;span class="k"&gt;namespace&lt;/span&gt; &lt;span class="nn"&gt;HelloWorld&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Hello&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="k"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;Main&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;System&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;WriteLine&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Hello World!"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;It is normal to only have one file scoped namespace per file, so there would be no problem. Likewise, most &lt;em&gt;C#&lt;/em&gt; code files do not include more than one namespace.&lt;/p&gt;

&lt;p&gt;If for example we add a namespace block to a file that uses a file-scoped namespace, a nested namespace is simply created.&lt;/p&gt;

&lt;p&gt;Let's see a quick example üëá&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight csharp"&gt;&lt;code&gt;
&lt;span class="k"&gt;namespace&lt;/span&gt; &lt;span class="nn"&gt;Company.Product&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;Company&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Product&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Component&lt;/span&gt;

&lt;span class="k"&gt;namespace&lt;/span&gt; &lt;span class="nn"&gt;Component&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;It is clear that it is not a very big feature, but it is preferable that the more improvements there are, the easier and more intuitive the task of programming will be.&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#primary-constructors"&gt;
  &lt;/a&gt;
  üîº Primary constructors
&lt;/h3&gt;

&lt;p&gt;In the latest released versions of &lt;em&gt;C#&lt;/em&gt;, the topic of boilerplate code has been reduced considerably with features like automatic properties.&lt;/p&gt;

&lt;p&gt;The main improvement of this is not simply reducing the amount of code that is written, but reducing the amount of code that has to be read. It makes navigating code bases &lt;strong&gt;easier&lt;/strong&gt; and &lt;strong&gt;reduces the most common places where errors can occur&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Primary constructors are a very good implementation that would again reduce the amount of code that is written. We can see it with this simple example that has a class that has a constructor and two read-only properties.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight csharp"&gt;&lt;code&gt;
&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;DataSlice&lt;/span&gt;
 &lt;span class="p"&gt;{&lt;/span&gt;
   &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;DataLabel&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
   &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;DataValue&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;

   &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="nf"&gt;DataSlice&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;dataLabel&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;dataValue&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
   &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="n"&gt;DataLabel&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;dataLabel&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
      &lt;span class="n"&gt;DataValue&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;dataValue&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
   &lt;span class="p"&gt;}&lt;/span&gt;
 &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;What the statistics tell us, is that &lt;strong&gt;70%&lt;/strong&gt; of its classes have constructors, and more than &lt;strong&gt;90%&lt;/strong&gt; of all of them simply do nothing more than copy parameters into properties.&lt;/p&gt;

&lt;p&gt;If you haven't written any kind of constructor code yet, don't worry as we can still create and use the class in the same way.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight csharp"&gt;&lt;code&gt;
&lt;span class="kt"&gt;var&lt;/span&gt; &lt;span class="n"&gt;adultData&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nf"&gt;DataSlice&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Vaccinated adults"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;741&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;By using the main constructor, property validation is not excluded. In the same way, its rules can be enforced in a property setter.&lt;/p&gt;

&lt;p&gt;Let's see an example üëá&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight csharp"&gt;&lt;code&gt;
&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;DataSlice&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;dataLabel&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;dataValue&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
 &lt;span class="p"&gt;{&lt;/span&gt;
 &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;DataLabel&lt;/span&gt;
 &lt;span class="p"&gt;{&lt;/span&gt;
   &lt;span class="k"&gt;get&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;dataLabel&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
   &lt;span class="k"&gt;set&lt;/span&gt;
   &lt;span class="p"&gt;{&lt;/span&gt;
     &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;value&lt;/span&gt; &lt;span class="p"&gt;&amp;lt;&lt;/span&gt; &lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;throw&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nf"&gt;ArgumentOutOfRangeException&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
     &lt;span class="n"&gt;dataLabel&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="k"&gt;value&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
   &lt;span class="p"&gt;}&lt;/span&gt;
 &lt;span class="p"&gt;}&lt;/span&gt;
 &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;float&lt;/span&gt; &lt;span class="n"&gt;DataValue&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="k"&gt;get&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;dataValue&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt; 
 &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;Other details are also possible (calling the base constructor in a derived class, adding constructors). The main downside to all of this is that the primary constructors could collide with the position registers.&lt;/p&gt;

&lt;h3&gt;
  &lt;a href="#raw-string%C2%A0literals"&gt;
  &lt;/a&gt;
  üîº Raw string¬†literals
&lt;/h3&gt;

&lt;p&gt;We already know that the ordinary strings that &lt;em&gt;C#&lt;/em&gt; has, tend to be quite messy since they need quotation marks &lt;strong&gt;('')&lt;/strong&gt;, newlines &lt;strong&gt;(\ n)&lt;/strong&gt; and backslashes &lt;strong&gt;()&lt;/strong&gt;. What &lt;em&gt;C#&lt;/em&gt; offers before this little problem is the use of special characters.&lt;/p&gt;

&lt;p&gt;For example, we can prefix a string with @ and have free rein to add all these details without any problem üëá&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight csharp"&gt;&lt;code&gt;&lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"c:\\path\\backslashes"&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s"&gt;@"c:\pathh\backslashes"&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;What the raw string literal string allows is to create new paths to avoid escaping problems. Using the delimiter of a series of quotes followed by a line break to start, and a line break followed by the same number of quotes to close.&lt;/p&gt;

&lt;p&gt;To understand it more simply, I leave you this example below üëá&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight csharp"&gt;&lt;code&gt;
&lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;xml&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"""
&lt;/span&gt;          &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;part&lt;/span&gt; &lt;span class="n"&gt;number&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"2021"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
            &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;year&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
            &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;description&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt; &lt;span class="k"&gt;is&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;actual&lt;/span&gt; &lt;span class="n"&gt;year&lt;/span&gt;
             &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;ref&lt;/span&gt; &lt;span class="n"&gt;part&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"2020"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;year&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="k"&gt;ref&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;actual&lt;/span&gt; &lt;span class="n"&gt;year&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;
            &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="n"&gt;description&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
          &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="n"&gt;part&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
          &lt;span class="s"&gt;""";
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;If your concern is that there is a possibility of a triple quote sequence within the string, you can simply extend the delimiter so that you can use all the quotes you want, as long as the beginning and end are respected.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight csharp"&gt;&lt;code&gt;
&lt;span class="kt"&gt;string&lt;/span&gt; &lt;span class="n"&gt;xml&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s"&gt;""""&lt;/span&gt; 
             &lt;span class="n"&gt;Now&lt;/span&gt; &lt;span class="s"&gt;""" is safe to use in your raw string.
&lt;/span&gt;             &lt;span class="s"&gt;""""&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;In the same way as @ strings, newlines and whitespace are preserved in a raw string. What happens is that the common white space, that is, the amount that is used to bleed, is cut off.&lt;/p&gt;

&lt;p&gt;Let's see more simply with an example üëá&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight csharp"&gt;&lt;code&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;part&lt;/span&gt; &lt;span class="n"&gt;number&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"2021"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
            &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;year&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
            &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;description&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt; &lt;span class="k"&gt;is&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;actual&lt;/span&gt; &lt;span class="n"&gt;year&lt;/span&gt;
             &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;ref&lt;/span&gt; &lt;span class="n"&gt;part&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"2020"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;year&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="k"&gt;ref&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;actual&lt;/span&gt; &lt;span class="n"&gt;year&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;
            &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="n"&gt;description&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
          &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="n"&gt;part&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;To this üëá&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight csharp"&gt;&lt;code&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;part&lt;/span&gt; &lt;span class="n"&gt;number&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"2021"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;year&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;description&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt; &lt;span class="k"&gt;is&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;actual&lt;/span&gt; &lt;span class="n"&gt;year&lt;/span&gt;
   &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;ref&lt;/span&gt; &lt;span class="n"&gt;part&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"2021"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;year&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="k"&gt;ref&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;actual&lt;/span&gt; &lt;span class="n"&gt;year&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="n"&gt;description&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="n"&gt;part&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;With this I want to explain to you that the raw strings are not intended to replace the @ strings that you are using right now.&lt;/p&gt;

&lt;p&gt;Rather, they are prepared for the specific moments when you need a marked block or arbitrary code and in turn you need a coding approach that is guaranteed to be safe.&lt;/p&gt;

&lt;p&gt;üü¢ Conclution:&lt;/p&gt;

&lt;p&gt;To finish this article, my conclusion is that C# still has many years of travel ahead of it and it still has many things to add to make the task of programming even easier and more optimal.&lt;/p&gt;

&lt;p&gt;What do you think?ü§î&lt;/p&gt;

</description>
      <category>dotnet</category>
      <category>csharp</category>
      <category>netcore</category>
    </item>
    <item>
      <title>What was your win this week?</title>
      <author>Gracie Gregory (she/her)</author>
      <pubDate>Fri, 14 May 2021 17:17:42 +0000</pubDate>
      <link>https://dev.to/devteam/what-was-your-win-this-week-7cj</link>
      <guid>https://dev.to/devteam/what-was-your-win-this-week-7cj</guid>
      <description>&lt;p&gt;Hey there!&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Looking back on your week ‚Äî what was something you're proud of?&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;All wins count ‚Äî big or small üéâ&lt;/p&gt;

&lt;p&gt;Examples of 'wins' include:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Starting a new project&lt;/li&gt;
&lt;li&gt;Fixing a tricky bug&lt;/li&gt;
&lt;li&gt;Exploring a new neighborhood in your town ... or whatever else might spark joy ‚ù§Ô∏è &lt;/li&gt;
&lt;/ul&gt;




&lt;p&gt;Happy Friday!&lt;/p&gt;

&lt;p&gt;&lt;a href="https://i.giphy.com/media/fdlcvptCs4qsM/giphy.gif" class="article-body-image-wrapper"&gt;&lt;img src="https://i.giphy.com/media/fdlcvptCs4qsM/giphy.gif" alt="Dog in hammock"&gt;&lt;/a&gt;&lt;/p&gt;

</description>
      <category>discuss</category>
      <category>weeklyretro</category>
    </item>
    <item>
      <title>Missing Azure REST APIs. Need not Worry</title>
      <author>Ilyas F</author>
      <pubDate>Fri, 14 May 2021 17:10:52 +0000</pubDate>
      <link>https://dev.to/ilyasit83/missing-azure-rest-apis-need-not-worry-36nb</link>
      <guid>https://dev.to/ilyasit83/missing-azure-rest-apis-need-not-worry-36nb</guid>
      <description>&lt;p&gt;&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--_IROmIIm--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/k7z5c3xj5yvrhavy9kj2.jpeg" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--_IROmIIm--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/k7z5c3xj5yvrhavy9kj2.jpeg" alt="Alt Text"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Today I came across a situation where I had to automate the process of creating and setting up an Azure IoT Central solution entirely using Azure REST APIs and found they are not available or not documented as of May 14th, 2021. However, you would definitely find &lt;code&gt;AZ CLI&lt;/code&gt; commands available, finding the REST APIs for the specific action is very simple. &lt;/p&gt;

&lt;p&gt;&lt;a href="https://docs.microsoft.com/en-us/cli/azure/iot/central?view=azure-cli-latest"&gt;Azure IoT Central - AZ CLI commands&lt;/a&gt;&lt;br&gt;
&lt;a href="https://docs.microsoft.com/en-us/rest/api/iotcentral/"&gt;Azure IoT Central - REST API reference&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This gap might be fixed when you read this article in the future, so I highly recommend to refer the &lt;a href="https://docs.microsoft.com/en-us/rest/api/iotcentral/"&gt;Azure IoT Central - REST API reference&lt;/a&gt; to check if the APIs are documented. &lt;/p&gt;
&lt;h2&gt;
  &lt;a href="#the-solution-az-cli-to-the-rescue"&gt;
  &lt;/a&gt;
  The Solution - AZ CLI to the rescue
&lt;/h2&gt;

&lt;p&gt;Login to your &lt;code&gt;AZ CLI&lt;/code&gt; and set the default subscription.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight console"&gt;&lt;code&gt;&lt;span class="go"&gt;az login
&lt;/span&gt;&lt;span class="gp"&gt;az account set -s &amp;lt;&amp;lt;subscription name or id&amp;gt;&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;Next fire the respective AZ CLI command that you didn't find the REST API, in my case creating a new Azure IoT Central App with the &lt;strong&gt;--debug&lt;/strong&gt; argument.&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight console"&gt;&lt;code&gt;&lt;span class="go"&gt;az iot central app create --name myiotcentral001
                          --resource-group rg_iotcentral
                          --subdomain myiotcentral001
                          --debug
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;This will generate a lot of debugging statements, but give your attention to the lines where it makes a call to the REST API. Refer to the below screenshot. &lt;/p&gt;

&lt;p&gt;&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--kIBxtz30--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/9lpuk51wq81bxtqplqep.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--kIBxtz30--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/9lpuk51wq81bxtqplqep.png" alt="Alt Text"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;So you know, how to find the REST APIs of Azure!&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;Happy Azure!&lt;/strong&gt;&lt;/p&gt;

</description>
      <category>azure</category>
      <category>azcli</category>
      <category>azurerestapi</category>
      <category>restfulapi</category>
    </item>
  </channel>
</rss>
